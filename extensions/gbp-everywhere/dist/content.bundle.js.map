{"version":3,"file":"content.bundle.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzZA;AACA;AASA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AAAA;AAEA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAGA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAGA;AAGA;AACA;AACA;AAEA;AACA;AAGA;AAGA;AACA;AACA;AAEA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAIA;AAAA;AAAA;AAAA;AACA;AAIA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAGA;AAEA;AAGA;AACA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAhBA;AAAA;AAAA;AAiBA;AACA;AAEA;AAEA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAGA;;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AAEA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AAGA;AACA;AAEA;AAGA;AAAA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAGA;AAEA;AAAA;AAAA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AA7DA;AAAA;AAAA;AAAA;AA8DA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACzuBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AACA;AAKA;AAEA;AAGA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAIA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAKA;AAEA;AAEA;AACA;AAMA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AAEA;AAMA;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAKA;AAAA;AACA;AAGA;AAEA;AAAA;AACA;AACA;AAEA;AAKA;AAAA;AACA;AAKA;AAGA;AAKA;AAAA;AACA;AAKA;AAGA;AAKA;AAAA;AACA;AAMA;AAEA;AAGA;AAAA;AACA;AAOA;AACA;AACA;AAKA;AAEA;AAIA;AAAA;AACA;AAOA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AAOA;AACA;AACA;AAIA;AAGA;AAEA;AAIA;AACA;AACA;AAMA;AAKA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AAEA;AAMA;AACA;AAEA;AAOA;AACA;AACA;AAEA;AAOA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAMA;AAEA;AACA;AACA;AAKA;AACA;;;;;;;;;;;;;;;;;;;;ACpdA;AACA;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AAEA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AACA;AAKA;AAEA;AAGA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AAKA;AAAA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAIA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAYA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AC5iBA;AAEA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AAIA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAGA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;ACrOA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAMA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AAQA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AAOA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAsBA;AAIA;AAEA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC/HA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAOA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAGA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAYA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAEA;AAEA;AAAA;AACA;AAEA;AAIA;AAAA;AAAA;AAYA;AAEA;AAEA;AACA;AAIA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AAEA;AAIA;AAAA;AAYA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AAEA;AAIA;AAAA;AAYA;AAEA;AAEA;AACA;AAGA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AAEA;AAIA;AAAA;AAYA;AAEA;AAEA;AACA;AAGA;AACA;AAEA;AAEA;AAEA;AAAA;AACA;AAEA;AAGA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AAAA;AAIA;AAAA;AAIA;AAEA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AAIA;AACA;AAGA;AACA;AACA;AAGA;AAEA;AAEA;AAMA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;;AAMA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAMA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAMA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAMA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAMA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAMA;AAEA;AAKA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAMA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AAMA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAMA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAMA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAMA;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;AC78BA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBA;AAEA;AAEA;AAIA;AACA;AAwDA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAIA;;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAeA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAYA;AACA;AASA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAOA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAQA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAMA;AACA;AACA;AAEA;AACA;AACA;AAgBA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAgBA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AAgBA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AACA;AAgBA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AAOA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AASA;AACA;AACA;AAQA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAiBA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;;;;;;;;;;;;;;;AC7uBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACj2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AChbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC99CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACtiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnGA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAOA;AACA;AACA;AACA;AACA;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AAMA;AAIA;AAMA;AAIA;AAMA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAKA;AACA;AAEA;AACA;AACA;AAGA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAIA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAMA;AAGA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAeA;AAEA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAeA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAYA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AAIA;AACA;AACA;AACA;AAEA;AAIA;AACA;AAGA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AAMA;AAGA;AAEA;AACA;AAGA;AACA;AACA;AAGA;AAMA;AAGA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AAMA;AAGA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AAMA;AAGA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AAMA;AAGA;AAEA;AACA;;AAEA;;AAEA;AAIA;AAEA;AAGA;AAGA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAYA;AACA;AAEA;AAEA;AAEA;AAGA;AACA;AApDA;AAAA;AAAA;AAqDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAKA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AAKA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAIA;AAGA;AAGA;;AAEA;AACA;AAQA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AAKA;AACA;AAIA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAKA;AACA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAIA;AACA;AAIA;AAGA;AACA;AACA;AAEA;AACA;AAIA;AAIA;AACA;AACA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAIA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAOA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AAIA;AACA;AAIA;AACA;AAKA;AACA;AAIA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAIA;AAGA;AACA;AACA;AACA;AAKA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAGA;AACA;AAKA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://gmbeverywhere/./js/audit-gmb/audit-extension-code.js","webpack://gmbeverywhere/./js/audit-gmb/display-final-review.js","webpack://gmbeverywhere/./js/audit-gmb/find-business-rank.js","webpack://gmbeverywhere/./js/audit-gmb/local-scan-logic.js","webpack://gmbeverywhere/./js/audit-gmb/scrape-posts.js","webpack://gmbeverywhere/./js/audit-gmb/scrape-reviews.js","webpack://gmbeverywhere/./js/feature-flag-and-constants.js","webpack://gmbeverywhere/./js/google-search.js","webpack://gmbeverywhere/./js/local-finder.js","webpack://gmbeverywhere/./js/logger.js","webpack://gmbeverywhere/./js/utility.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/assign/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/format/formatters/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/format/longFormatters/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/getUTCWeek/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/protectedTokens/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/requiredArgs/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/setUTCDay/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/setUTCISODay/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/setUTCISOWeek/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/setUTCWeek/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/_lib/toInteger/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/addDays/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/addHours/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/addMilliseconds/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/addMinutes/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/addMonths/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/addWeeks/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/addYears/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/format/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/isValid/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/locale/en-US/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/parse/_lib/parsers/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/parse/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/subMilliseconds/index.js","webpack://gmbeverywhere/./node_modules/date-fns/esm/toDate/index.js","webpack://gmbeverywhere/webpack/bootstrap","webpack://gmbeverywhere/webpack/runtime/define property getters","webpack://gmbeverywhere/webpack/runtime/hasOwnProperty shorthand","webpack://gmbeverywhere/webpack/runtime/make namespace object","webpack://gmbeverywhere/./js/content.js"],"sourcesContent":["import { codeConstants, geMode } from \"../feature-flag-and-constants\";\r\nimport * as Utility from \"../utility\";\r\n\r\nfunction GetValuesFromPageScript(windowArray, isCodeInDirectPage) {\r\n  let categories = [];\r\n  let businessName = \"\";\r\n  let phoneNumber = \"\";\r\n  let placeId = \"\";\r\n  let kgId = \"\";\r\n  let address = \"\";\r\n  let website = \"\";\r\n  let latlong;\r\n  let averageReviewRating, numberOfReviews;\r\n  let isBusinessVerified = false;\r\n  let cidValue = \"\";\r\n  let businessProfileId = \"\";\r\n  let subsetOfOriginalArray;\r\n\r\n  if (isCodeInDirectPage === true) {\r\n    subsetOfOriginalArray = windowArray[6];\r\n  } else if (typeof (windowArray[0][1][0][14]) !== \"undefined\") {\r\n    subsetOfOriginalArray = windowArray[0][1][0][14];\r\n  } else if (typeof (windowArray[0][1][1][14]) !== \"undefined\") {\r\n    subsetOfOriginalArray = windowArray[0][1][1][14];\r\n  }\r\n  try {\r\n    categories = subsetOfOriginalArray[13];\r\n    businessName = subsetOfOriginalArray[11];\r\n\r\n\r\n    if (\r\n      subsetOfOriginalArray[178] && subsetOfOriginalArray[178][0] && subsetOfOriginalArray[178][0][3]) {\r\n      phoneNumber = subsetOfOriginalArray[178][0][3];\r\n    } else {\r\n      phoneNumber = \"\";\r\n    }\r\n    if (subsetOfOriginalArray[4] && subsetOfOriginalArray[4][7] && subsetOfOriginalArray[4][8]) {\r\n      averageReviewRating = subsetOfOriginalArray[4][7];\r\n      numberOfReviews = subsetOfOriginalArray[4][8];\r\n    } else {\r\n      averageReviewRating = 0;\r\n      numberOfReviews = 0;\r\n    }\r\n    if (subsetOfOriginalArray && subsetOfOriginalArray[78]) {\r\n      placeId = subsetOfOriginalArray[78];\r\n    } else {\r\n      placeId = \"\";\r\n    }\r\n\r\n    if (subsetOfOriginalArray && subsetOfOriginalArray[89]) {\r\n      kgId = subsetOfOriginalArray[89];\r\n    } else {\r\n      kgId = \"\";\r\n    }\r\n\r\n    if (subsetOfOriginalArray && subsetOfOriginalArray[2]) {\r\n      address = subsetOfOriginalArray[2];\r\n    } else {\r\n      address = \"\";\r\n    }\r\n\r\n    if (subsetOfOriginalArray && subsetOfOriginalArray[7] && subsetOfOriginalArray[7][0]) {\r\n      website = subsetOfOriginalArray[7][0];\r\n    } else {\r\n      website = \"\";\r\n    }\r\n\r\n    if (subsetOfOriginalArray && subsetOfOriginalArray[9] && subsetOfOriginalArray[9][2] && subsetOfOriginalArray[9][3]) {\r\n      latlong = {\r\n        \"lat\": subsetOfOriginalArray[9][2],\r\n        \"long\": subsetOfOriginalArray[9][3]\r\n\r\n      };\r\n    } else {\r\n      latlong = {\r\n        \"lat\": \"\",\r\n        \"long\": \"\"\r\n\r\n      };\r\n    }\r\n    if (subsetOfOriginalArray && subsetOfOriginalArray[49]) {\r\n      isBusinessVerified = false;\r\n    } else {\r\n      isBusinessVerified = true;\r\n    }\r\n\r\n    try {\r\n      if (subsetOfOriginalArray && subsetOfOriginalArray[181] && subsetOfOriginalArray[181][5]) {\r\n        businessProfileId = subsetOfOriginalArray[181][5];\r\n      } else if (subsetOfOriginalArray && subsetOfOriginalArray[227] && subsetOfOriginalArray[227][0] && subsetOfOriginalArray[227][0][5]) {\r\n        businessProfileId = subsetOfOriginalArray[227][0][5];\r\n      } else {\r\n        businessProfileId = \"\";\r\n      }\r\n      \r\n    } catch (error) {\r\n      businessProfileId = \"\";\r\n    }\r\n   \r\n    try {\r\n      if ( subsetOfOriginalArray && subsetOfOriginalArray[126] && subsetOfOriginalArray[126][4] ) {\r\n\r\n          let url = new URL(subsetOfOriginalArray[126][4]);\r\n          cidValue = url.searchParams.get('ludocid');\r\n    \r\n      } else if ( subsetOfOriginalArray && subsetOfOriginalArray[126] && subsetOfOriginalArray[126][5] ) {\r\n\r\n        let url = new URL(subsetOfOriginalArray[126][5]);\r\n        cidValue = url.searchParams.get('ludocid');\r\n  \r\n    } else {\r\n        cidValue = \"\";\r\n      }\r\n      \r\n    } catch (error) {\r\n      cidValue = \"\";\r\n    }\r\n\r\n\r\n\r\n  } catch{}\r\n\r\n\r\n  return { categories, phoneNumber, businessName, numberOfReviews, averageReviewRating, placeId, kgId, address, website, latlong, isBusinessVerified, cidValue, businessProfileId };\r\n}\r\n\r\n\r\nlet createGUID = () => {\r\n\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n    return v.toString(16);\r\n  });\r\n}\r\n\r\nlet writeBusinessValueToStorageAndOpenExternalWindow = (existingValue, uniqueBusinessDetails, uniqueGUIDKey, auditType, dataUniqueCode) => {\r\n  if (existingValue === undefined) {\r\n    existingValue = [uniqueBusinessDetails];\r\n  }\r\n  else {\r\n    existingValue.push(uniqueBusinessDetails);\r\n  }\r\n\r\n  let maximumStorageSizeAudit = codeConstants[\"audit-dashboard\"][\"maximum-array-size-for-audit-details\"];\r\n  if (existingValue.length > maximumStorageSizeAudit) {\r\n    existingValue = existingValue.slice(-maximumStorageSizeAudit);\r\n  }\r\n\r\n  chrome.storage.local.set({ 'ge-business-details-key': existingValue }, function () {\r\n\r\n\r\n    let teleportDashboardUrl = codeConstants[\"teleport-dashboard\"][\"dashboard-url\"],\r\n        aiAuditPageUrl = codeConstants[\"ai-audit\"][\"dashboard-url\"],\r\n        basicAuditUrl = codeConstants[\"audit-dashboard\"][\"basic-audit-url\"],\r\n        reviewAuditUrl = codeConstants[\"audit-dashboard\"][\"review-audit-url\"];      \r\n    if (auditType === \"basic-audit\") {\r\n      Utility.getUrlAppendUserInformationAndForward(basicAuditUrl + \"?ge-mode=business-details&audit-type=basic&unique-code=\" + uniqueGUIDKey + \"&data-unique-code=\" + dataUniqueCode + \"&dashboard-data=\" + encodeURIComponent(JSON.stringify(uniqueBusinessDetails[\"value\"])));\r\n    } else if( auditType === \"review-audit\") {\r\n      if (uniqueBusinessDetails[\"value\"][\"number-of-review\"] > 0) {\r\n        // Add n to the end of the URL to prevent the URL from being truncated because of added fragment (#) by google map\r\n        window.open(\"https://search.google.com/local/reviews?hl=en-us&placeid=\" + uniqueBusinessDetails[\"value\"][\"place-id\"] + \"&ge-mode=\"+  geMode[\"scrapping-review-page\"][\"ge-mode\"] +  \"&unique-code=\" + uniqueGUIDKey + \"&number-of-reviews=\" + uniqueBusinessDetails[\"value\"][\"number-of-review\"] + \"n\");\r\n      } else {\r\n        Utility.getUrlAppendUserInformationAndForward(reviewAuditUrl + \"?ge-mode=business-details&audit-type=review&unique-code=\" + uniqueGUIDKey + \"&dashboard-data=\" + encodeURIComponent(JSON.stringify(uniqueBusinessDetails[\"value\"])));\r\n      }\r\n    } else if (auditType === \"post-audit\") {\r\n      window.open(\"https://www.google.com/search?kgmid=\" + uniqueBusinessDetails[\"value\"][\"kg-id\"] + \"&hl=en-us&ge-mode=\" + geMode[\"scrapping-post-page\"][\"ge-mode\"] + \"&unique-code=\" + uniqueGUIDKey +\"#lpstate=pid:-1\");\r\n    } else if (auditType === \"teleport\") {\r\n      Utility.getUrlAppendUserInformationAndForward(teleportDashboardUrl + \"?ge-mode=business-details&audit-type=basic&unique-code=\" + uniqueGUIDKey + \"&dashboard-data=\" + encodeURIComponent(JSON.stringify(uniqueBusinessDetails[\"value\"])));\r\n    } else if (auditType === \"ai-audit\") {\r\n      Utility.getUrlAppendUserInformationAndForward(aiAuditPageUrl + \"?ge-mode=business-details&audit-type=ai&unique-code=\" + uniqueGUIDKey + \"&dashboard-data=\" + encodeURIComponent(JSON.stringify(uniqueBusinessDetails[\"value\"])));\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\nlet AuditInformationLogic = (urlLocation, propertyHowAccessedCategories, HowCorrectCategoryFoundEnum, auditType) => {\r\n  if (propertyHowAccessedCategories === HowCorrectCategoryFoundEnum.GMBScriptOnPage) {\r\n    try {\r\n      let processedTxt = Utility.pickupScriptStringFromPage();\r\n\r\n      if (processedTxt && processedTxt.length > 5) {\r\n        const windowArray = JSON.parse(processedTxt.substring(5));\r\n\r\n        let { categories, businessName, numberOfReviews, averageReviewRating, placeId, kgId, address, website, latlong, phoneNumber, isBusinessVerified, cidValue, businessProfileId } = GetValuesFromPageScript(windowArray, true);\r\n\r\n        let { uniqueGUIDKey, uniqueBusinessDetails } = createJSONForStorage(uniqueBusinessDetails, businessName, categories, placeId, kgId, averageReviewRating, numberOfReviews, address, website, latlong, phoneNumber, isBusinessVerified, cidValue, businessProfileId);\r\n        writeToStorageAndForwardHandler(uniqueBusinessDetails, uniqueGUIDKey, auditType, windowArray);\r\n\r\n      }\r\n    } catch(e) {\r\n      Utility.forwardToErrorPage({\r\n        auditType: auditType,\r\n        error: e\r\n      });\r\n      return;\r\n    }\r\n  } else if (propertyHowAccessedCategories === HowCorrectCategoryFoundEnum.GMBScriptWithDirectLocation || propertyHowAccessedCategories === HowCorrectCategoryFoundEnum.GMBScriptWithNearLocation) {\r\n    callGoogleMap(urlLocation, (data) => {\r\n      try {\r\n        const processedTxt = data && data[3] ? data[3][2] : \"\";\r\n\r\n        if (processedTxt && processedTxt.length > 5) {\r\n          const windowArray = JSON.parse(processedTxt.substring(5));\r\n          try {\r\n\r\n            let { categories, businessName, numberOfReviews, averageReviewRating, placeId, kgId, address, website, latlong, phoneNumber, isBusinessVerified, cidValue, businessProfileId } = GetValuesFromPageScript(windowArray, false);\r\n\r\n            let { uniqueGUIDKey, uniqueBusinessDetails } = createJSONForStorage(uniqueBusinessDetails, businessName, categories, placeId, kgId, averageReviewRating, numberOfReviews, address, website, latlong, phoneNumber, isBusinessVerified, cidValue, businessProfileId);\r\n\r\n            writeToStorageAndForwardHandler(uniqueBusinessDetails, uniqueGUIDKey, auditType, windowArray);\r\n\r\n          } catch(e) {\r\n            throw new Error(e);\r\n           }\r\n\r\n        } else {\r\n        }\r\n      } catch(e) {\r\n        Utility.forwardToErrorPage({\r\n          auditType: auditType,\r\n          error: e\r\n        });\r\n        return;\r\n      }\r\n    })\r\n  } else if (propertyHowAccessedCategories === HowCorrectCategoryFoundEnum.ExactLink) {\r\n    callGoogleMap(urlLocation, (data) => {\r\n      try {\r\n        const processedTxt = data && data[3] ? data[3][6] : \"\";\r\n        if (processedTxt && processedTxt.length > 5) {        \r\n          const windowArray = JSON.parse(processedTxt.substring(5));\r\n          const categories = windowArray[6][13];\r\n\r\n          if (categories && categories.length) {\r\n            let {\r\n              categories,\r\n              businessName,\r\n              numberOfReviews,\r\n              averageReviewRating,\r\n              placeId,\r\n              kgId,\r\n              address,\r\n              website,\r\n              latlong,\r\n              phoneNumber,\r\n              isBusinessVerified,\r\n              cidValue, \r\n              businessProfileId\r\n            } = GetValuesFromPageScript(windowArray, true);\r\n            let { uniqueGUIDKey, uniqueBusinessDetails } = createJSONForStorage(\r\n              uniqueBusinessDetails,\r\n              businessName,\r\n              categories,\r\n              placeId,\r\n              kgId,\r\n              averageReviewRating,\r\n              numberOfReviews,\r\n              address,\r\n              website,\r\n              latlong,\r\n              phoneNumber,\r\n              isBusinessVerified,\r\n              cidValue,\r\n              businessProfileId\r\n            );\r\n            writeToStorageAndForwardHandler(uniqueBusinessDetails, uniqueGUIDKey, auditType, windowArray);\r\n          }\r\n        }\r\n      } catch (e) {\r\n        Utility.forwardToErrorPage({\r\n          auditType: auditType,\r\n          error: e\r\n        });\r\n        return;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nlet scrollWithTimeLag = (totalNumberOfReview, maximumReviewAllowed) => {\r\n  setTimeout(function () {\r\n    let presentNumberOfReviewsOnPage = document.getElementsByClassName(\"mapsConsumerUiSubviewSectionReview__section-review-titles mapsConsumerUiSubviewSectionReview__section-review-titles-with-menu\").length;\r\n    let element = document.getElementsByClassName(\"section-layout section-scrollbox mapsConsumerUiCommonScrollable__scrollable-y mapsConsumerUiCommonScrollable__scrollable-show\")[0];\r\n\r\n    element.scrollTo(0, element.scrollHeight);\r\n    if (!(presentNumberOfReviewsOnPage === totalNumberOfReview || presentNumberOfReviewsOnPage >= maximumReviewAllowed)) {\r\n      scrollWithTimeLag(totalNumberOfReview, maximumReviewAllowed);\r\n    } else {\r\n      displayFinalReviewarray();\r\n    }\r\n  }, 2000);\r\n}\r\n\r\n\r\nconst callGoogleMap = (url, callback) => {\r\n  const xhr = new XMLHttpRequest();\r\n  xhr.onreadystatechange = () => {\r\n    if (xhr.readyState === XMLHttpRequest.DONE) {\r\n      const status = xhr.status;\r\n      if (status === 0 || (status >= 200 && status < 400)) {\r\n        try {\r\n          const searchString = \"window.APP_INITIALIZATION_STATE=\";\r\n          const codeStart = xhr.response.indexOf(searchString);\r\n          const codeEnd = xhr.response.indexOf(\r\n            \"window.APP_FLAGS\",\r\n            codeStart\r\n          );\r\n          const code = xhr.response.substring(\r\n            codeStart + searchString.length,\r\n            codeEnd\r\n          );\r\n\r\n          //slice the string to remove simicolon before parsing\r\n          const WindowInitializationState = JSON.parse(code.slice(0, -1));\r\n          callback(WindowInitializationState);\r\n        } catch {\r\n          callback(\"\");\r\n        }\r\n      } else {\r\n        return \"\";\r\n      }\r\n    }\r\n  };\r\n\r\n  //Request data from server(google map) to parse APP_INITIALIZATION_STATE value\r\n  xhr.open(\"GET\", url);\r\n  xhr.send();\r\n};\r\n\r\nconst writeToStorageAndForwardHandler = (uniqueBusinessDetails, uniqueGUIDKey, auditType, windowArray) => {\r\n  if (auditType === 'basic-audit') {\r\n    const dataUniqueCode = Utility.createGuid();\r\n    sendBasicAuditDataToServer({\r\n      \"url\": window.location.href,\r\n      \"windowArray\": getOriginalDataArrayFromWindowArray(windowArray),\r\n      \"dataUniqueCode\": dataUniqueCode\r\n    }).finally(() => {\r\n      // for backward compatibility\r\n      writeToStorageAndForward(uniqueBusinessDetails, uniqueGUIDKey, auditType, dataUniqueCode);\r\n    });\r\n\r\n    return;\r\n  }\r\n  uniqueBusinessDetails[\"window_array\"] = getOriginalDataArrayFromWindowArray(windowArray);\r\n  writeToStorageAndForward(uniqueBusinessDetails, uniqueGUIDKey, auditType, \"\");\r\n}\r\n\r\nfunction writeToStorageAndForward(uniqueBusinessDetails, uniqueGUIDKey, auditType, dataUniqueCode) {\r\n  chrome.storage.local.get(['ge-business-details-key'], function (result) {\r\n    writeBusinessValueToStorageAndOpenExternalWindow(result['ge-business-details-key'], uniqueBusinessDetails, uniqueGUIDKey, auditType, dataUniqueCode);\r\n  });\r\n}\r\n\r\nfunction createJSONForStorage(uniqueBusinessDetails, businessName, categories, placeId, kgId, averageReviewRating, numberOfReviews, address, website, latlong, phoneNumber, isBusinessVerified, cidValue, businessProfileId) {\r\n  let uniqueGUIDKey = createGUID();\r\n  uniqueBusinessDetails = (\r\n    {\r\n      \"key\": uniqueGUIDKey,\r\n      \"value\": {\r\n        \"business-name\": businessName,\r\n        \"categories\": categories,\r\n        \"place-id\": placeId,\r\n        \"kg-id\": kgId,\r\n        \"average-review-rating\": averageReviewRating,\r\n        \"number-of-review\": numberOfReviews,\r\n        \"address\": address,\r\n        \"website\": website,\r\n        \"latlong\": latlong,\r\n        \"phone-number\": phoneNumber,\r\n        \"is-business-verified\": isBusinessVerified,\r\n        \"cid-value\": cidValue, \r\n        \"business-profile-id\": businessProfileId\r\n      }\r\n    });\r\n  return { uniqueGUIDKey, uniqueBusinessDetails };\r\n}\r\n\r\nconst sendBasicAuditDataToServer = (data) => {\r\n  return new Promise((resolve, reject) => {\r\n    const sendDataApiUrl = codeConstants[\"audit-dashboard\"][\"send-data-api-url\"];\r\n\r\n    const dataObject = {\r\n      \"url\": data.url,\r\n      \"rawData\": data.windowArray,\r\n    }\r\n\r\n    Utility.apiPostRequest(sendDataApiUrl, {\r\n      \"unique_code\": data.dataUniqueCode,\r\n      \"data\": JSON.stringify(dataObject),\r\n      \"feature_type\": \"basic-audit\"\r\n    }).then((response) => {\r\n      resolve(response);\r\n    }).catch((error) => {\r\n      reject(error);\r\n    })\r\n  })\r\n}\r\n\r\nfunction getOriginalDataArrayFromWindowArray(windowArray) {\r\n  if (windowArray[6] !== null && windowArray[6] !== undefined) {\r\n      return windowArray[6];\r\n  } else if (typeof (windowArray[0][1][0][14]) !== undefined && windowArray[0][1][0][14] !== null) {\r\n      return windowArray[0][1][0][14];\r\n  } else if (typeof (windowArray[0][1][1][14]) !== undefined && windowArray[0][1][1][14] !== null) {\r\n      return windowArray[0][1][1][14];\r\n  }\r\n\r\n  return windowArray;\r\n}\r\n\r\n\r\nexport { AuditInformationLogic };\r\n\r\n","import { addDays, addHours, addMonths, addYears, format, parse } from 'date-fns';\r\nimport {\r\n  codeConstants,\r\n  maximumOneWordCharLength,\r\n  maximumTwoWordCharLength,\r\n  maximumWordFrequencyCharacters,\r\n  REVIEW_AUDIT_MODAL_VERSION,\r\n  reviewWordsSanitizationRegexs,\r\n  stopWordList\r\n} from \"../feature-flag-and-constants\";\r\nimport { apiPostRequest, countNumberOfTimeValueExistInArray, createGuid, forwardToErrorPage, getReviewAuditModalVersion, getUrlAppendUserInformationAndForward, returnUniqueValuesInArray } from '../utility';\r\n\r\nlet reviewAuditModalVersion;\r\n\r\nlet pickUpReviewValueLocalGuidePhotosFromString = (reviewWriterDetailString) => {\r\n  let returnValue = {\r\n    \"is-local-guide\": false,\r\n    \"number-of-reviews-given\": 0,\r\n    \"number-of-photos-provided\": 0\r\n  }\r\n\r\n  try {\r\n    reviewWriterDetailString.innerText.split(\"·\").forEach(eachValue => {\r\n      if (eachValue.indexOf(\"Local Guide\") != -1) {\r\n        returnValue[\"is-local-guide\"] = true;\r\n      }\r\n      if (eachValue.indexOf(\"review\") != -1) {\r\n        returnValue[\"number-of-reviews-given\"] = eachValue.split(\" \")[0].replace(/\\D/g, '');\r\n      }\r\n      if (eachValue.indexOf(\"photo\") != -1) {\r\n        returnValue[\"number-of-photos-provided\"] = eachValue.split(\" \")[0].replace(/\\D/g, '');\r\n      }\r\n    });\r\n    return returnValue;\r\n  } catch {\r\n    return returnValue;\r\n  }\r\n}\r\n\r\nlet enforceMaximumCharacters = (wordFrequencies) => {\r\n  let length = JSON.stringify(encodeURIComponent(wordFrequencies)).length;\r\n\r\n  if (length > maximumWordFrequencyCharacters) {\r\n    \r\n    let updatedLength = length;\r\n\r\n    while (updatedLength >= maximumWordFrequencyCharacters) {\r\n      wordFrequencies.pop();\r\n      updatedLength = JSON.stringify(encodeURIComponent(wordFrequencies)).length;\r\n    }  \r\n    \r\n  }\r\n  return wordFrequencies;\r\n}\r\n\r\nlet calculateReviewTime = (timeString) => {\r\n\r\n  let timeBack = {\r\n    \"hours\": 0,\r\n    \"days\": 0,\r\n    \"weeks\": 0,\r\n    \"months\": 0,\r\n    \"years\": 0,\r\n    \"decades\": 0\r\n  };\r\n\r\n  try{\r\n\r\n    const timeStringAsArray = timeString.split(\" \");\r\n    if (timeString.toLowerCase().indexOf(\"hour\") !== -1) {\r\n      if (timeStringAsArray[0].indexOf(\"an\") !== -1) {\r\n        timeBack.hours = 1;\r\n      } else {\r\n        timeBack.hours = parseInt(timeStringAsArray[0]);\r\n      }\r\n    } else if (timeString.toLowerCase().indexOf(\"minutes\") !== -1) {\r\n      timeBack.hours = 1;\r\n    }  else if (timeString.toLowerCase().indexOf(\"day\") !== -1) {\r\n      if (timeStringAsArray[0].indexOf(\"a\") !== -1) {\r\n        timeBack.days = 1;\r\n      } else {\r\n        timeBack.days = parseInt(timeStringAsArray[0]);\r\n      }\r\n    } else if (timeString.toLowerCase().indexOf(\"week\") !== -1) {\r\n      if (timeStringAsArray[0].indexOf(\"a\") !== -1) {\r\n        timeBack.weeks = 1;\r\n      } else {\r\n        timeBack.weeks = parseInt(timeStringAsArray[0]);\r\n      }\r\n    } else if (timeString.toLowerCase().indexOf(\"month\") !== -1) {\r\n      if (timeStringAsArray[0].indexOf(\"a\") !== -1) {\r\n        timeBack.months = 1;\r\n      } else {\r\n        timeBack.months = parseInt(timeStringAsArray[0]);\r\n      }\r\n    } else if (timeString.toLowerCase().indexOf(\"year\") !== -1) {\r\n      if (timeStringAsArray[0].indexOf(\"a\") !== -1) {\r\n        timeBack.years = 1;\r\n      } else {\r\n        timeBack.years = parseInt(timeStringAsArray[0]);\r\n      }\r\n    } else if (timeString.toLowerCase().indexOf(\"decade\") !== -1) {\r\n      if (timeStringAsArray[0].indexOf(\"a\") !== -1) {\r\n        timeBack.decades = 1;\r\n      } else {\r\n        timeBack.decades = parseInt(timeStringAsArray[0]);\r\n      }\r\n    }\r\n  } catch (e) {\r\n    forwardToErrorPage({\r\n      auditType: \"review\",\r\n      error: e,\r\n      newTab: false,\r\n    });\r\n  }\r\n\r\n  return timeBack;\r\n}\r\n\r\nconst displayFinalReviewArrayV2 = () => {\r\n  let finalReviewArrayList = [],\r\n  reviewWords = [],\r\n  currentRating = 0,\r\n  totalReviewCount = 0,\r\n  totalReviewsAnalyzedWithResponse = 0;\r\n\r\n  try {\r\n\r\n    let reviewString = document.querySelectorAll('div[jsdata] > div[data-ved] div[data-id][data-hveid]');\r\n\r\n    currentRating = parseFloat(document.querySelector('g-review-stars').parentNode.querySelector(\"span\").innerText);\r\n\r\n    totalReviewCount = parseFloat(document.querySelector('g-review-stars').nextElementSibling.innerText.split(' ')[0]);\r\n\r\n    for (let j = 0; j < reviewString.length; j++) {\r\n\r\n      let reviewStarRating, reviewTime;\r\n      try {\r\n        reviewStarRating = reviewString[j].querySelector(\"div\").nextElementSibling.querySelector(\"div\").getAttribute(\"aria-label\").split(\" \")[1];\r\n        reviewTime = reviewString[j].querySelector(\"div\").nextElementSibling.querySelector(\"div\").nextElementSibling.innerText;\r\n\r\n        // check if the review has a response\r\n        if(reviewString[j].querySelector(\":scope > div:nth-child(5) div[role='img']\")) {\r\n          totalReviewsAnalyzedWithResponse++;\r\n        }\r\n      }\r\n      catch {}\r\n     \r\n      // some string review time has \"edited\" word, so we need to remove it to get the correct time. ex: \"edited 1 day ago\"\r\n      reviewTime = reviewTime?.replace(/edited\\s*/i, '').trim();\r\n\r\n      let rawReviewText = reviewString[j].querySelector(\":scope > div:nth-child(3)\").querySelector(\"div\")?.innerText || '';\r\n\r\n      finalReviewArrayList.push(\r\n      {\r\n        \"is-a-local-guide\": pickUpReviewValueLocalGuidePhotosFromString(getReviewLocalGuidePhotosElementV2(reviewString[j]))[\"is-local-guide\"], //done\r\n        \"reviewer-name\": reviewString[j].querySelector(\"div > a > div\").nextElementSibling.querySelector(\"div\").innerText,\r\n        \"reviewer-information\": \"\", // can't find any sample to confirm its value\r\n        \"number-of-photos-in-review\": reviewString[j].querySelectorAll('div[role=\"listitem\"]>img').length,\r\n        \"review-star-rating\": reviewStarRating,\r\n        \"review-text\": rawReviewText,\r\n        \"review-time\": reviewTime,\r\n        \"review-time-organized\": calculateReviewTime(reviewTime),\r\n        \"number-of-review-provided-by-reviewer\": pickUpReviewValueLocalGuidePhotosFromString(getReviewLocalGuidePhotosElementV2(reviewString[j]))[\"number-of-reviews-given\"],\r\n        \"number-of-photos-provided-by-reviewer\": pickUpReviewValueLocalGuidePhotosFromString(getReviewLocalGuidePhotosElementV2(reviewString[j]))[\"number-of-photos-provided\"]\r\n      });\r\n\r\n      let reviewText = reviewWordsSanitizationRegexs\r\n      .reduce((text, regex) => text.replace(regex, ''), rawReviewText)\r\n      .split(' ');\r\n\r\n      reviewWords.push(...reviewText);\r\n    }\r\n  } catch (e) {\r\n    forwardToErrorPage({\r\n      auditType: \"review\",\r\n      error: e,\r\n      newTab: false,\r\n    });\r\n    return;\r\n  }\r\n\r\n  chrome.storage.local.get(['ge-business-details-key'], function (result) {\r\n    var url = new URL(window.location.href);\r\n    var uniqueGUIDKey = url.searchParams.get(\"unique-code\");\r\n\r\n    // this unique code is for sending data to server\r\n    const dataUniqueCode = createGuid();\r\n\r\n    writeOrUpdateReviewsToValue({\r\n      resultOfStorage: result['ge-business-details-key'],\r\n      finalReviewArrayList: finalReviewArrayList, \r\n      currentRating: currentRating,\r\n      reviewWords: reviewWords,\r\n      totalReviewCount: totalReviewCount,\r\n      uniqueCodeOnPage: uniqueGUIDKey,\r\n      dataUniqueCode: dataUniqueCode,\r\n      totalReviewsAnalyzed: finalReviewArrayList?.length,\r\n      totalReviewsAnalyzedWithResponse: totalReviewsAnalyzedWithResponse,\r\n      url\r\n    });\r\n  });\r\n}\r\n\r\nconst sendReviewDataToServer = (payloads) => {\r\n  return new Promise((resolve, reject) => {\r\n    const sendDataApiUrl = codeConstants[\"audit-dashboard\"][\"send-data-api-url\"];\r\n    const apiCalls = payloads.map((payload) => {\r\n      return apiPostRequest(sendDataApiUrl, payload);\r\n    });\r\n\r\n    Promise.all(apiCalls).then((results) => {\r\n      resolve(results);\r\n    }).catch((error) => {\r\n      reject(error);\r\n    });\r\n\r\n  })\r\n}\r\n\r\nfunction chunkByBytes(jsonString, maxSizeInMB = 3) {\r\n  const maxSizeInBytes = maxSizeInMB * 1024 * 1024;\r\n  const encoder = new TextEncoder();\r\n  const decoder = new TextDecoder();\r\n\r\n  // Convert to bytes\r\n  const bytes = encoder.encode(jsonString);\r\n  const chunks = [];\r\n\r\n  for (let i = 0; i < bytes.length; i += maxSizeInBytes) {\r\n    const chunkBytes = bytes.slice(i, i + maxSizeInBytes);\r\n    const chunkString = decoder.decode(chunkBytes);\r\n\r\n    chunks.push({\r\n      chunkData: chunkString,\r\n      chunkIndex: chunks.length,\r\n      totalChunks: Math.ceil(bytes.length / maxSizeInBytes),\r\n      originalSizeMB: (bytes.length / (1024 * 1024)).toFixed(2),\r\n      chunkSizeMB: (chunkBytes.length / (1024 * 1024)).toFixed(2)\r\n    });\r\n  }\r\n\r\n  return chunks;\r\n}\r\n\r\n\r\nconst displayFinalReviewArrayV1 = () => {\r\n  let finalReviewArrayList = [],\r\n  reviewWords = [],\r\n  currentRating = 0,\r\n  totalReviewCount = 0,\r\n  totalReviewsAnalyzedWithResponse = 0;\r\n\r\n  try {\r\n    let reviewString = document.querySelectorAll(\".gws-localreviews__general-reviews-block>div\");\r\n    currentRating = parseFloat(document.querySelector('g-review-stars').parentNode.querySelector(\"span\").innerText);\r\n    totalReviewCount = parseFloat(document.querySelector('g-review-stars').parentNode.querySelector(\"div\").innerText.split(' ')[0]);\r\n\r\n    document.querySelectorAll('.review-more-link').forEach(eachElement => { eachElement.click() });\r\n  \r\n    for (let j = 0; j < reviewString.length; j++) {\r\n\r\n    let reviewStarRating, reviewTime;\r\n    try {\r\n      // check if the review has a response\r\n      if(reviewString[j].querySelector(\":scope > div:nth-child(5) div[role='img']\")) {\r\n        totalReviewsAnalyzedWithResponse++;\r\n      }\r\n\r\n      reviewStarRating = reviewString[j].querySelector(\"div:nth-child(2)\").querySelector(\":scope > div:nth-child(4) > div > div > div\").querySelector(\":scope > span:nth-child(1)\").getAttribute(\"aria-label\").split(\" \")[1];\r\n      reviewTime = reviewString[j].querySelector(\"div:nth-child(2)\").querySelector(\":scope > div:nth-child(4) > div > div > div\").querySelector(\":scope > span:nth-child(2)\").innerText;\r\n    }\r\n    catch {\r\n      try {\r\n        // old logic, retained as some users might still have old UI\r\n        reviewStarRating = reviewString[j].querySelector(\"div:nth-child(4)\").querySelector('div').querySelectorAll('span')[0].getAttribute(\"aria-label\").split(\" \")[1];  \r\n        reviewTime = reviewString[j].querySelector(\"div:nth-child(4)\").querySelector('div').querySelectorAll('span')[2].innerText;\r\n      }\r\n      catch {\r\n        try{\r\n          // old logic, retained as some users might still have old UI\r\n          reviewTime = reviewString[j].querySelector(\"g-review-stars+span\").innerText;\r\n          reviewStarRating = reviewString[j].querySelector(\"div:nth-child(4)>div\").querySelectorAll('g-review-stars>span')[0].getAttribute(\"aria-label\").split(\" \")[1];\r\n        } catch (e) {\r\n          throw e;\r\n        }\r\n      }\r\n    }\r\n\r\n    let rawReviewText = reviewString[j].querySelector(\"div>div:nth-child(2)>div:nth-child(4)>div>div>div:nth-child(2)\").innerText;\r\n    finalReviewArrayList.push(\r\n      {\r\n        \"is-a-local-guide\": pickUpReviewValueLocalGuidePhotosFromString(getReviewLocalGuidePhotosElementV1(reviewString[j]))[\"is-local-guide\"],\r\n        \"reviewer-name\": reviewString[j].querySelector(\"div:nth-child(1)\").innerText,\r\n        \"reviewer-information\": reviewString[j].querySelector(\"div:nth-child(3)\").innerText,\r\n        \"number-of-photos-in-review\": reviewString[j].querySelectorAll('[aria-label=\"Photos\"]').length,\r\n        \"review-star-rating\": reviewStarRating,\r\n        \"review-text\": rawReviewText,\r\n        \"review-time\": reviewTime,\r\n        \"review-time-organized\": calculateReviewTime(reviewTime),\r\n        \"number-of-review-provided-by-reviewer\": pickUpReviewValueLocalGuidePhotosFromString(getReviewLocalGuidePhotosElementV1(reviewString[j]))[\"number-of-reviews-given\"],\r\n        \"number-of-photos-provided-by-reviewer\": pickUpReviewValueLocalGuidePhotosFromString(getReviewLocalGuidePhotosElementV1(reviewString[j]))[\"number-of-photos-provided\"]\r\n        });\r\n\r\n        let reviewText = reviewWordsSanitizationRegexs\r\n        .reduce((text, regex) => text.replace(regex, ''), rawReviewText)\r\n        .split(' ');\r\n\r\n        reviewWords.push(...reviewText);\r\n    }\r\n  } catch (e) {\r\n    forwardToErrorPage({\r\n      auditType: \"review\",\r\n      error: e,\r\n      newTab: false,\r\n    });\r\n    return;\r\n  }\r\n\r\n  chrome.storage.local.get(['ge-business-details-key'], function (result) {\r\n    var url = new URL(window.location.href);\r\n    var uniqueGUIDKey = url.searchParams.get(\"unique-code\");\r\n\r\n\r\n    writeOrUpdateReviewsToValue({\r\n      resultOfStorage: result['ge-business-details-key'],\r\n      finalReviewArrayList: finalReviewArrayList, \r\n      currentRating: currentRating,\r\n      reviewWords: reviewWords,\r\n      totalReviewCount: totalReviewCount,\r\n      uniqueCodeOnPage: uniqueGUIDKey,\r\n      totalReviewsAnalyzed: finalReviewArrayList?.length,\r\n      totalReviewsAnalyzedWithResponse: totalReviewsAnalyzedWithResponse\r\n    });\r\n\r\n  });\r\n}\r\n\r\nconst getReviewLocalGuidePhotosElementV1 = (elem) => {\r\n  try {\r\n    return elem.querySelectorAll(\":scope>div>div:nth-child(3)\")[0];\r\n  } catch {}\r\n}\r\n\r\nconst getReviewLocalGuidePhotosElementV2 = (elem) => {\r\n  try {\r\n    return elem.querySelector(\"div > div > a > div\").nextElementSibling.querySelector(\"div\").nextElementSibling;\r\n  } catch {}\r\n}\r\n\r\nlet getWordFrequencies = (words, stopWordList) => {\r\n  let oneWordFrequencies = {},\r\n      twoWordFrequencies = {};\r\n\r\n  try {\r\n    for (let index = 0; index < words.length; index++) {\r\n      let firstWord = words[index].toLowerCase(),\r\n          secondWord = words[index + 1]?.toLowerCase();\r\n  \r\n  \r\n      if (!firstWord || stopWordList.indexOf(firstWord) > 0 || firstWord.length === 1) \r\n        continue;\r\n  \r\n      if (oneWordFrequencies[firstWord]) {\r\n        oneWordFrequencies[firstWord] += 1;\r\n      }\r\n      else {\r\n        oneWordFrequencies[firstWord] = 1;\r\n      }\r\n  \r\n  \r\n      if (!secondWord || stopWordList.indexOf(secondWord) > 0 || secondWord.length === 1)\r\n        continue;\r\n  \r\n      if (twoWordFrequencies[`${firstWord} ${secondWord}`]) {\r\n        twoWordFrequencies[`${firstWord} ${secondWord}`] += 1;\r\n      }\r\n      else {\r\n        twoWordFrequencies[`${firstWord} ${secondWord}`] = 1;\r\n      }\r\n  \r\n        \r\n    }\r\n  \r\n    oneWordFrequencies = Object.keys(oneWordFrequencies).map(k => {\r\n      let obj = {};\r\n      obj[String(k).slice(0, maximumOneWordCharLength)] = oneWordFrequencies[k];\r\n      return obj;\r\n    });\r\n  \r\n    twoWordFrequencies = Object.keys(twoWordFrequencies).map(k => {\r\n      let obj = {};\r\n      obj[String(k).slice(0, maximumTwoWordCharLength)] = twoWordFrequencies[k];\r\n      return obj;\r\n    });\r\n      \r\n  }\r\n  catch (err) {\r\n  }\r\n\r\n  return { oneWordFrequencies, twoWordFrequencies };\r\n}\r\n\r\n\r\n\r\nlet cleanUpArrayAndGetYearCounterAsJSON = (yearPastCounter) => {\r\n\r\n  let uniqueYearPastValues = returnUniqueValuesInArray(yearPastCounter);\r\n  let yearPastDateFormatCounter = [];\r\n\r\n  for (let i = 0; i < uniqueYearPastValues.length; i++) {\r\n\r\n    yearPastDateFormatCounter.push(\r\n      {\r\n        \"year-past-in-review\": uniqueYearPastValues[i],\r\n        \"number-of-review\": countNumberOfTimeValueExistInArray(uniqueYearPastValues[i], yearPastCounter)\r\n\r\n      }\r\n    );\r\n  }\r\n\r\n  return yearPastDateFormatCounter;\r\n\r\n\r\n}\r\n\r\nlet getYearPastAndReturnApproximateMonth = (yearMonthJSONFormatted, fromOneOrMoreYearAgoRatings) => {\r\n\r\n\r\n  let listOfApproximatedTimePeriod = [],\r\n      ratingData = [];\r\n\r\n  for (let i = 0; i < yearMonthJSONFormatted.length; i++) {\r\n    let thisYearRatings = fromOneOrMoreYearAgoRatings.filter(f => f.year === yearMonthJSONFormatted[i][\"year-past-in-review\"]);\r\n    let averageRatingForThisYear = thisYearRatings.reduce((totalRating, currentRating) => currentRating.rating + totalRating, 0) / thisYearRatings.length;\r\n\r\n    let totalReview = yearMonthJSONFormatted[i][\"number-of-review\"];\r\n\r\n    for (let j = 0; j < totalReview; j++) {\r\n      let date = addMonths((addYears(new Date(), -yearMonthJSONFormatted[i][\"year-past-in-review\"])), -j % 12);\r\n      listOfApproximatedTimePeriod.push(date);\r\n      ratingData.push({\r\n        date: date,\r\n        year: parseInt(yearMonthJSONFormatted[i][\"year-past-in-review\"]),\r\n        rating: averageRatingForThisYear\r\n      });\r\n\r\n    }\r\n  }\r\n  return [listOfApproximatedTimePeriod, ratingData];\r\n}\r\n\r\nlet getMonthlyAverageRating = (ratings) => {\r\n\r\n  //format date group element by month\r\n  let ratingsGroupByMonth = ratings.map(rating => {\r\n\r\n      try {\r\n        rating.date = format(rating.date, \"MM/15/yyyy\");\r\n\r\n        //This below logic is to move middle of the month for present month to today\r\n        if (format(new Date, \"MM/yyyy\") === format(parse(rating.date, \"MM/dd/yyyy\", new Date()), \"MM/yyyy\")) {\r\n          rating.date = format(new Date, \"MM/dd/yyyy\");\r\n        }\r\n      } catch (e) {\r\n        forwardToErrorPage({\r\n          auditType: \"review\",\r\n          error: e,\r\n          newTab: false,\r\n        });\r\n      }\r\n\r\n      return rating;\r\n    })\r\n    .reduce((acc, cur) => {\r\n      acc[cur.date] = [...acc[cur.date] || [], cur];\r\n      return acc;\r\n    }, {});\r\n\r\n\r\n  let processedRatings = Object.keys(ratingsGroupByMonth)\r\n    .map(date => {\r\n      let averageRating = ratingsGroupByMonth[date].reduce((totalRating, currentRating) => currentRating.rating + totalRating, 0) / ratingsGroupByMonth[date].length;\r\n\r\n      return {\r\n        date: date,\r\n        rating: averageRating <= 5 ? parseFloat(averageRating.toFixed(2)) : 5 \r\n      }\r\n    });\r\n\r\n  return processedRatings;\r\n}\r\n\r\nlet getReviewCountAndRatingPerDateFromReviewList = (reviewString, currentRating, totalReviewCount) => {\r\n\r\n  let orderedReviewContainingReviewDate = [];\r\n  let yearPastAsInt = [];\r\n  let ratings = [];\r\n\r\n  for (let i = 0; i < reviewString.length; i++) {\r\n\r\n    let date = null,\r\n        year = 0;\r\n\r\n    if (reviewString[i][\"review-time-organized\"].hours != 0) {\r\n      date = addHours(new Date(), -reviewString[i][\"review-time-organized\"].hours)\r\n      orderedReviewContainingReviewDate.push(date);\r\n    } else if (reviewString[i][\"review-time-organized\"].days !== 0) {\r\n      date = addDays(new Date(), -reviewString[i][\"review-time-organized\"].days)\r\n      orderedReviewContainingReviewDate.push(date);\r\n    } else if (reviewString[i][\"review-time-organized\"].weeks !== 0) {\r\n      date = addDays(new Date(), -(reviewString[i][\"review-time-organized\"].weeks) * 7);\r\n      orderedReviewContainingReviewDate.push(date);\r\n    } else if (reviewString[i][\"review-time-organized\"].months !== 0) {\r\n      date = addMonths(new Date(), -reviewString[i][\"review-time-organized\"].months);\r\n      orderedReviewContainingReviewDate.push(date);\r\n    } else if (reviewString[i][\"review-time-organized\"].years !== 0) {\r\n      date = reviewString[i][\"review-time-organized\"].years\r\n      year = reviewString[i][\"review-time-organized\"].years;\r\n      yearPastAsInt.push(\r\n        reviewString[i][\"review-time-organized\"].years\r\n      );\r\n    }\r\n\r\n    ratings.push({\r\n      date: date,\r\n      year: year,\r\n      rating: parseFloat(reviewString[i]['review-star-rating'])\r\n    });\r\n\r\n  };\r\n\r\n  let cleanedupMonthYearCounterAsJSON = cleanUpArrayAndGetYearCounterAsJSON(yearPastAsInt);\r\n\r\n  let [approximateMonthYearValue, approximatedRatings] = getYearPastAndReturnApproximateMonth(cleanedupMonthYearCounterAsJSON, ratings.filter(r => r.year > 0));\r\n\r\n  ratings = [...ratings.filter(r => r.year === 0), ...approximatedRatings];\r\n\r\n  let processedRatings = getMonthlyAverageRating(ratings, currentRating, totalReviewCount);\r\n\r\n\r\n  let finalDateList = orderedReviewContainingReviewDate.concat(approximateMonthYearValue);\r\n\r\n  // Pushing every review of the month to the middle of the month\r\n  let finalDateListOrganized = (finalDateList.map(value => (format(value, \"MM/15/yyyy\"))));\r\n\r\n  let tempCountNumberOfTimeExist;\r\n  let orderedReviewTimeAndCounter = [];\r\n\r\n  returnUniqueValuesInArray(finalDateListOrganized).forEach(value => {\r\n\r\n    tempCountNumberOfTimeExist = countNumberOfTimeValueExistInArray(value, finalDateListOrganized);\r\n\r\n    //This below logic is to move middle of the month for present month to today\r\n    if (format(new Date, \"MM/yyyy\") === format(parse(value, \"MM/dd/yyyy\", new Date()), \"MM/yyyy\")) {\r\n      value = format(new Date, \"MM/dd/yyyy\");\r\n    }\r\n\r\n    orderedReviewTimeAndCounter.push({\r\n      \"month-year\": value,\r\n      \"number-of-time-exist\": tempCountNumberOfTimeExist\r\n    });\r\n  });\r\n\r\n\r\n\r\n  return [ orderedReviewTimeAndCounter, processedRatings ];\r\n}\r\n\r\nlet getReviewValues = (reviewList) => {\r\n\r\n  let numberOfReviewWithPhoto = 0;\r\n  let numberOfReviewFromLocalGuides = 0;\r\n  let sumOfNumberOfReviewByReviewer = 0;\r\n  let sumOfReviews = 0;\r\n  let sumOfAnalyzedReviews = 0;\r\n  let sumOfAnalyzedReviewsWithResponses = 0;\r\n\r\n  reviewList.forEach(value => {\r\n    if (value[\"number-of-photos-in-review\"] !== 0) {\r\n      numberOfReviewWithPhoto++;\r\n    }\r\n    if (value[\"is-a-local-guide\"] == true) {\r\n      numberOfReviewFromLocalGuides++;\r\n    }\r\n    sumOfNumberOfReviewByReviewer += parseInt(value[\"number-of-review-provided-by-reviewer\"]);\r\n    sumOfReviews += parseInt(value[\"review-star-rating\"]);\r\n\r\n  });\r\n  return {\r\n    \"number-of-reviews-with-photos\": numberOfReviewWithPhoto,\r\n    \"number-of-reviews-by-local-guides\": numberOfReviewFromLocalGuides,\r\n    \"average-number-of-review-by-reviewer\": (sumOfNumberOfReviewByReviewer / reviewList.length).toFixed(2),\r\n    \"average-of-reviews-calculated\": (sumOfReviews / reviewList.length).toFixed(2)\r\n  };\r\n}\r\n\r\nlet cleanUpXYGraphData = ( orderedREviewTimeAndCounter, ratings,  specificValueFromStorage, finalReviewArrayList) => {\r\n  let graphData = [];\r\n  orderedREviewTimeAndCounter\r\n  .sort((a, b) => parse(a['month-year'], 'MM/dd/yyyy', new Date()) - parse(b['month-year'], 'MM/dd/yyyy', new Date()))\r\n  .forEach((value, index) => {\r\n    graphData.push([value[\"month-year\"], value[\"number-of-time-exist\"], ratings.filter(r => r.date === value[\"month-year\"])[0].rating]);\r\n\r\n  });\r\n\r\n  let yAxisValues = graphData.map(g => g[1]);\r\n\r\n  graphData = graphData.map((element, index) => {\r\n    element[1] = yAxisValues.slice(0, index + 1).reduce((a, b) => a + b);\r\n    return element;\r\n  });\r\n\r\n  graphData = graphData.map(element => {\r\n    element[1] = element[1] + specificValueFromStorage['value']['number-of-review'] - finalReviewArrayList.length;\r\n    return element;\r\n  });\r\n\r\n  return graphData;\r\n}\r\n\r\nlet rankWordFrequencies = (wordFrequencies) => {\r\n  return wordFrequencies.sort((a, b) => {\r\n    let valueA = a[Object.keys(a)[0]],\r\n        valueB = b[Object.keys(b)[0]];\r\n\r\n    if (valueA > valueB) \r\n      return -1;\r\n    \r\n    if (valueA < valueB)\r\n      return 1;\r\n\r\n    return 0;\r\n  });\r\n\r\n}\r\n\r\n\r\nlet writeOrUpdateReviewsToValue = (params) => {\r\n\r\n  for (let i = params.resultOfStorage.length - 1; i >= 0; i--) {\r\n    if (params.uniqueCodeOnPage && params.resultOfStorage[i][\"key\"] === params.uniqueCodeOnPage) {\r\n\r\n      let [orderedREviewTimeAndCounter, ratings] = getReviewCountAndRatingPerDateFromReviewList(params.finalReviewArrayList, params.currentRating, params.totalReviewCount);\r\n\r\n      let graphData = cleanUpXYGraphData(orderedREviewTimeAndCounter, ratings, params.resultOfStorage[i], params.finalReviewArrayList);\r\n      params.resultOfStorage[i][\"value\"][\"xy-axis-Values\"] = graphData;\r\n      let calculatedReviewValues = getReviewValues(params.finalReviewArrayList);\r\n      params.resultOfStorage[i][\"value\"][\"review-calculated-values\"] = calculatedReviewValues;\r\n\r\n\r\n      let reviewAuditUrl = codeConstants['audit-dashboard']['review-audit-url'];\r\n\r\n      let { oneWordFrequencies, twoWordFrequencies } = getWordFrequencies(params.reviewWords, stopWordList);\r\n\r\n      oneWordFrequencies = JSON.stringify(enforceMaximumCharacters(rankWordFrequencies(oneWordFrequencies)));\r\n\r\n      twoWordFrequencies = JSON.stringify(enforceMaximumCharacters(rankWordFrequencies(twoWordFrequencies)));\r\n      const gmb_metadata = params.resultOfStorage[i][\"window_array\"];\r\n\r\n      const dataObject = {\r\n        \"ge-mode\": \"business-details\",\r\n        \"audit-type\": \"review\",\r\n        \"unique-code\": params.uniqueCodeOnPage,\r\n        \"dashboard-data\": JSON.stringify(params.resultOfStorage[i][\"value\"]),\r\n        \"one-word-frequencies\": oneWordFrequencies,\r\n        \"two-word-frequencies\": twoWordFrequencies,\r\n        \"total-reviews-analyzed\": params.totalReviewsAnalyzed ?? 0,\r\n        \"total-reviews-analyzed-with-response\": params.totalReviewsAnalyzedWithResponse ?? 0,\r\n      };\r\n\r\n\r\n      const reviewModalHtmlFragment = document.querySelector(\".review-dialog-body\")?.outerHTML;\r\n      if (!reviewModalHtmlFragment) {\r\n        reject(new Error(\"Review modal html fragment not found\"));\r\n        return;\r\n      }\r\n\r\n      const chunks = chunkByBytes(reviewModalHtmlFragment, 3);\r\n      const dataUniqueCodes = [];\r\n      const chunkedPayloads = chunks.map((chunk, index) => {\r\n        const dataUniqueCode = `${params.dataUniqueCode}_v${index + 1}`;\r\n        dataUniqueCodes.push(dataUniqueCode);\r\n        return {\r\n          \"unique_code\": dataUniqueCode,\r\n          \"data\": JSON.stringify({\r\n            \"review_modal_html_fragment\": chunk.chunkData,\r\n            \"url\": params.url,\r\n            \"gmb_metadata\": gmb_metadata\r\n          }),\r\n          \"feature_type\": \"review-audit\"\r\n        }\r\n      });\r\n      dataObject['data-unique-code'] = dataUniqueCodes.join(',');\r\n      const queries = trimReviewParamsIfExceedsTheUrlLengthLimit(reviewAuditUrl, dataObject);\r\n      sendReviewDataToServer(chunkedPayloads).finally(() => {\r\n        getUrlAppendUserInformationAndForward(`${reviewAuditUrl}?${queries.toString()}`, true);\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n}\r\n\r\nconst trimReviewParamsIfExceedsTheUrlLengthLimit = (dashboardUrl, queries) => {\r\n  // limit is 8100, but we are keeping it 7850 to allocate 250 for the user-information param\r\n  const cloudfrontUrlLimit = 7850;\r\n\r\n  let encodedUrl = buildAndEncodeUrl(dashboardUrl, queries);\r\n  if (encodedUrl.length < cloudfrontUrlLimit) {\r\n    return new URLSearchParams(queries);\r\n  }\r\n\r\n  const { \"two-word-frequencies\": twoWordFrequencies, ...reducedQueries } =\r\n    queries;\r\n  encodedUrl = buildAndEncodeUrl(dashboardUrl, reducedQueries);\r\n  if (encodedUrl.length < cloudfrontUrlLimit) {\r\n    return new URLSearchParams(reducedQueries);\r\n  }\r\n\r\n  const { \"one-word-frequencies\": oneWordFrequencies, ...reducedQueries2 } =\r\n    reducedQueries;\r\n  encodedUrl = buildAndEncodeUrl(dashboardUrl, reducedQueries2);\r\n  return new URLSearchParams(reducedQueries2);\r\n};\r\n\r\nconst buildAndEncodeUrl = (dashboardUrl, queries) => {\r\n  const urlSearchParams = new URLSearchParams(queries);\r\n  return `${dashboardUrl}?${urlSearchParams.toString()}`;\r\n};\r\n\r\nconst displayFinalReviewarray = () => {\r\n  reviewAuditModalVersion = getReviewAuditModalVersion();\r\n\r\n  if(reviewAuditModalVersion == REVIEW_AUDIT_MODAL_VERSION.v1) {\r\n    displayFinalReviewArrayV1();\r\n  } else {\r\n\r\n    // click 'More' buttons for all reviews\r\n    document.querySelectorAll('div[jsdata] > div[data-ved] div[data-id][data-hveid] > div:nth-child(3) > div > a[role=\"button\"][data-ved]')\r\n      .forEach(element => { element.click() });\r\n\r\n    // Add a delay before scraping the reviews to ensure all 'More' buttons are clicked.\r\n    setTimeout(displayFinalReviewArrayV2, 1000);\r\n  }\r\n}\r\n\r\nexport { displayFinalReviewarray };\r\n\r\n","import { createFullPageLoader, extractPlaceIdFromHref, forwardToErrorPage } from \"../utility\";\r\n\r\n// SRB-9219 - get the last 5 digits of the phone,\r\n// to avoid the inconsistency of the phone numbers */\r\nconst slicePhoneNumberLimit = 5;\r\n\r\n// increased from 20 to 22 to account for the ads\r\n// they will be filtered in the teleport page\r\nconst maxBusinessCount = 22;\r\n\r\n// This is a retry limit as we cannot directly assume that the scroll attempt has \r\n// already reached the end of the list, as it could be due to a connection issue.\r\nconst sameResultScrollCounterLimit = 3;\r\n\r\nlet formatPhoneNumber = function (phoneNumber) {\r\n  return phoneNumber.replace(/[^0-9]+/g, \"\").slice(slicePhoneNumberLimit * -1);\r\n};\r\n\r\nlet formatAddress = function (address) {\r\n  return address.replace(/ |,/gi, \"\").toLowerCase();\r\n};\r\n\r\nlet isBusinessAds = function (businessSection) {\r\n  let isAds = false;\r\n  let adSectionElements = businessSection.querySelector(\r\n    \"div>div:nth-child(2)>div>div\"\r\n  )?.children;\r\n  if (adSectionElements) {\r\n    isAds =\r\n      adSectionElements.length === 4 &&\r\n      adSectionElements[0].tagName === \"SPAN\" &&\r\n      adSectionElements[1].tagName === \"SPAN\" &&\r\n      adSectionElements[2].tagName === \"BUTTON\";\r\n  }\r\n\r\n  let adSectionElementsV2 = businessSection.querySelector(\r\n    \"div>div:nth-child(2)>div>div>div:nth-child(2)>div>div:nth-child(3)>div>span\"\r\n  )?.innerText;\r\n  if (adSectionElementsV2 && isAds === false) {\r\n    isAds = true;\r\n  }\r\n\r\n  const isAdsV2 = isBusinessContainsAdBannerV2(businessSection);\r\n\r\n  // this condition kinda overrides the other ads conditions \r\n  // as this three dot menu button is showing for sponsored businesses even with or without ads banner\r\n  const isAdsV3 = isBusinessContainsSponsoredThreeDotMenuButton(businessSection);\r\n\r\n  return isAds || isAdsV2 || isAdsV3;\r\n};\r\n\r\nconst isBusinessContainsAdBannerV2 = (businessSection) => {\r\n  const anchorElements = businessSection.querySelectorAll('a');\r\n  let found = false;\r\n\r\n  anchorElements.forEach((element) => {\r\n    const href = element.getAttribute('href');\r\n    if (href && href.includes('/aclk?')) {\r\n      found = true;\r\n      return;\r\n    }\r\n  });\r\n\r\n  return found;\r\n};\r\n\r\nconst isBusinessContainsSponsoredThreeDotMenuButton = (businessSection) => {\r\n  var buttonExists = businessSection?.querySelector(\"div>h1>span>span>button[aria-haspopup='true']\");\r\n  return !!buttonExists;\r\n}\r\n\r\n// get businesses including ads\r\n// ads are filtered in the teleport page\r\nlet getBusinesses = function (elements) {\r\n  var newBusinessList =  Array.from(elements)\r\n    .slice(2)\r\n    .filter((businessSection) =>\r\n      businessSection.querySelector(\"div>div>a\")?.href?.includes(\"/maps/place\")\r\n    );\r\n\r\n    newBusinessList.forEach((businessSection) => {\r\n      try {\r\n        businessSection.ads =  !!isBusinessAds(businessSection) ? 1 : 0\r\n      } catch {\r\n        // Let all businesses through in case of an error\r\n        businessSection.ads = 0;\r\n      }\r\n    });\r\n\r\n    return newBusinessList;\r\n};\r\n\r\nlet findBusinessRankForTeleport = (FlagAndConstants) => {\r\n  let teleportDashboardUrl =\r\n    FlagAndConstants[\"teleport-dashboard\"][\"dashboard-url\"];\r\n  let googleUrl = FlagAndConstants[\"teleport-dashboard\"][\"google-url\"];\r\n  let currentPageUrl = document.URL;\r\n  let businessRank = 1;\r\n  let urlParams = new URLSearchParams(window.location.search);\r\n\r\n  if (\r\n    currentPageUrl.includes(\"gevercode\") &&\r\n    currentPageUrl.includes(googleUrl)\r\n  ) {\r\n    createFullPageLoader(\r\n      \"GMB Everywhere is processing.<br>Stay on this tab to continue processing.\"\r\n    );\r\n    document.onreadystatechange = () => {\r\n      if (document.readyState === \"complete\") {\r\n        setTimeout(function () {\r\n          chrome.storage.local.get(\"searchRank\", (r) => {\r\n            if (r.searchRank && r.searchRank.length) {\r\n              if (r.searchRank.length > 0) {\r\n                chrome.storage.local.remove(\"searchRank\");\r\n              } else {\r\n                chrome.runtime.sendMessage(\r\n                  { method: \"Dashboard\" },\r\n                  function (response) {}\r\n                );\r\n                return;\r\n              }\r\n            }\r\n\r\n            try {\r\n              let businessesDetails = [];\r\n              let teleportBusinessDetail = {};\r\n              teleportBusinessDetail.gevercode = urlParams.get(\"gevercode\");\r\n              teleportBusinessDetail.businessTerm = urlParams.get(\"businessTerm\");\r\n              teleportBusinessDetail.businessAddress =\r\n                urlParams.get(\"businessAddress\");\r\n              teleportBusinessDetail.rating = parseFloat(urlParams.get(\"rating\"));\r\n              teleportBusinessDetail.businessName = urlParams.get(\"businessName\");\r\n              teleportBusinessDetail.lat = urlParams.get(\"lat\");\r\n              teleportBusinessDetail.lng = urlParams.get(\"lng\");\r\n              teleportBusinessDetail.phone = urlParams.get(\"phone\")\r\n                ? urlParams.get(\"phone\").trim()\r\n                : \"\";\r\n              teleportBusinessDetail.placeId = urlParams.get(\"place-id\");\r\n\r\n              let businessElementSelector;\r\n              if (document.querySelector(\"#pane>div>div>div>div>div>div\")) {\r\n                businessElementSelector = \"#pane>div>div>div>div>div>div\";\r\n              } else if (\r\n                document.querySelector(\r\n                  \"#pane+div>div>div>div>div:nth-child(2)>div>div>div>div>div>div\"\r\n                )\r\n              ) {\r\n                businessElementSelector =\r\n                  \"#pane+div>div>div>div>div:nth-child(2)>div>div>div>div>div>div\";\r\n              }\r\n              \r\n              if (businessElementSelector) {\r\n                let scrollWithTimeLagTeleport = (\r\n                  previousNumberOfBusinessCount,\r\n                  maximumBusinessesAllowed,\r\n                  itemsSelector,\r\n                  callback,\r\n                  sameResultScrollCounter = 0\r\n                ) => {\r\n                  setTimeout(function () {\r\n                    let container = document.querySelector(itemsSelector);\r\n                    let presentNumberOfBusinessesOnPage = getBusinesses(\r\n                      container.children\r\n                    ).length;\r\n\r\n                    container.scrollTo(0, container.scrollHeight);\r\n\r\n                    if (presentNumberOfBusinessesOnPage === previousNumberOfBusinessCount) {\r\n                      sameResultScrollCounter ++;\r\n                    }\r\n                    \r\n                    if (\r\n                      !(\r\n                        presentNumberOfBusinessesOnPage >= maximumBusinessesAllowed ||\r\n                        sameResultScrollCounter > sameResultScrollCounterLimit\r\n                      )\r\n                    ) {\r\n                      scrollWithTimeLagTeleport(\r\n                        presentNumberOfBusinessesOnPage,\r\n                        maximumBusinessesAllowed,\r\n                        itemsSelector,\r\n                        callback,\r\n                        sameResultScrollCounter\r\n                      );\r\n                    } else {\r\n                      callback();\r\n                    }\r\n                  }, 1000);\r\n                };\r\n\r\n                let onScrolledToBottomTeleport = () => {\r\n                  getBusinesses(\r\n                    document.querySelector(businessElementSelector).children\r\n                  ).forEach((businessSection, index) => {\r\n                    if (index > maxBusinessCount - 1) return;\r\n\r\n                    let businessDetail = {};\r\n                    try {\r\n                      businessDetail.ads = businessSection.ads;\r\n\r\n                      if (businessSection.querySelector(\"div>a\")) {\r\n                        businessDetail.title = businessSection\r\n                          .querySelector(\r\n                            \"div>div:nth-child(4)>div>div>div>div:nth-child(2)>div>:nth-child(3)\"\r\n                          )\r\n                          ?.innerText?.trim();\r\n                        if (!businessDetail.title) {\r\n                          businessDetail.title = businessSection\r\n                            .querySelector(\".fontHeadlineSmall\")\r\n                            ?.innerText?.trim();\r\n                        }\r\n\r\n                        if (!businessDetail.title) {\r\n                          businessDetail.title = businessSection.querySelector('div>div:nth-child(4)')?.innerText?.trim();\r\n                        }\r\n    \r\n                        businessDetail.category = businessSection\r\n                          .querySelector(\r\n                            \"div>div:nth-child(4)>div>div>div>div:nth-child(2)>:nth-child(4)>div>span>span\"\r\n                          )\r\n                          ?.innerText?.trim();\r\n                          if (!businessDetail.category) {\r\n                            businessDetail.category = businessSection\r\n                              .querySelector(\".fontHeadlineSmall\")\r\n                              .parentElement.parentElement.parentElement.parentElement\r\n                              .querySelector(\"div:nth-child(2)>:nth-child(4)>div>span>span\")\r\n                              ?.innerText?.trim();\r\n                        }\r\n                        \r\n    \r\n                        businessDetail.location = businessSection\r\n                          .querySelector(\r\n                            \"div>div:nth-child(4)>div>div>div>div:nth-child(2)>:nth-child(4)>div>:nth-child(2)>:nth-child(2)\"\r\n                          )\r\n                          ?.innerText?.trim();\r\n                          if (!businessDetail.location) {\r\n                            businessDetail.location = businessSection\r\n                              .querySelector(\".fontHeadlineSmall\")\r\n                              .parentElement.parentElement.parentElement.parentElement\r\n                              .querySelector(\"div:nth-child(2)>:nth-child(4)>div>:nth-child(2)>:nth-child(2)\")\r\n                              ?.innerText?.trim();\r\n                        }\r\n    \r\n    \r\n                        businessDetail.rating = parseFloat(\r\n                          businessSection.querySelector(\r\n                            \"div>div:nth-child(4)>div>div>div>div:nth-child(2)>:nth-child(3)>div>:nth-child(2)>span>span\"\r\n                          )?.innerText\r\n                        );\r\n                        if (!businessDetail.rating) {\r\n                          businessDetail.rating = parseFloat( businessSection\r\n                            .querySelector(\".fontHeadlineSmall\")\r\n                            .parentElement.parentElement.parentElement\r\n                            .querySelector(\"div:nth-child(2)>:nth-child(3)>div>:nth-child(2)>span>span\")\r\n                            ?.innerText\r\n                          );\r\n                        }\r\n    \r\n                        let rawPhoneText = businessSection.querySelector(\r\n                          \"div>div:nth-child(4)>div>div>div>div:nth-child(2)>:nth-child(4)>:nth-child(2):nth-child(2)>:nth-child(2)>span:nth-child(2)\"\r\n                        )?.innerText;\r\n                        if (!rawPhoneText) {\r\n                          rawPhoneText = businessSection.querySelector(\r\n                            \".fontHeadlineSmall\"\r\n                          )\r\n                            .parentElement.parentElement.parentElement\r\n                            .querySelector(\r\n                              \"div:nth-child(2)>:nth-child(4)>:nth-child(2):nth-child(2)>:nth-child(2)>span:nth-child(2)\"\r\n                            )?.innerText;\r\n                        }\r\n                        if (rawPhoneText) {\r\n                          businessDetail.formattedPhoneNumber = isValidPhoneNumber(\r\n                            rawPhoneText\r\n                          )\r\n                            ? formatPhoneNumber(rawPhoneText)\r\n                            : \"\";\r\n                        }\r\n    \r\n                        let rawPartialAddress = businessSection\r\n                        .querySelector(\"div>div:nth-child(4)>div>div>div>div:nth-child(2)>:nth-child(4)\")\r\n                        ?.querySelector(\":scope div>span:last-of-type > span:nth-child(2)\")?.innerText;\r\n                        \r\n                        if (!rawPartialAddress) { \r\n                          rawPartialAddress = businessSection.querySelector(\r\n                            \".fontHeadlineSmall\"\r\n                          )\r\n                            .parentElement.parentElement.parentElement\r\n                            .querySelector(\r\n                              \"div:nth-child(2)>:nth-child(4)>div>span:nth-child(2)>span:nth-child(2)\"\r\n                            )?.innerText;\r\n                        }\r\n                        if (rawPartialAddress) {\r\n                          if (!rawPartialAddress.match(/^\\+\\d/)) {\r\n                            businessDetail.formattedPartialAddress =\r\n                              formatAddress(rawPartialAddress);\r\n                            businessDetail.rawPartialAddress = rawPartialAddress;\r\n                          } else {\r\n                            businessDetail.rawPartialAddress = \"\";\r\n                            businessDetail.formattedPartialAddress = \"\";\r\n                          }\r\n                        }\r\n    \r\n                        const placeIdHref =\r\n                          businessSection.querySelector(\"div>div>a\")?.href;\r\n                        if (placeIdHref) {\r\n                          const placeId = extractPlaceIdFromHref(placeIdHref);\r\n                          businessDetail.placeId = placeId;\r\n                        }\r\n\r\n                        if (!businessDetail.placeId) {\r\n                          const anchorTags = businessSection.querySelectorAll(\"div a[href]\");\r\n\r\n                          if(anchorTags?.length > 0) { \r\n                            const hrefs = Array.from(anchorTags).map((a) => a.href);\r\n                            const placeIdHref = hrefs?.filter((href) =>\r\n                              extractPlaceIdFromHref(href)\r\n                            )?.[0];\r\n\r\n                            if (placeIdHref) {\r\n                              const placeId = extractPlaceIdFromHref(placeIdHref);\r\n                              businessDetail.placeId = placeId;\r\n                            }\r\n                          }\r\n                        }\r\n    \r\n                        businessesDetails.push(businessDetail);\r\n                      }\r\n                    } catch (error) {\r\n                    }\r\n\r\n                  });\r\n\r\n                  let bussinessRankList = businessesDetails.map(\r\n                    (businessDetail) => {\r\n                      let business = {\r\n                        name: businessDetail.title || \"\",\r\n                        address: businessDetail.rawPartialAddress || \"\",\r\n                        shortAddr: businessDetail.formattedPartialAddress || \"\",\r\n                        shortPhone: businessDetail.formattedPhoneNumber || \"\",\r\n                        rat: businessDetail.rating || \"\",\r\n                        pid: businessDetail.placeId || \"\",\r\n                      };\r\n\r\n                      if(businessDetail.ads) {\r\n                        business.ads = 1;\r\n                      }\r\n\r\n                      return business;\r\n                    }\r\n                  );\r\n\r\n                  const businessList = trimBusinessListIfExceedsTheUrlLengthLimit(\r\n                    teleportDashboardUrl,\r\n                    urlParams,\r\n                    teleportBusinessDetail,\r\n                    bussinessRankList\r\n                  );\r\n\r\n                  urlParams.append(\"businesses\", JSON.stringify(businessList));\r\n                  urlParams.append(\"searchedOnce\", true);\r\n                  urlParams.append(\r\n                    \"teleport-business\",\r\n                    JSON.stringify(teleportBusinessDetail)\r\n                  );\r\n                  window.location.replace(\r\n                    `${teleportDashboardUrl}?${urlParams.toString()}`\r\n                  );\r\n                };\r\n\r\n                let businessElementCount = getBusinesses(\r\n                  document.querySelector(businessElementSelector).children\r\n                ).length;\r\n\r\n                let container = document.querySelector(businessElementSelector);\r\n                container.scrollTo(0, container.scrollHeight);\r\n                scrollWithTimeLagTeleport(\r\n                  businessElementCount,\r\n                  maxBusinessCount,\r\n                  businessElementSelector,\r\n                  onScrolledToBottomTeleport\r\n                );\r\n              } else if (\r\n                document.querySelector(\r\n                  \"#pane>div>div>div>div>div:nth-child(2)>div>div>div>h1\"\r\n                )?.innerText === urlParams.get(\"businessName\")\r\n              ) {\r\n                // What scenario does this code run?\r\n                urlParams.append(\"result\", businessRank);\r\n                urlParams.append(\"searchedOnce\", true);\r\n                window.location.replace(\r\n                  `${teleportDashboardUrl}?${urlParams.toString()}`\r\n                );\r\n              }\r\n            } catch(e) {\r\n              forwardToErrorPage({\r\n                auditType: \"teleport\",\r\n                error: e,\r\n                newTab: false,\r\n              })\r\n              return;\r\n            }\r\n          });\r\n        }, 1000);\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\nconst isValidPhoneNumber = (value) => {\r\n  const regexp = new RegExp(\r\n    `^[\\s()+-]*([0-9][\\s()+-]*){${slicePhoneNumberLimit},20}$`\r\n  );\r\n  return regexp.test(value?.replace(/\\s/g, \"\"));\r\n};\r\n\r\nconst trimBusinessListIfExceedsTheUrlLengthLimit = (\r\n  teleportDashboardUrl,\r\n  existingUrlParams,\r\n  teleportBusinessDetail,\r\n  bussinessRankList\r\n) => {\r\n  try {\r\n    const cloudfrontUrlLimit = 8100;\r\n\r\n    let encodedUrl = buildAndEncodeUrl(\r\n      teleportDashboardUrl,\r\n      existingUrlParams,\r\n      teleportBusinessDetail,\r\n      bussinessRankList\r\n    );\r\n\r\n    if (encodedUrl.length < cloudfrontUrlLimit) {\r\n      return bussinessRankList;\r\n    }\r\n\r\n    encodedUrl = buildAndEncodeUrl(\r\n      teleportDashboardUrl,\r\n      existingUrlParams,\r\n      teleportBusinessDetail,\r\n      bussinessRankList.slice(0, 12)\r\n    );\r\n\r\n    if (encodedUrl.length < cloudfrontUrlLimit) {\r\n      return bussinessRankList.slice(0, 12);\r\n    }\r\n\r\n    return bussinessRankList.slice(0, 6);\r\n  } catch {\r\n    return bussinessRankList;\r\n  }\r\n};\r\n\r\nconst buildAndEncodeUrl = (\r\n  teleportDashboardUrl,\r\n  existingUrlParams,\r\n  teleportBusinessDetail,\r\n  bussinessRankList\r\n) => {\r\n  const urlSearchParams = new URLSearchParams(existingUrlParams.toString());\r\n\r\n  urlSearchParams.append(\"businesses\", JSON.stringify(bussinessRankList));\r\n  urlSearchParams.append(\"searchedOnce\", true);\r\n  urlSearchParams.append(\r\n    \"teleport-business\",\r\n    JSON.stringify(teleportBusinessDetail)\r\n  );\r\n\r\n  return `${teleportDashboardUrl}?${urlSearchParams.toString()}`;\r\n};\r\n\r\nexport { findBusinessRankForTeleport };\r\n","import { codeConstants, flag } from \"../feature-flag-and-constants\";\r\nimport { apiPostRequest, createFullPageLoader, createGuid, extractPlaceIdFromHref, forwardToErrorPage } from \"../utility\";\r\n\r\n\r\nconst auditType = \"local-scan\";\r\n\r\n// increased from 20 to 22 to account for the ads\r\n// they will be filtered in the teleport page\r\nconst maxBusinessCount = 22;\r\n\r\n// limit the business rank to 20\r\nconst businessRankLimit = 20;\r\n\r\n// already reached the end of the list, as it could be due to a connection issue.\r\nconst sameResultScrollCounterLimit = 3;\r\n\r\nconst getCurrentDomainHostName = () => window.location.hostname;\r\n\r\n// get businesses including ads\r\n// ads are filtered later on\r\nconst getBusinesses = function (elements) {\r\n    var newBusinessList = Array.from(elements)\r\n        .slice(2)\r\n        .filter((businessSection) =>\r\n            businessSection.querySelector(\"div>div>a\")?.href?.includes(\"/maps/place\")\r\n        );\r\n\r\n    newBusinessList.forEach((businessSection) => {\r\n        try {\r\n            // TODO: Fix bug on determing ads, if ads has no banner with (visit site)\r\n            businessSection.ads = !!isBusinessAds(businessSection) ? 1 : 0\r\n        } catch {\r\n            // Let all businesses through in case of an error\r\n            businessSection.ads = 0;\r\n        }\r\n    });\r\n\r\n    return newBusinessList;\r\n}\r\n\r\nconst isBusinessAds = function (businessSection) {\r\n    let isAds = false;\r\n    let adSectionElements = businessSection.querySelector(\r\n        \"div>div:nth-child(2)>div>div\"\r\n    )?.children;\r\n    if (adSectionElements) {\r\n        isAds =\r\n            adSectionElements.length === 4 &&\r\n            adSectionElements[0].tagName === \"SPAN\" &&\r\n            adSectionElements[1].tagName === \"SPAN\" &&\r\n            adSectionElements[2].tagName === \"BUTTON\";\r\n    }\r\n\r\n    let adSectionElementsV2 = businessSection.querySelector(\r\n        \"div>div:nth-child(2)>div>div>div:nth-child(2)>div>div:nth-child(3)>div>span\"\r\n    )?.innerText;\r\n    if (adSectionElementsV2 && isAds === false) {\r\n        isAds = true;\r\n    }\r\n\r\n    const isAdsV2 = isBusinessContainsAdBannerV2(businessSection);\r\n\r\n    // this condition kinda overrides the other ads conditions \r\n    // as this three dot menu button is showing for sponsored businesses even with or without ads banner\r\n    const isAdsV3 = isBusinessContainsSponsoredThreeDotMenuButton(businessSection);\r\n\r\n    return isAds || isAdsV2 || isAdsV3;\r\n}\r\n\r\nconst isBusinessContainsAdBannerV2 = (businessSection) => {\r\n    const anchorElements = businessSection.querySelectorAll('a');\r\n    let found = false;\r\n\r\n    anchorElements.forEach((element) => {\r\n        const href = element.getAttribute('href');\r\n        if (href && href.includes('/aclk?')) {\r\n            found = true;\r\n            return;\r\n        }\r\n    });\r\n\r\n    return found;\r\n}\r\n\r\nconst isBusinessContainsSponsoredThreeDotMenuButton = (businessSection) => {\r\n    var buttonExists = businessSection?.querySelector(\"div>h1>span>span>button[aria-haspopup='true']\");\r\n    return !!buttonExists;\r\n}\r\n\r\nconst onFinishedFindingBusinesses = () => {\r\n    return new Promise((resolve) => {\r\n        let businessesDetails = [];\r\n\r\n        try {\r\n            // results are in order, it servers as their rank\r\n            const businessList = getBusinesses(getBusinessSectionElement().children);\r\n            businessList.forEach((businessSection, index) => {\r\n                // skips ads and when it reaches the max business count\r\n                if (index > maxBusinessCount - 1 || businessSection.ads) return;\r\n\r\n                try {\r\n                    let businessDetail = {};\r\n                    if (businessSection.querySelector(\"div>a\")) {\r\n                        const extractPlaceId = () => {\r\n                            let placeId = \"\";\r\n\r\n                            const placeIdHref = businessSection.querySelector(\"div>div>a\")?.href;\r\n                            if (placeIdHref) {\r\n                                placeId = extractPlaceIdFromHref(placeIdHref);\r\n                            }\r\n\r\n                            if (!placeId) {\r\n                                const anchorTags = businessSection.querySelectorAll(\"div a[href]\");\r\n\r\n                                if (anchorTags?.length > 0) {\r\n                                    const hrefs = Array.from(anchorTags).map((a) => a.href);\r\n                                    const placeIdHref = hrefs?.filter((href) =>\r\n                                        extractPlaceIdFromHref(href)\r\n                                    )?.[0];\r\n\r\n                                    if (placeIdHref) {\r\n                                        placeId = extractPlaceIdFromHref(placeIdHref);\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            return placeId;\r\n                        }\r\n\r\n                        const extractBusinessName = () => {\r\n                            let businessName = businessSection\r\n                                .querySelector(\r\n                                    \"div>div:nth-child(4)>div>div>div>div:nth-child(2)>div>:nth-child(3)\"\r\n                                )\r\n                                ?.innerText?.trim();\r\n                            if (!businessName) {\r\n                                businessName = businessSection\r\n                                    .querySelector(\".fontHeadlineSmall\")\r\n                                    ?.innerText?.trim();\r\n                            }\r\n                            if (!businessName) {\r\n                                businessName = businessSection.querySelector('div>div:nth-child(4)')?.innerText?.trim();\r\n                            }\r\n\r\n                            return businessName;\r\n                        }\r\n\r\n                        businessDetail.placeId = extractPlaceId();\r\n                        businessDetail.businessName = extractBusinessName();\r\n                        businessDetail.exactLink = businessSection.querySelector(\"div>div>a\")?.href;\r\n                        businessesDetails.push(businessDetail);\r\n                    }\r\n\r\n                } catch { }\r\n            });\r\n\r\n            let bussinessRankList = businessesDetails\r\n                .slice(0, businessRankLimit)\r\n                .map(\r\n                    (businessDetail, index) => {\r\n                        let business = {\r\n                            businessName: businessDetail.businessName,\r\n                            pid: businessDetail.placeId,\r\n                            businessUrl: businessDetail.placeId ?\r\n                                `https://${getCurrentDomainHostName()}/maps/place/?q=place_id:${businessDetail.placeId}` : businessDetail.exactLink,\r\n                            businessRank: index + 1\r\n                        };\r\n\r\n                        return business;\r\n                    }\r\n                );\r\n\r\n            // iterate each business then call function AuditInformationLogic but with delay of 250m\r\n            const businessesRankDetailsPromises = bussinessRankList.map((business, index) => {\r\n                return new Promise((resolve) => {\r\n                    setTimeout(() => {\r\n                        let url = business.businessUrl;\r\n                        getBusinessDetails(url)\r\n                            .then((windowArray) => {\r\n                                resolve({\r\n                                    rawdata: windowArray,\r\n                                    businessName: business.businessName,\r\n                                    rank: business.businessRank\r\n                                });\r\n                            })\r\n                            .catch((_) => {\r\n                                resolve({\r\n                                    rawdata: [],\r\n                                    businessName: business.businessName,\r\n                                    rank: business.businessRank\r\n                                });\r\n                            })\r\n                    }, index * 250);\r\n                })\r\n            });\r\n\r\n            Promise.all(businessesRankDetailsPromises).then((results) => {\r\n                resolve(results);\r\n            });\r\n        } catch (e) {\r\n            onError(e);\r\n            return;\r\n        }\r\n    })\r\n}\r\n\r\n\r\nconst getBusinessDetails = (businessUrl) => {\r\n    return new Promise((resolve, reject) => {\r\n        getWindowInitializationStateFromGoogleMap(businessUrl)\r\n            .then((data) => {\r\n                try {\r\n                    const processedTxt = data && data[3] ? data[3][6] : \"\";\r\n                    if (!processedTxt || processedTxt.length <= 5) {\r\n                        throw new Error('Invalid processed text data');\r\n                    }\r\n\r\n                    const windowArray = JSON.parse(processedTxt.substring(5));\r\n                    if (!windowArray || !windowArray[6]) {\r\n                        throw new Error('Invalid window array data');\r\n                    }\r\n\r\n                    const dataArray = windowArray[6];\r\n                    resolve(dataArray);\r\n                } catch (e) {\r\n                    reject(e);\r\n                }\r\n            })\r\n            .catch((e) => {\r\n                reject(e);\r\n            });\r\n    });\r\n}\r\n\r\nconst scrollToBottom = (container) => {\r\n    container.scrollTo(0, container.scrollHeight);\r\n}\r\n\r\nconst scrollToTop = (container) => {\r\n    container.scrollTo(0, 0);\r\n}\r\n\r\nconst isCorrectBusinessSection = (businessSection) => businessSection?.matches('[role=\"feed\"]') ?? false;\r\n\r\nconst getBusinessSectionElement = () => {\r\n    const businessSectionV1 = document.querySelector(\"#pane>div>div>div>div>div>div\");\r\n    if (isCorrectBusinessSection(businessSectionV1)) return businessSectionV1;\r\n\r\n    const businessSectionV2 = document.querySelector(\"#pane+div>div>div>div>div:nth-child(2)>div>div>div>div>div>div\");\r\n    if (isCorrectBusinessSection(businessSectionV2)) return businessSectionV2;\r\n\r\n    // for hotels\r\n    const businessSectionV3 = document.querySelector(\"#pane+div>div>div>div>div:nth-child(2)>div>div>div>div>div>div\")?.parentElement?.nextElementSibling?.firstChild;\r\n    if (isCorrectBusinessSection(businessSectionV3)) return businessSectionV3;\r\n\r\n    return null;\r\n}\r\n\r\nconst scrollToFindBusinesses = () => {\r\n    return new Promise((resolve) => {\r\n        try {\r\n            const businessSectionElement = getBusinessSectionElement();\r\n\r\n            if (!businessSectionElement) {\r\n                onError(new Error(\"businessSectionElement not found!\"));\r\n                return;\r\n            }\r\n\r\n            const scrollLoopWithTimeLag = (\r\n                previousNumberOfBusinessCount,\r\n                sameResultScrollCounter\r\n            ) => {\r\n                setTimeout(() => {\r\n                    try {\r\n                        let container = getBusinessSectionElement();\r\n                        let presentNumberOfBusinessesOnPage = getBusinesses(\r\n                            container.children\r\n                        ).length;\r\n\r\n                        if (presentNumberOfBusinessesOnPage === previousNumberOfBusinessCount) {\r\n                            sameResultScrollCounter++;\r\n                        }\r\n\r\n                        if (presentNumberOfBusinessesOnPage >= maxBusinessCount || sameResultScrollCounter > sameResultScrollCounterLimit) {\r\n                            scrollToTop(container);\r\n\r\n                            // done scrolling, resolve the promise\r\n                            resolve();\r\n                        } else {\r\n                            scrollToBottom(container);\r\n                            scrollLoopWithTimeLag(presentNumberOfBusinessesOnPage, sameResultScrollCounter);\r\n                        }\r\n                    } catch (e) {\r\n                        onError(e);\r\n                        return\r\n                    }\r\n                }, 1000);\r\n            }\r\n\r\n            scrollLoopWithTimeLag(0, 0);\r\n        } catch (e) {\r\n            onError(e);\r\n            return;\r\n        }\r\n    })\r\n}\r\n\r\nconst onError = (e) => {\r\n    hideGMBOverlay();\r\n    forwardToErrorPage({\r\n        auditType: auditType,\r\n        error: e,\r\n        newTab: true,\r\n    })\r\n}\r\n\r\nconst hideGMBOverlay = () => {\r\n    document.getElementById(\"fullPageGreySection\")?.remove();\r\n}\r\n\r\nconst findBusinessesAndAnalyze = () => {\r\n    return new Promise((resolve, reject) => {\r\n        scrollToFindBusinesses().then(() => {\r\n            onFinishedFindingBusinesses().then((results) => {\r\n\r\n                const uniqueGUIDKey = createGuid();\r\n                const dashboardUrl = codeConstants[\"local-scan\"][\"dashboard-url\"];\r\n                const sendDataApiUrl = codeConstants[\"local-scan\"][\"send-data-api-url\"];\r\n\r\n                const url = new URL(dashboardUrl);\r\n                url.searchParams.set(\"data-unique-code\", uniqueGUIDKey);\r\n\r\n                let hasNavigated = false;\r\n\r\n                // Set a timeout to force navigation after 3 seconds\r\n                const timeoutId = setTimeout(() => {\r\n                    if (!hasNavigated) {\r\n                        hasNavigated = true;\r\n                        hideGMBOverlay();\r\n                        window.open(url.toString(), '_blank');\r\n                    }\r\n                }, 3000);\r\n\r\n                const data = {\r\n                    \"url\": window.location.href,\r\n                    \"searchTerm\": document.querySelector(\"#searchboxinput\")?.value,\r\n                    \"rawData\": results,\r\n                }\r\n\r\n                apiPostRequest(sendDataApiUrl, {\r\n                    \"unique_code\": uniqueGUIDKey,\r\n                    \"data\": JSON.stringify(data),\r\n                    \"feature_type\": auditType\r\n                }).then((_) => {\r\n                    clearTimeout(timeoutId);\r\n                    if (!hasNavigated) {\r\n                        hasNavigated = true;\r\n                        hideGMBOverlay();\r\n                        window.open(url.toString(), '_blank');\r\n                    }\r\n\r\n                    return resolve();\r\n                }).catch((e) => {\r\n                    clearTimeout(timeoutId);\r\n                    onError(e);\r\n\r\n                    return reject(e);\r\n                });\r\n            });\r\n        });\r\n    });\r\n}\r\n\r\nconst createLocalScanButtonForMapPage = () => {\r\n    const onClick = () => {\r\n        createFullPageLoader(\"GMB Everywhere is processing.<br>Stay on this tab to continue processing.\");\r\n        findBusinessesAndAnalyze();\r\n    }\r\n\r\n    const localScanButton = createLocalScanButton(onClick);\r\n\r\n    return localScanButton;\r\n}\r\n\r\nconst createLocalScanButton = (onClick) => {\r\n    const button = document.createElement(\"button\");\r\n    button.classList.add(\"btn-local-scan\");\r\n    button.style.cssText = `\r\n      border: 3px solid rgb(204, 77, 41); \r\n      background-color: rgb(255, 200, 185);\r\n      color: rgb(0, 0, 0); \r\n      font-size: 12px; \r\n      padding: 5px 5px; \r\n      border-radius: 5px; \r\n      cursor: pointer; \r\n      font-weight: 600;\r\n      z-index: 10;\r\n    `;\r\n\r\n    button.textContent = \"🔍 Local Scan\"\r\n\r\n    button.onclick = (event) => {\r\n        event.stopPropagation();\r\n        onClick();\r\n    }\r\n\r\n    return button;\r\n}\r\n\r\nconst appendLocalScanButton = () => {\r\n    if (flag.mapSearchPageLocalScan) {\r\n        const buttonExists = document.querySelector(\".btn-local-scan\");\r\n        if (!buttonExists) {\r\n\r\n            // check if the business section is a hotel type business\r\n            // this is the same selector used in businessSectionV3\r\n            const hotelTypeBusinessSection = document.querySelector(\"#pane+div>div>div>div>div:nth-child(2)>div>div>div>div>div>div\")?.parentElement?.nextElementSibling?.firstChild;\r\n            if (isCorrectBusinessSection(hotelTypeBusinessSection)) {\r\n                const container = document.querySelector(\"div[data-callout-id]\")?.parentElement?.parentElement?.parentElement?.nextElementSibling?.firstChild;\r\n                if (container) {\r\n                    // adjust the button design for hotel type businesses as it's always have the \"sort by\" button\r\n                    var localScanButton = createLocalScanButtonForMapPage();\r\n                    localScanButton.textContent = \"Local Scan\";\r\n                    localScanButton.style.padding = \"5px 2px\"\r\n                    \r\n                    // adjusted margin for the button to fit in the layout\r\n                    container.parentElement.style.marginLeft = '0';\r\n                    container.insertBefore(localScanButton, container.firstChild);\r\n                }\r\n                return;\r\n            }\r\n\r\n            // for other types of businesses\r\n            const container = document.querySelector(\"div[data-callout-id]\")?.parentElement?.parentElement?.parentElement.nextElementSibling;\r\n            if (container) {\r\n                var localScanButton = createLocalScanButtonForMapPage();\r\n\r\n                // adjust the button if there's a \"sort by\" button\r\n                const sortByButton = container.querySelector(\"button[aria-haspopup='menu']\");\r\n                if (sortByButton) {\r\n                    localScanButton.textContent = \"Local Scan\";\r\n                    localScanButton.style.padding = \"5px 2px\"\r\n                } \r\n\r\n                container.insertBefore(localScanButton, container.firstChild);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst getWindowInitializationStateFromGoogleMap = (url) => {\r\n    return new Promise((resolve, reject) => {\r\n        const xhr = new XMLHttpRequest();\r\n\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === XMLHttpRequest.DONE) {\r\n                const status = xhr.status;\r\n                if (status === 0 || (status >= 200 && status < 400)) {\r\n                    try {\r\n                        const searchString = \"window.APP_INITIALIZATION_STATE=\";\r\n                        const codeStart = xhr.response.indexOf(searchString);\r\n                        const codeEnd = xhr.response.indexOf(\"window.APP_FLAGS\", codeStart);\r\n                        const code = xhr.response.substring(\r\n                            codeStart + searchString.length,\r\n                            codeEnd\r\n                        );\r\n\r\n                        // Remove the trailing semicolon before parsing\r\n                        const WindowInitializationState = JSON.parse(code.slice(0, -1));\r\n                        resolve(WindowInitializationState);\r\n                    } catch (e) {\r\n                        reject(e); // Reject if JSON parsing or extraction fails\r\n                    }\r\n                } else {\r\n                    reject(new Error(`Request failed with status: ${status}`));\r\n                }\r\n            }\r\n        };\r\n\r\n        xhr.onerror = () => {\r\n            reject(new Error(\"Network error or request failed\"));\r\n        };\r\n\r\n        xhr.open(\"GET\", url);\r\n        xhr.send();\r\n    });\r\n};\r\n\r\nconst processAndAnalyzeBusinesses = (businesses) => {\r\n    createFullPageLoader(\"GMB Everywhere is processing.<br>Stay on this tab to continue processing.\");\r\n    const businessesRankDetailsPromises = businesses.map((business, index) => {\r\n        return new Promise((resolve) => {\r\n            setTimeout(() => {\r\n                let url = business.businessUrl;\r\n                getBusinessDetails(url)\r\n                    .then((windowArray) => {\r\n                        resolve({\r\n                            rawdata: windowArray,\r\n                            businessName: business.businessName,\r\n                            rank: business.rank\r\n                        });\r\n                    })\r\n                    .catch((_) => {\r\n                        resolve({\r\n                            rawdata: [],\r\n                            businessName: business.businessName,\r\n                            rank: business.rank\r\n                        });\r\n                    })\r\n            }, index * 250);\r\n        })\r\n    });\r\n\r\n    Promise.all(businessesRankDetailsPromises).then((results) => {\r\n\r\n        const uniqueGUIDKey = createGuid();\r\n        const dashboardUrl = codeConstants[\"local-scan\"][\"dashboard-url\"];\r\n        const sendDataApiUrl = codeConstants[\"local-scan\"][\"send-data-api-url\"];\r\n\r\n        const url = new URL(dashboardUrl);\r\n        url.searchParams.set(\"data-unique-code\", uniqueGUIDKey);\r\n\r\n        let hasNavigated = false;\r\n\r\n        // Set a timeout to force navigation after 3 seconds\r\n        const timeoutId = setTimeout(() => {\r\n            if (!hasNavigated) {\r\n                hasNavigated = true;\r\n                hideGMBOverlay();\r\n                window.open(url.toString(), '_blank');\r\n            }\r\n        }, 3000);\r\n\r\n        const data = {\r\n            \"url\": window.location.href,\r\n            \"searchTerm\": document.querySelector(\"#searchboxinput\")?.value,\r\n            \"rawData\": results,\r\n        }\r\n\r\n        apiPostRequest(sendDataApiUrl, {\r\n            \"unique_code\": uniqueGUIDKey,\r\n            \"data\": JSON.stringify(data),\r\n            \"feature_type\": auditType\r\n        }).then((_) => {\r\n            clearTimeout(timeoutId);\r\n            if (!hasNavigated) {\r\n                hasNavigated = true;\r\n                hideGMBOverlay();\r\n                window.open(url.toString(), '_blank');\r\n            }\r\n\r\n        }).catch((e) => {\r\n            clearTimeout(timeoutId);\r\n            onError(e);\r\n        });\r\n    });\r\n}\r\n\r\nexport { appendLocalScanButton, createLocalScanButton, onError, processAndAnalyzeBusinesses };\r\n\r\n","import { parse, format, addDays, addHours, addWeeks, addMinutes } from 'date-fns';\r\n\r\nimport { codeConstants } from \"../feature-flag-and-constants\";\r\n\r\nimport { countNumberOfTimeValueExistInArray, returnUniqueValuesInArray, getUrlAppendUserInformationAndForward, createFullPageLoader } from '../utility';\r\n\r\n\r\nlet isPageContainsPost = () => {\r\n  let htmlData = document.documentElement.innerHTML;\r\n  if (htmlData.indexOf(\"Latest from the owner\") != -1 || htmlData.indexOf(\"View previous updates on Google\") != -1) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n\r\nlet scrollPostWithTimeLag = (maximumPostToBeScrapped, presentNumberOfPostOnPageClicker = 0) => {\r\n  setTimeout(function () {\r\n    let postSection = document.querySelectorAll(\"[data-show-pinned-post]\")[0];\r\n    \r\n    postSection.firstChild.scrollTo(0, postSection.firstChild.scrollHeight);\r\n    let calculatedNumberOfPostsOnPage = document.querySelectorAll(\"article[data-post-id][data-feature-id]:not([data-post-type])\").length;\r\n\r\n    if ((calculatedNumberOfPostsOnPage < maximumPostToBeScrapped) && (presentNumberOfPostOnPageClicker !== calculatedNumberOfPostsOnPage)) {\r\n      scrollPostWithTimeLag(maximumPostToBeScrapped, calculatedNumberOfPostsOnPage);\r\n    } else {\r\n      displayFinalPostArray();\r\n    }\r\n    // console.log(calculatedNumberOfPostsOnPage);\r\n  }, 2000);\r\n}\r\n\r\nlet findMoreButtonsAndClickThem = (indivitualPostNodeSet) => {\r\n  let nodesWithMoreTextArray = [];\r\n  let spanElement;\r\n  for (let i = 0; i < indivitualPostNodeSet.length; i++) {\r\n\r\n    spanElement = indivitualPostNodeSet[i].querySelectorAll(\"span\");\r\n    for (let j = 0; j < spanElement.length; j++) {\r\n      if (spanElement[j].textContent.toLowerCase() === \"more\") {\r\n        nodesWithMoreTextArray.push(spanElement[j]);\r\n      }\r\n    }\r\n  }\r\n\r\n  nodesWithMoreTextArray.forEach(node => node.click());\r\n}\r\n\r\nlet getFinalPostValuesAndForward = (postValues, isPostExistOnPage) => {\r\n  chrome.storage.local.get(['ge-business-details-key'], function (result) {\r\n    var url = new URL(window.location.href);\r\n    var uniqueGUIDKey = url.searchParams.get(\"unique-code\");\r\n    writePostToValueAndForward(result['ge-business-details-key'], postValues, uniqueGUIDKey, isPostExistOnPage);\r\n\r\n  });\r\n}\r\n\r\nlet writePostToValueAndForward = (resultOfStorage, finalPostArrayList, uniqueGUIDKey, isPostThereInPage) => {\r\n\r\n  for (let i = resultOfStorage.length - 1; i >= 0; i--) {\r\n    // URL fragment (#) truncates the last unique-code character, so we compare only first 30 characters\r\n    if (uniqueGUIDKey && resultOfStorage[i][\"key\"].substring(0, 30) === uniqueGUIDKey.substring(0, 30)) {\r\n\r\n      // let orderedREviewTimeAndCounter = getReviewCountPerDateFromReviewList(finalPostArrayList);\r\n\r\n      // let { graphXAxis, graphYAxis } = cleanUpXYGraphData(orderedREviewTimeAndCounter, resultOfStorage[i], finalPostArrayList);\r\n      // resultOfStorage[i][\"value\"][\"xy-axis-Values\"] = { \"graph-x\": graphXAxis, \"graph-y\": graphYAxis };\r\n      // let calculatedReviewValues = getReviewValues(finalPostArrayList);\r\n      resultOfStorage[i][\"value\"][\"post-details\"] = finalPostArrayList;\r\n\r\n\r\n\r\n      let postAuditUrl = codeConstants['audit-dashboard']['post-audit-url'];\r\n      getUrlAppendUserInformationAndForward(postAuditUrl + \"?ge-mode=business-details&audit-type=post&unique-code=\" +  encodeURIComponent(uniqueGUIDKey) + \"&isPostExistForBusiness=\" + ((isPostThereInPage)?\"true\": \"false\") + \"&dashboard-data=\" + encodeURIComponent(JSON.stringify(resultOfStorage[i][\"value\"])), true);\r\n\r\n\r\n    }\r\n\r\n  }\r\n}\r\n\r\nlet convertPostDateToActualDate = (postDateAsString) => {\r\n  let returnDate = new Date();\r\n  const timeStringAsArray = postDateAsString.split(\" \");\r\n\r\n  if (postDateAsString.toLowerCase().indexOf(\"hour\") !== -1) {\r\n    if (timeStringAsArray[0].indexOf(\"an\") !== -1) {\r\n      returnDate = addHours(returnDate, -1);\r\n    } else {\r\n      returnDate = addHours(returnDate, -parseInt(timeStringAsArray[0]));\r\n    }\r\n  } else if (postDateAsString.toLowerCase().indexOf(\"day\") !== -1) {\r\n    if (timeStringAsArray[0].indexOf(\"a\") !== -1) {\r\n      returnDate = addDays(returnDate, -1);\r\n\r\n    } else {\r\n      returnDate = addDays(returnDate, -parseInt(timeStringAsArray[0]));\r\n    }\r\n  } else if (postDateAsString.toLowerCase().indexOf(\"week\") !== -1) {\r\n    if (timeStringAsArray[0].indexOf(\"a\") !== -1) {\r\n      returnDate = addWeeks(returnDate, -1);\r\n\r\n    } else {\r\n      returnDate = addWeeks(returnDate, -parseInt(timeStringAsArray[0]));\r\n    }\r\n  } else if (postDateAsString.toLowerCase().indexOf(\"min\") !== -1) {\r\n    if (timeStringAsArray[0].indexOf(\"a\") !== -1) {\r\n      returnDate = addMinutes(returnDate, -1);\r\n\r\n    } else {\r\n      returnDate = addMinutes(returnDate, -parseInt(timeStringAsArray[0]));\r\n    }\r\n  } else {\r\n    returnDate = format(new Date(postDateAsString), \"MM-dd-yyyy\");\r\n  }\r\n  return returnDate;\r\n\r\n}\r\n\r\nlet getVideoImgSectionAndTextSection = (indivitualPostNode) => {\r\n  let returnTextAndVideoImage = {\r\n    \"text-section\": null,\r\n    \"image-video-section\": null\r\n  };\r\n\r\n  if ([3, 4].includes(indivitualPostNode.firstChild.childElementCount)) {\r\n    /* It looks like the new version comes with only 3 children that contain media and text-section, \r\n       but the original condition still remains as the other customers might still have the old version */\r\n    returnTextAndVideoImage['image-video-section'] = indivitualPostNode.firstChild.children[1];\r\n    returnTextAndVideoImage['text-section'] = indivitualPostNode.firstChild.children[2];\r\n  } else {\r\n    if (indivitualPostNode.firstChild.children[1].querySelectorAll(\"img\").length > 0 || indivitualPostNode.firstChild.children[1].querySelectorAll(\"video\").length > 0) {\r\n      returnTextAndVideoImage['image-video-section'] = indivitualPostNode.firstChild.children[1];\r\n    } else {\r\n      returnTextAndVideoImage['text-section'] = indivitualPostNode.firstChild.children[1];\r\n    }\r\n  }\r\n  return returnTextAndVideoImage;\r\n\r\n}\r\n\r\nlet displayFinalPostArray = () => {\r\n  let indivitualPostNode = document.querySelectorAll(\"article[data-post-id][data-feature-id]:not([data-post-type])\");\r\n  findMoreButtonsAndClickThem(indivitualPostNode);\r\n  setTimeout(() => {\r\n    let postElement = [];\r\n    let finalJSONValue;\r\n    let totalPostCharacters = 0;\r\n    let totalPostWords = 0;\r\n    let totalPostWithImage = 0;\r\n    let totalPostWithVideo = 0;\r\n    let totalPostWithLink = 0;\r\n    let totalNumberOfPost = indivitualPostNode.length;\r\n    for (let i = 0; i < indivitualPostNode.length; i++) {\r\n\r\n      let dateOfPost = convertPostDateToActualDate(indivitualPostNode[i].firstChild.children[0].children[1].children[1].innerText);\r\n\r\n      postElement.push(format(new Date(dateOfPost), \"MM-dd-yyyy\"));\r\n      let imageVideoOrTextSection = getVideoImgSectionAndTextSection(indivitualPostNode[i]);\r\n\r\n      if (imageVideoOrTextSection['image-video-section'] && imageVideoOrTextSection['image-video-section'].querySelectorAll(\"img\").length > 0) {\r\n        totalPostWithImage++;\r\n\r\n      }\r\n\r\n      if (imageVideoOrTextSection['image-video-section'] && imageVideoOrTextSection['image-video-section'].querySelectorAll(\"video\").length > 0) {\r\n        totalPostWithVideo++;\r\n      }\r\n\r\n      if (imageVideoOrTextSection['text-section'] && imageVideoOrTextSection['text-section'].querySelectorAll(\"a\").length>0) {\r\n        totalPostWithLink++;\r\n      }\r\n\r\n      if (imageVideoOrTextSection['text-section']) {\r\n        totalPostCharacters += imageVideoOrTextSection['text-section'].innerText.replaceAll(\"\\n\",\" \").length;\r\n        totalPostWords += imageVideoOrTextSection['text-section'].innerText.trim().split(/\\s+/).length;\r\n      }\r\n\r\n\r\n\r\n    }\r\n    let xAxis = returnUniqueValuesInArray(postElement).reverse();\r\n    let yAxis = [];\r\n    xAxis.forEach(value => yAxis.push(countNumberOfTimeValueExistInArray(value, postElement)));\r\n\r\n\r\n    finalJSONValue = {\r\n      \"xy-axis-values\": {\r\n        \"graph-x\": xAxis,\r\n        \"graph-y\": yAxis\r\n      },\r\n      \"total-post-with-image\": totalPostWithImage,\r\n      \"total-post-with-video\": totalPostWithVideo,\r\n      \"total-post-with-links\": totalPostWithLink,\r\n      \"average-post-characters\": (totalPostCharacters / totalNumberOfPost).toFixed(2),\r\n      \"average-post-words\": (totalPostWords / totalNumberOfPost).toFixed(2),\r\n      \"total-number-of-post\": totalNumberOfPost\r\n    };\r\n    getFinalPostValuesAndForward(finalJSONValue, true);\r\n\r\n  }, 2000)\r\n\r\n\r\n  // console.log(postElement);\r\n\r\n\r\n}\r\n\r\nlet forwardToPostPage = () => {\r\n  let url = new URL(window.location.href);\r\n  if (url.searchParams.get('unique-code')) {\r\n    if (isPageContainsPost()){\r\n      createFullPageLoader(\"GMB Everywhere is processing.<br>Stay on this tab to continue processing.\");\r\n      let checkPopupExist2 = setInterval(() => {\r\n\r\n        if ( document.querySelectorAll('[data-show-pinned-post]').length > 0 ) {\r\n          clearInterval(checkPopupExist2);\r\n          let maximumPostSizeforScrapping = codeConstants[\"audit-dashboard\"][\"maximum-number-of-posts-needed-scraping\"];\r\n          scrollPostWithTimeLag(maximumPostSizeforScrapping);\r\n          // RetrieveReviews.ScrollThroughReviewsAndForward();\r\n        } \r\n      }, 500);\r\n    } else {\r\n      getFinalPostValuesAndForward(null, false);\r\n    }\r\n  } else {\r\n    Utility.createFullPageLoader(\"An error occured. Please try again.\", true);\r\n\r\n  } \r\n}\r\n          \r\nexport { forwardToPostPage };","import { displayFinalReviewarray } from \"./display-final-review\";\r\nimport { codeConstants, REVIEW_AUDIT_MODAL_VERSION } from \"../feature-flag-and-constants\";\r\nimport { getReviewAuditModalVersion, forwardToErrorPage } from \"../utility\"\r\n\r\nlet reviewAuditModalVersion;\r\n\r\nconst ScrollThroughReviewsAndForward = () => {\r\n  reviewAuditModalVersion = getReviewAuditModalVersion();\r\n\r\n  var url = new URL(window.location.href);\r\n  var reviewParam = url.searchParams.get(\"number-of-reviews\");\r\n  // Remove non-numeric characters from the reviewParam\r\n  // This is to safeguard against any non-numeric characters in the number-of-reviews param in the URL \r\n  // if the URL has no fragment since we added an 'n' to the end of the URL \r\n  var numberOfReviews = reviewParam ? parseInt(reviewParam.replace(/[^0-9]/g, '')) : 0;\r\n\r\n  const maximumReviewAllowed =\r\n    codeConstants[\"audit-dashboard\"][\r\n      \"maximum-number-of-reviews-needed-scraping\"\r\n    ];\r\n  setTimeout(function () {\r\n\r\n    if(reviewAuditModalVersion === REVIEW_AUDIT_MODAL_VERSION.v1) {\r\n      document.querySelector('[data-sort-id=\"newestFirst\"]').click()\r\n    } else {\r\n      document.querySelector('g-scrolling-carousel[jsshadow] div[data-sort=\"2\"]').click();\r\n    }\r\n\r\n    scrollWithTimeLag(numberOfReviews, maximumReviewAllowed, 0, 0);\r\n  }, 2000);\r\n};\r\n\r\nlet scrollReviewsSection = () => {\r\n  let element;\r\n  let hasValidElement = false;\r\n  if(reviewAuditModalVersion === REVIEW_AUDIT_MODAL_VERSION.v1) {\r\n    element = document.getElementsByClassName(\"review-dialog-list\");\r\n    if(element.length > 0) {\r\n      element = element[0];\r\n      hasValidElement = true;\r\n    }\r\n  }\r\n  else if (reviewAuditModalVersion === REVIEW_AUDIT_MODAL_VERSION.v2) {\r\n    element = document.querySelectorAll(\".review-dialog > c-wiz[data-feature-id] > div\");\r\n    if(element.length > 2) {\r\n      element = element[2];\r\n      hasValidElement = true;\r\n    }\r\n\r\n    element = document.querySelectorAll(\"div[role='dialog'] > div > c-wiz[data-feature-id] > div\");\r\n    if(element.length > 2) {\r\n      element = element[2];\r\n      hasValidElement = true;\r\n    }\r\n  }\r\n\r\n  if(hasValidElement) {\r\n    element.scrollTo(0, element.scrollHeight);\r\n  } else {\r\n    forwardToErrorPage({\r\n      auditType: \"review-audit\",\r\n      error: new Error(\"No valid element found to scroll to\"),\r\n      newTab: false\r\n    });\r\n\r\n    return;\r\n  }\r\n};\r\n\r\nlet scrollWithTimeLag = (\r\n  totalNumberOfReview,\r\n  maximumReviewAllowed,\r\n  previousNumberOfReviewsOnPage,\r\n  retryCount\r\n) => {\r\n  setTimeout(function () {\r\n    let presentNumberOfReviewsOnPage;\r\n    if(reviewAuditModalVersion === REVIEW_AUDIT_MODAL_VERSION.v1) {\r\n      presentNumberOfReviewsOnPage = document.getElementsByClassName(\r\n        \"gws-localreviews__google-review\"\r\n        ).length;\r\n    } else {\r\n      presentNumberOfReviewsOnPage = document.querySelectorAll('div[jsdata] > div[data-ved] div[data-id][data-hveid]').length;\r\n    }\r\n   \r\n    scrollReviewsSection();\r\n\r\n    if (\r\n      !(\r\n        presentNumberOfReviewsOnPage == totalNumberOfReview ||\r\n        presentNumberOfReviewsOnPage >= maximumReviewAllowed ||\r\n        retryCount > 10\r\n      )\r\n    ) {\r\n      \r\n      if (previousNumberOfReviewsOnPage == presentNumberOfReviewsOnPage && !document.hidden) {\r\n        retryCount++;\r\n      }\r\n      else {\r\n        retryCount = 0;\r\n      }\r\n\r\n      previousNumberOfReviewsOnPage = presentNumberOfReviewsOnPage;\r\n\r\n      scrollReviewsSection();\r\n\r\n      scrollWithTimeLag(\r\n        totalNumberOfReview,\r\n        maximumReviewAllowed,\r\n        previousNumberOfReviewsOnPage,\r\n        retryCount\r\n      );\r\n\r\n    } else {\r\n      displayFinalReviewarray();\r\n    }\r\n  }, 600);\r\n};\r\n\r\nexport { ScrollThroughReviewsAndForward };\r\n","const flag = {\r\n  individualPage: true,\r\n  searchPage: true,\r\n  localFinder: true,\r\n  logger: false,\r\n  localFinderBasicAudit: true,\r\n  localFinderReviewAudit: true,\r\n  localFinderPostAudit: true,\r\n  localFinderTeleport: true,\r\n  localFinderAIAudit: true,\r\n  localFinderLocalScan: true,\r\n  mapPageBasicAudit: true,\r\n  mapPageReviewAudit: true,\r\n  mapPagePostAudit: true,\r\n  mapPageTeleport: true,\r\n  mapPageAIAudit: true,\r\n  mapSearchPageBasicAudit: true,\r\n  mapSearchPageReviewAudit: true,\r\n  mapSearchPagePostAudit: true,\r\n  mapSearchPageAIAudit: true,\r\n  mapSearchPageLocalScan: true,\r\n  googleSearchResultPageBasicAudit: true,\r\n  googleSearchResultPageReviewAudit: true,\r\n  googleSearchResultPagePostAudit: true,\r\n  googleSearchResultPageTeleport: true,\r\n  googleSearchResultPageAIAudit: true,\r\n  googleSearchResultPageLocalScan: true,\r\n  gmbAdminSection: true,\r\n};\r\n\r\nconst codeConstants = {\r\n  \"audit-dashboard\": {\r\n    \"dashboard-url\": \"http://127.0.0.1:5500/appGmbeverywhere/release7/audit-dashboard.html\",\r\n    \"basic-audit-url\": \"http://127.0.0.1:5500/appGmbeverywhere/release7/audits/basic-audit.html\",\r\n    \"review-audit-url\": \"http://127.0.0.1:5500/appGmbeverywhere/release7/audits/review-audit.html\",\r\n    \"post-audit-url\": \"http://127.0.0.1:5500/appGmbeverywhere/release7/audits/post-audit.html\",\r\n    \"send-data-api-url\": \"https://data.gmbeverywhere.com/xano/save-temporary-data-to-store\",\r\n    \"maximum-array-size-for-audit-details\": 5,\r\n    \"maximum-number-of-reviews-needed-scraping\" : 1200,\r\n    \"maximum-number-of-posts-needed-scraping\" : 50\r\n  },\r\n  \"teleport-dashboard\": {\r\n    \"dashboard-url\": \"http://127.0.0.1:5500/appGmbeverywhere/release7/audits/teleport.html\",\r\n    \"google-url\":\"https://www.google.com/\"\r\n  },\r\n  \"error-page\": \"http://127.0.0.1:5500/appGmbeverywhere/release7/error.html\",\r\n  \"category-tool-page\": \"http://127.0.0.1:5500/appGmbeverywhere/release7/category-tool/category-finder.html\",\r\n  \"ai-audit\": {\r\n    \"dashboard-url\": \"https://app.gmbeverywhere.com/release7/ai/landing-page-ai.html\",\r\n  },\r\n  \"local-scan\": {\r\n    \"dashboard-url\": \"https://app.gmbeverywhere.com/release7/local-scan/local-scan.html\",\r\n    \"send-data-api-url\": \"https://data.gmbeverywhere.com/xano/save-temporary-data-to-store\",\r\n  },\r\n  \"admin-section\": {\r\n    \"base-url\": \"https://app.gmbeverywhere.com/release7/ai/\",\r\n    \"ai-description\": \"gmb-description-generator.html\",\r\n    \"ai-post\": \"gmb-post-generator.html\",\r\n    \"ai-qa\": \"gmb-q-a-generator.html\",\r\n    \"ai-tools\": \"landing-page-ai.html\",\r\n    \"ai-review-response\": \"gmb-review-response-generator.html\",\r\n  }\r\n};\r\n\r\nconst geMode = {\r\n  \"scrapping-review-page\": {\r\n    \"ge-mode\": \"review-collection-flow\",\r\n    \"description\": \"This activates the review collection. Made to use on the review page\"\r\n  },\r\n  \"scrapping-post-page\": {\r\n    \"ge-mode\": \"post-collection-flow\",\r\n    \"description\": \"This activates the post collection. Made to use on the post page\"\r\n  }\r\n  \r\n};\r\n\r\nconst stopWordList = [\"th-ignore-ey\",\"wouldn't\",\"my\",\"on\",\"that\",\"with\",\"so\",\"i\",\"not\",\"to\",\"have\",\"them\",\r\n  \"were\",\"very\",\"for\",\"you\",\"as\",\"an\",\"your\",\"well\",\"will\",\"be\",\"all\",\"he\",\"put\",\"if\",\"could\",\"give\",\"more\",\r\n  \"than\",\"in\",\"was\",\"while\",\"don't\",\"know\",\"where\",\"is\",\"much\",\"want\",\"enough\",\"what\",\"me\",\"always\",\r\n  \"being\",\"up\",\"of\",\"time\",\"did\",\"am\",\"okay\",\"owe\",\"his\",\"without\",\"sure\",\"would\",\"from\",\"both\",\r\n  \"below\",\"had\",\"first\",\"their\",\"been\",\"too,\",\"see,\",\"at\",\"all,\",\"now\",\"and\",\"can't\",\r\n  \"along\",\"are\",\"also\",\"this\",\"whenever\",\"needed\",\"ask\",\"our\",\"when\",\"we\",\"didn't\",\"us\",\"feel\",\"any\",\"him\",\"by\",\"over\",\r\n  \"her\", \"out\", \"many\", \"till\", \"off\", \"only\", \"nor\", \"no\", \"can\", \"took\", \"mr.\", \"every\", \"way\", \"during\", \"got\", \"into\",\r\n  \"since\", \"again\", \"something\", \"taken\", \"after\", \"whatever\", \"whoever\", \"get\", \"she\", \"yet\",\r\n  \"couldn't\",\"take\",\"using\",\"even\",\"through\",\"should\", \"once\",\"other\",\"some\",\"has\",\"just\",\"one\",\"due\",\"making\",\"needs\",\r\n  \"might\",\"consider\",\"based\",\"adding\",\"wasn't\",\"because\",\"knows\",\"doing\",\"within\",\"about\",\"though\",\"which\",\r\n  \"went\",\"came\",\"set\",\"right\",\"upon\",\"whom\",\"such\",\"else\",\r\n  \"end\",\"goes\",\"above\",\"do\", \"fine\",\"said\",\"those\",\"these\",\"coming\",\"its\",\"keeps\",\"bit\",\r\n  \"too\",\"makes\",\"says\",\"however,\", \"lets\", \"same\",\"ok\",\"anything\",\"why\",\"soon\",\"times\",\r\n  \"became\",\"already\",\"show\",\"couldn't\",\"sent\",\"it's\",\"you've\",\"didn't\",\"seemed\",\r\n  \"that's\",\"between\",\"couldnt\",\"early\",\r\n  \"i've\",\"she's\",\"you'll\", \"the\", \"it\", \"but\", \"mr\",\r\n  \"or\",\"there\",\"here\",\"who\",\"see\",\"let\",\r\n  \"call\",\"like\",\"need\",\"cannot\",\"whole\",\"against\",\"used\",\"step\",\"need\",\"others\",\"thanks\", \"im\",\r\n  \"before\", \"hes\", \"puts\", \"a\", \"it's\", \"she's\", \"im\", \"hes\",\r\n  \"actually\", \"basically\", \"um\", \"uh\", \"pretty\", \"maybe\", \"perhaps\"\r\n  ];\r\n\r\nconst reviewWordsSanitizationRegexs = [\r\n  new RegExp(`[',.!{}[\\\\]\\\\n&0-9/\\\\-\\\\$\\\\(\\\\)]`, 'g')\r\n]\r\n\r\nconst maximumWordFrequencyCharacters = 650;\r\n\r\nconst maximumOneWordCharLength = 20;\r\nconst maximumTwoWordCharLength = 30;\r\n\r\n\r\nconst maximumReturnedOneWords = 75;\r\nconst maximumReturnedTwoWords = 25;\r\n\r\nconst gmbSearchType = {\r\n  googleSearchResultPage: \"googleSearchResultPage\",\r\n  localFinderSearchResultPane: \"localFinderSearchResultPane\",\r\n  localFinderSelectedBusiness: \"localFinderSelectedBusiness\",\r\n  mapSearchResultPane: \"mapSearchResultPane\",\r\n  mapSelectedBusiness: \"mapSelectedBusiness\",\r\n  mapSinglePage: \"mapSinglePage\",\r\n  gmbEditProfileAdmin: \"gmbEditProfileAdmin\",\r\n  gmbEditServicesAdmin: \"gmbEditServicesAdmin\",\r\n}\r\n\r\nconst REVIEW_AUDIT_MODAL_VERSION = {\r\n  // old review modal\r\n  \"v1\": 1, \r\n  // new review modal, only available to specific gmail acc types\r\n  \"v2\": 2 \r\n}\r\n\r\nexport {\r\n  codeConstants, flag, geMode, gmbSearchType, maximumOneWordCharLength, maximumReturnedOneWords,\r\n  maximumReturnedTwoWords, maximumTwoWordCharLength, maximumWordFrequencyCharacters, REVIEW_AUDIT_MODAL_VERSION, reviewWordsSanitizationRegexs, stopWordList\r\n};\r\n\r\n","import { createLocalScanButton, onError, processAndAnalyzeBusinesses } from \"./audit-gmb/local-scan-logic\";\r\nimport { flag } from \"./feature-flag-and-constants\";\r\n\r\nconst attachLocalScanToGoogleSearchResult = (businessContainers) => {\r\n    if (flag.googleSearchResultPageLocalScan) {\r\n        appendLocalScanButton(businessContainers);\r\n    }\r\n}\r\n\r\n\r\nconst extractBusinessData = (businessContainers) => {\r\n    const businessses = [];\r\n    let rank = 0;\r\n    businessContainers.forEach((businessContainer) => {\r\n        if(isAdsBusiness(businessContainer)) return;\r\n\r\n        const businessName = businessContainer.querySelector(\"div > div[role='heading'] > span\")?.textContent\r\n        const cid = businessContainer.getAttribute('data-cid');\r\n        businessses.push({\r\n            businessName,\r\n            cid,\r\n            rank: ++rank,\r\n            businessUrl: \"https://\" + window.location.hostname + \"/maps?cid=\" + cid,\r\n        });\r\n    });\r\n    return businessses;\r\n}\r\n\r\nconst isAdsBusiness = (businessElement) => {\r\n    const container = businessElement.querySelector(\"div>div>div\");\r\n\r\n    // this is for the images that shows before the business name\r\n    // if it's null, it's not a business but just an image\r\n    if(container === null) return false;\r\n\r\n    // verify if it's a sponsored business\r\n    // sponsored business has no role attribute on this div, it's after the sponsored container div\r\n    // non sponsored business has role attribute on this div, as it contains the business name\r\n    if(container.hasAttribute(\"role\") && container.getAttribute(\"role\") === \"heading\") {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nconst appendLocalScanButton = (businessContainers) => {\r\n    const container = document.querySelector(\"div[data-hveid] > div[id] div[data-vstcp='1']\")?.previousElementSibling\r\n    if (container) {\r\n        container.insertBefore(getLocalScanButton(businessContainers), container.firstChild.nextSibling);\r\n    }\r\n}\r\n\r\nconst getLocalScanButton = (businessContainers) => {\r\n    const onClick = (businessContainers) => {\r\n        const businessses = extractBusinessData(businessContainers);\r\n        if(businessses.length > 0) {\r\n            processAndAnalyzeBusinesses(businessses);\r\n            return;\r\n        }\r\n\r\n        onError(\"No businesses found\");\r\n    }\r\n\r\n    return createLocalScanButton(() => onClick(businessContainers));\r\n}\r\n\r\nexport { attachLocalScanToGoogleSearchResult };\r\n","import * as Logger from \"../js/logger\";\r\nimport * as Utility from \"../js/utility\";\r\nimport * as AuditInformation from \"./audit-gmb/audit-extension-code\";\r\nimport { createLocalScanButton, onError, processAndAnalyzeBusinesses } from \"./audit-gmb/local-scan-logic\";\r\nimport { flag, gmbSearchType } from \"./feature-flag-and-constants\";\r\n\r\nlet businessName = \"\";\r\nconst noCategoryMessage =\r\n  \"GMB Categories not found. Please go to the business page on Google Maps to find the categories.\";\r\n\r\nconst HowCorrectCategoryFoundEnum = Utility.returnEnumOfCodeMode();\r\n//------------ GENERIC UTILITY (move to utility file) -----------------\r\nconst getCurrentDomainHostName = () => window.location.hostname;\r\n\r\nconst callGoogleMap = (url, callback) => {\r\n  const xhr = new XMLHttpRequest();\r\n  xhr.onreadystatechange = () => {\r\n    if (xhr.readyState === XMLHttpRequest.DONE) {\r\n      const status = xhr.status;\r\n      if (status === 0 || (status >= 200 && status < 400)) {\r\n        try {\r\n          const searchString = \"window.APP_INITIALIZATION_STATE=\";\r\n          const codeStart = xhr.response.indexOf(searchString);\r\n          const codeEnd = xhr.response.indexOf(\"window.APP_FLAGS\", codeStart);\r\n          const code = xhr.response.substring(\r\n            codeStart + searchString.length,\r\n            codeEnd\r\n          );\r\n\r\n          //slice the string to remove simicolon before parsing\r\n          const WindowInitializationState = JSON.parse(code.slice(0, -1));\r\n          callback(WindowInitializationState);\r\n        } catch {\r\n          callback(\"\");\r\n        }\r\n      } else {\r\n        return \"\";\r\n      }\r\n    }\r\n  };\r\n\r\n  //Request data from server(google map) to parse APP_INITIALIZATION_STATE value\r\n  xhr.open(\"GET\", url);\r\n  xhr.send();\r\n};\r\n\r\nconst fetchCategoriesWithDelay = (fetch, maxLimitInSec) => {\r\n  let delayInMs = Math.floor(Math.random() * maxLimitInSec * 1000);\r\n  setTimeout(() => {\r\n    fetch();\r\n  }, delayInMs);\r\n};\r\n\r\nconst isSameBusiness = () => businessName === getBusinessName();\r\n\r\nconst displayLoading = (parent) => {\r\n  try {\r\n    removeGmb();\r\n\r\n    const img = document.createElement(\"img\");\r\n    img.setAttribute(\"class\", Utility.gmbCategoryClass);\r\n    img.src = chrome.runtime.getURL(\"imgs/loading.gif\");\r\n    img.style.cssText =\r\n      \"height: 35px; margin-left: 0; margin-top: -8px; display: block; margin-top: 7px;\";\r\n    parent.appendChild(img);\r\n  } catch (e) {\r\n    removeGmb();\r\n    Logger.error(e);\r\n  }\r\n};\r\n\r\nconst displayNoCategory = (msg) => {\r\n  try {\r\n    removeGmb();\r\n\r\n    const node = document.createElement(\"p\");\r\n    node.setAttribute(\"class\", Utility.gmbCategoryClass);\r\n    node.style.cssText =\r\n      \"display: inline-block; font-size: 14px; border-radius: .25rem; color: #212529;\";\r\n    node.appendChild(document.createTextNode(msg));\r\n    getCategoryParent().appendChild(node);\r\n  } catch (e) {\r\n    removeGmb();\r\n    Logger.error(e);\r\n  }\r\n};\r\n\r\nconst getCurrentReviewRatingAndNumberOfReviews = () => {\r\n  const numberOfReviews = document\r\n    .querySelector('[data-sort_by=\"qualityScore\"]')\r\n    ?.innerText.split(\" \")[0]\r\n    .replace(/\\D/g, \"\");\r\n  if (!numberOfReviews) {\r\n    return {\r\n      \"average-review-rating\": 0,\r\n      \"number-of-reviews\": 0,\r\n    };\r\n  }\r\n\r\n  return {\r\n    \"average-review-rating\":\r\n      document.querySelector(\r\n        '[data-attrid=\"kc:/local:lu attribute list\"] > div > div > div > span'\r\n      )?.innerText ?? 0,\r\n    \"number-of-reviews\": parseInt(numberOfReviews),\r\n  };\r\n};\r\n//------------------------------------------------------------------\r\n\r\nconst isLocalFinder = () => {\r\n  const isInSearchPage =\r\n    `${getCurrentDomainHostName()}${window.location.pathname}` ===\r\n    `${getCurrentDomainHostName()}/search`;\r\n  const searchForm = document.querySelector(\"#searchform\");\r\n  const appBar = document.querySelector(\"#appbar\");\r\n  const search = document.querySelector(\"#search\");\r\n  const appBarRatingItems = document.querySelector(\"#appbar [role='menu']\");\r\n  const appBarHoursItems = document.querySelector(\"#appbar [role='menubar']\");\r\n\r\n  //can add more conditions to check if it's on local finder page\r\n  return (\r\n    isInSearchPage &&\r\n    searchForm &&\r\n    appBar &&\r\n    search &&\r\n    (appBarRatingItems || appBarHoursItems)\r\n  );\r\n};\r\n\r\nconst getCategoryParent = () => {\r\n  let elem = document.querySelector(\r\n    \"[data-attrid='kc:/local:lu attribute list']\"\r\n  );\r\n  if (elem) {\r\n    return elem;\r\n  }\r\n  elem = document.querySelector(\r\n    \".kp-header .fYOrjf .wDYxhc .zloOqf > span.YhemCb\"\r\n  );\r\n  if (elem) {\r\n    return elem.parentElement;\r\n  } else {\r\n    elem = document.querySelector(\".kp-header .fYOrjf .wDYxhc .zloOqf\");\r\n    if (elem) {\r\n      return elem.parentElement;\r\n    }\r\n  }\r\n};\r\n\r\nconst validateBusiness = () => {\r\n  return (\r\n    (isLocalFinder() && !businessName && getBusinessName()) ||\r\n    (businessName && !isSameBusiness())\r\n  );\r\n};\r\n\r\nconst getBusinessName = () => {\r\n  let elem = document.querySelector(\"[data-title]\");\r\n  if (elem) {\r\n    return elem.getAttribute(\"data-title\");\r\n  }\r\n  elem = document.querySelector(\"[data-attrid='title']\");\r\n  if (elem) {\r\n    return elem.textContent;\r\n  }\r\n  elem = document.querySelector(\r\n    \".kp-header .fYOrjf .Hhmu2e .Ftghae .SPZz6b > h2.qrShPb > span\"\r\n  );\r\n  if (elem) {\r\n    return elem.textContent.trim();\r\n  }\r\n};\r\n\r\nconst getDataPlaceValue = () => {\r\n  let elem = document.querySelector(\"[data-place]\");\r\n  if (elem) {\r\n    return elem.getAttribute(\"data-place\");\r\n  }\r\n};\r\n\r\nconst generateSearchUrl = () =>\r\n  `https://${getCurrentDomainHostName()}${getDataPlaceValue()}`;\r\n\r\nconst generateSearchUrlByLocation = () => {\r\n  let address = document.querySelectorAll(\r\n    \"[data-attrid='kc:/location/location:address'] > div > div > span\"\r\n  )[1];\r\n  if (address) {\r\n    const encodedParam = encodeURI(\r\n      `${getBusinessName()} ${address.textContent}`\r\n    );\r\n    return `https://${getCurrentDomainHostName()}/maps/search/${encodedParam}`;\r\n  }\r\n};\r\n\r\nconst fetchCategories = () => {\r\n  callGoogleMap(generateSearchUrl(), (data) => {\r\n    try {\r\n      const processedTxt = data && data[3] ? data[3][6] : \"\";\r\n      if (processedTxt && processedTxt.length > 5) {\r\n        const windowArray = JSON.parse(processedTxt.substring(5));\r\n        const categories = windowArray[6][13];\r\n\r\n        if (categories && categories.length) {\r\n          displayCategories(categories);\r\n        } else {\r\n          displayNoCategory(noCategoryMessage);\r\n        }\r\n      } else {\r\n        displayNoCategory(noCategoryMessage);\r\n      }\r\n    } catch {\r\n      displayNoCategory(noCategoryMessage);\r\n    }\r\n  });\r\n};\r\n\r\nconst fetchCategoriesByNearLocation = () => {\r\n  callGoogleMap(generateSearchUrlByLocation(), (data) => {\r\n    try {\r\n      const processedTxt = data && data[3] ? data[3][2] : \"\";\r\n\r\n      if (processedTxt && processedTxt.length > 5) {\r\n        const windowArray = JSON.parse(processedTxt.substring(5));\r\n\r\n        let categories = [];\r\n        let averageReviewRating, averageNumberOfReviews;\r\n\r\n        try {\r\n          categories = windowArray[0][1][0][14][13];\r\n\r\n          if (windowArray[0][1][0][14][4] != null) {\r\n            averageReviewRating = windowArray[0][1][0][14][4][7];\r\n            averageNumberOfReviews = windowArray[0][1][0][14][4][8];\r\n          } else {\r\n            averageReviewRating = 0;\r\n            averageNumberOfReviews = 0;\r\n          }\r\n        } catch {}\r\n\r\n        try {\r\n          categories = windowArray[0][1][1][14][13];\r\n\r\n          if (windowArray[0][1][1][14][4] != null) {\r\n            averageReviewRating = windowArray[0][1][1][14][4][7];\r\n            averageNumberOfReviews = windowArray[0][1][1][14][4][8];\r\n          } else {\r\n            averageReviewRating = 0;\r\n            averageNumberOfReviews = 0;\r\n          }\r\n        } catch {}\r\n\r\n        if (\r\n          categories &&\r\n          categories.length &&\r\n          averageNumberOfReviews ===\r\n            getCurrentReviewRatingAndNumberOfReviews()[\"number-of-reviews\"] &&\r\n          parseInt(averageReviewRating * 100) ===\r\n            parseInt(\r\n              getCurrentReviewRatingAndNumberOfReviews()[\r\n                \"average-review-rating\"\r\n              ] * 100\r\n            )\r\n        ) {\r\n          displayCategories(categories);\r\n        } else {\r\n          displayNoCategory(noCategoryMessage);\r\n        }\r\n      } else {\r\n        displayNoCategory(noCategoryMessage);\r\n      }\r\n    } catch {\r\n      displayNoCategory(noCategoryMessage);\r\n    }\r\n  });\r\n};\r\n\r\nconst getCategoryContainer = () =>\r\n  document.querySelector(\".\" + Utility.gmbCategoryClass);\r\n\r\nconst removeGmb = () => {\r\n  const gmbCategoryContainer = getCategoryContainer();\r\n  if (gmbCategoryContainer) {\r\n    gmbCategoryContainer.remove();\r\n  }\r\n};\r\n\r\nconst displayCategories = (catArr) => {\r\n  try {\r\n    removeGmb();\r\n\r\n    const container = document.createElement(\"div\");\r\n    container.className = Utility.gmbCategoryClass;\r\n    container.style.cssText = \"position: relative; margin-top: 7px;\";\r\n    Utility.addTooltip(container);\r\n\r\n    const title = document.createElement(\"span\");\r\n    title.textContent = \"GMB Categories: \";\r\n    title.style.cssText =\r\n      \"display: inline-block; font-size: 14px; border-radius: .25rem; color: #212529;\";\r\n    container.appendChild(title);\r\n\r\n    catArr.forEach((v, i) => {\r\n      let category = document.createElement(\"span\");\r\n      category.innerHTML =\r\n      (i === 0 ? Utility.createEmojiIcon({iconName: 'star_icon.svg', iconSize: '12px'}): \"\") + v;\r\n        \r\n      category.style.cssText =\r\n        \"display: inline-block;\" +\r\n        \"padding: .25em .4em;\" +\r\n        \"font-size: 14px;\" +\r\n        \"line-height: 1;\" +\r\n        \"text-align: center;\" +\r\n        \"white-space: nowrap;\" +\r\n        \"vertical-align: baseline;\" +\r\n        \"border-radius: .25rem;\" +\r\n        \"color: #212529;\" +\r\n        \"background-color: #ffc8b9;\" +\r\n        \"margin: 0 0 3px 3px;\";\r\n      container.appendChild(category);\r\n    });\r\n\r\n    Utility.appendCategoryTool(container, catArr);\r\n    \r\n    getCategoryParent().appendChild(container);\r\n\r\n    showAuditButton(getCategoryParent());\r\n  } catch (e) {\r\n    removeGmb();\r\n    Logger.error(e);\r\n  }\r\n};\r\n\r\nconst showAuditButton = (parent) => {\r\n  let buttonBasicAudit, buttonAIAudit, buttonReviewAudit, buttonPostAudit, buttonTeleport;\r\n  const container = document.createElement(\"div\");\r\n  container.id = \"popupButtonAdditionalInformationDiv\";\r\n  container.style.cssText = \"text-align: left\";\r\n  const errorMessageDiv = document.createElement(\"div\");\r\n  errorMessageDiv.id = \"errorMessageButtonClick\";\r\n\r\n  if (flag.localFinderBasicAudit === true) {\r\n    buttonBasicAudit = Utility.createAuditDisplayButton(\r\n      `${Utility.createEmojiIcon({iconName: 'rocket_icon.svg', iconSize: '14px'})} Basic`,\r\n      \"popupButtonAdditionalInformation\"\r\n    );\r\n    buttonBasicAudit.style.width = \"80px\";\r\n    addButtonOnClickLogic(buttonBasicAudit, \"basic-audit\");\r\n    container.appendChild(buttonBasicAudit);\r\n  }\r\n\r\n  if (flag.localFinderAIAudit === true) {\r\n    buttonAIAudit = Utility.createAuditDisplayButton(\r\n      `${Utility.createEmojiIcon({iconName: 'brain_icon.svg', iconSize: '14px'})} AI`,\r\n      \"popupAIAudit\"\r\n    );\r\n    buttonAIAudit.style.width = \"80px\";\r\n    addButtonOnClickLogic(buttonAIAudit, \"ai-audit\");\r\n    container.appendChild(buttonAIAudit);\r\n  }\r\n\r\n  if (flag.localFinderTeleport === true) {\r\n    buttonTeleport = Utility.createAuditDisplayButton(\r\n      `${Utility.createEmojiIcon({iconName: 'pin_icon.svg', iconSize: '14px'})} Teleport`,\r\n      \"popupTeleport\");\r\n    buttonTeleport.style.width = \"80px\";\r\n    addButtonOnClickLogic(buttonTeleport, \"teleport\");\r\n    container.appendChild(buttonTeleport);\r\n  }\r\n\r\n  if (flag.localFinderReviewAudit === true) {\r\n    buttonReviewAudit = Utility.createAuditDisplayButton(\r\n      `${Utility.createEmojiIcon({iconName: 'half_star_icon.svg', iconSize: '14px'})} Review`,\r\n      \"popupReviewAudit\"\r\n    );\r\n    buttonReviewAudit.style.width = \"80px\";\r\n    addButtonOnClickLogic(buttonReviewAudit, \"review-audit\");\r\n    container.appendChild(buttonReviewAudit);\r\n  }\r\n\r\n  if (flag.localFinderPostAudit === true) {\r\n    buttonPostAudit = Utility.createAuditDisplayButton(\r\n      `${Utility.createEmojiIcon({iconName: 'megaphone_icon.svg', iconSize: '14px'})} Post`,\r\n      \"popupPostAudit\"\r\n    );\r\n    buttonPostAudit.style.width = \"80px\";\r\n    addButtonOnClickLogic(buttonPostAudit, \"post-audit\");\r\n    container.appendChild(buttonPostAudit);\r\n  }\r\n\r\n  container.appendChild(errorMessageDiv);\r\n\r\n  parent.appendChild(container);\r\n};\r\n\r\nlet addButtonOnClickLogic = (buttonObject, auditType) => {\r\n  buttonObject.onclick = function () {\r\n    try {\r\n      buttonObject.disabled = true;\r\n      setTimeout(function () {\r\n        buttonObject.disabled = false;\r\n      }, 3000);\r\n      AuditInformation.AuditInformationLogic(\r\n        generateSearchUrl(),\r\n        HowCorrectCategoryFoundEnum.ExactLink,\r\n        HowCorrectCategoryFoundEnum,\r\n        auditType\r\n      );\r\n    } catch (e) {\r\n      document.getElementById(\"errorMessageButtonClick\").innerText =\r\n        \"An error occured. Sorry for the inconvenience.\";\r\n    }\r\n  };\r\n};\r\n\r\nconst execute = () => {\r\n  businessName = getBusinessName();\r\n  displayLoading(getCategoryParent());\r\n  fetchCategoriesWithDelay(fetchCategories, 1);\r\n};\r\n\r\n// ---------------Google Search Result Page Code ------------------\r\n\r\nlet loopAndSeeIfMapSectionAnywhereOnPage = () => {\r\n  let returnElement = null;\r\n  let gimgElement = document.getElementsByTagName(\"g-img\");\r\n  for (let i = 0; i < gimgElement.length; i++) {\r\n    let gimgCondition = false;\r\n    try {\r\n      gimgCondition =\r\n        gimgElement[i] &&\r\n        gimgElement[i].parentNode &&\r\n        gimgElement[i].parentNode.parentNode &&\r\n        gimgElement[i].parentNode.parentNode.parentNode &&\r\n        gimgElement[i].parentNode.parentNode.parentNode.parentNode &&\r\n        gimgElement[i].parentNode.parentNode.parentNode.parentNode.nextSibling &&\r\n        gimgElement[i].parentNode.parentNode.parentNode.parentNode.nextSibling.nextSibling &&\r\n        gimgElement[i].parentNode.parentNode.parentNode.parentNode.nextSibling.nextSibling\r\n          .nextSibling &&\r\n        gimgElement[\r\n          i\r\n        ].parentNode.parentNode.parentNode.parentNode.nextSibling.nextSibling.nextSibling.querySelectorAll(\r\n          \"a\"\r\n        )[0] &&\r\n        gimgElement[i].parentNode.parentNode.parentNode.parentNode.nextSibling.nextSibling.nextSibling\r\n          .querySelectorAll(\"a\")[0]\r\n          .hasAttribute(\"data-cid\");\r\n    } catch (e) {}\r\n    if (gimgCondition) {\r\n      returnElement = gimgElement[i];\r\n\r\n      break;\r\n    }\r\n  }\r\n  return returnElement;\r\n};\r\n\r\n\r\nlet loopAndSeeIfMapSectionAnywhereOnPage_v2 = () => {\r\n\r\n  let returnElements = null;\r\n\r\n  try {\r\n    let gimgElements = document.querySelectorAll(\"a[data-cid]\");\r\n\r\n    let gimgCondition = gimgElements.length > 0\r\n  \r\n                        && (Array.from(gimgElements)\r\n  \r\n                            .some(e => e.parentNode.querySelector('a:last-child')?.dataset['url']?.includes('/maps/dir')) ||\r\n  \r\n                            Array.from(gimgElements)\r\n  \r\n                            .shift().parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector('div>a')?.href?.includes('/search') ||\r\n  \r\n                            Array.from(gimgElements)\r\n  \r\n                            .shift().parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector('div>a')?.href?.includes('/localservices')\r\n  \r\n                          );\r\n  \r\n    if (gimgCondition) {\r\n  \r\n      returnElements = gimgElements;\r\n  \r\n    }\r\n  } catch (error) {\r\n    \r\n  }\r\n\r\n  return returnElements;\r\n};\r\n\r\nlet loopAndSeeIfMapSectionAnywhereOnPage_v3 = () => {\r\n\r\n  let returnElements = null;\r\n\r\n  try {\r\n    let gimgElements = document.querySelectorAll(\"a[data-cid]\");\r\n\r\n    let gimgCondition = gimgElements.length > 0\r\n  \r\n                        && (Array.from(gimgElements)\r\n  \r\n                            .some(e => e.parentNode.querySelector('a:last-child>div>div>g-img') !== null) ||\r\n  \r\n                            Array.from(gimgElements)\r\n  \r\n                            .shift().parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector('div>a')?.href?.includes('/search') ||\r\n  \r\n                            Array.from(gimgElements)\r\n  \r\n                            .shift().parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector('div>a')?.href?.includes('/localservices')\r\n  \r\n                          );\r\n  \r\n    if (gimgCondition) {\r\n  \r\n      returnElements = gimgElements;\r\n  \r\n    }\r\n  } catch (error) {\r\n    debugger;\r\n  }\r\n\r\n  return returnElements;\r\n};\r\n\r\nlet loopAndSeeIfMapSectionAnywhereOnPage_v4 = () => {\r\n\r\n  let returnElements = null;\r\n\r\n  try {\r\n    let gimgElements = document.querySelectorAll(\"a[data-cid]\");\r\n\r\n    let gimgCondition = gimgElements.length > 0\r\n  \r\n                        && (Array.from(gimgElements)\r\n  \r\n                            .some(e => e.parentNode.querySelector('a:last-child>div>div>img') !== null) ||\r\n  \r\n                            Array.from(gimgElements)\r\n  \r\n                            .shift().parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector('div>a')?.href?.includes('/search') ||\r\n  \r\n                            Array.from(gimgElements)\r\n  \r\n                            .shift().parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector('div>a')?.href?.includes('/localservices')\r\n  \r\n                          );\r\n  \r\n    if (gimgCondition) {\r\n  \r\n      returnElements = gimgElements;\r\n  \r\n    }\r\n  } catch (error) {\r\n  }\r\n\r\n  return returnElements;\r\n};\r\n\r\nlet loopAndSeeIfMapSectionAnywhereOnPage_v5 = () => {\r\n\r\n  let returnElements = null;\r\n\r\n  try {\r\n    let gimgElements = document.querySelectorAll(\"a[data-cid]\");\r\n\r\n    let gimgCondition = gimgElements.length > 0\r\n  \r\n                        && (Array.from(gimgElements)\r\n  \r\n                            .some(e => e.parentNode.querySelector('a:last-child>div>div>img') !== null) ||\r\n  \r\n                            Array.from(gimgElements)\r\n  \r\n                            .shift().parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector('div>a')?.href?.includes('/search') ||\r\n  \r\n                            Array.from(gimgElements)\r\n  \r\n                            .shift().parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector('div>a')?.href?.includes('/localservices')\r\n  \r\n                          );\r\n  \r\n    if (gimgCondition) {\r\n  \r\n      returnElements = gimgElements;\r\n  \r\n    }\r\n  } catch (error) {\r\n  }\r\n\r\n  return returnElements;\r\n};\r\n\r\nlet loopAndSeeIfMapSectionAnywhereOnPage_v6 = () => {\r\n\r\n  let returnElements = null;\r\n\r\n  try {\r\n    let gimgElements = document.querySelectorAll(\"a[data-cid]\");\r\n\r\n    let gimgCondition = gimgElements.length > 0\r\n  \r\n                        && (Array.from(gimgElements)\r\n                            // this will check the image beside the business name\r\n                            // you can search for \"car dealer near me\" to see the result\r\n                            .some(e => e.parentNode.querySelector(\"a:last-child>g-img\") !== null) ||\r\n  \r\n                            Array.from(gimgElements)\r\n                            // if a business has no image, this will get the first business in the list and climb up the dom \r\n                            // to check if the main container of all businesses contains the \"more places\" link.\r\n                            .shift().parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector(\"g-more-link>a\")?.href?.includes('/search') ||\r\n  \r\n                            Array.from(gimgElements)\r\n                            // this one is for local services like \"lawyer nearby\"\r\n                            .shift().parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.querySelector(\"g-more-link>a\")?.href?.includes('/localservices')\r\n                          );\r\n  \r\n    if (gimgCondition) {\r\n  \r\n      returnElements = gimgElements;\r\n  \r\n    }\r\n  } catch {}\r\n\r\n  return returnElements;\r\n};\r\n\r\n\r\nlet displayButtonOnMapSection = (mapsSectionElement) => {\r\n  let elementsWithMapLocations =\r\n    mapsSectionElement.parentNode.parentNode.parentNode.parentNode.nextSibling.nextSibling.nextSibling.querySelectorAll(\r\n      \"a[data-cid]\"\r\n    );\r\n  for (let j = 0; j < elementsWithMapLocations.length; j++) {\r\n    let buttonSection = googleResultPageAuditButtonDesign(\r\n      elementsWithMapLocations[j].getAttribute(\"data-cid\")\r\n    );\r\n    elementsWithMapLocations[j].firstChild.appendChild(buttonSection);\r\n  }\r\n};\r\n\r\n\r\nlet displayButtonOnMapSection_v2 = (businessesContainers) => {\r\n\r\n  Array.from(businessesContainers).forEach(businessContainer => {\r\n\r\n    let auditButtonsSection = googleResultPageAuditButtonDesign(\r\n\r\n      businessContainer.getAttribute(\"data-cid\")\r\n\r\n    );\r\n\r\n    auditButtonsSection.querySelectorAll('button').forEach(button => {\r\n      button.style.fontSize = '13px';\r\n      button.style.width = '99px';\r\n    });\r\n\r\n    businessContainer.firstChild.appendChild(auditButtonsSection);\r\n\r\n  });\r\n\r\n}\r\n\r\nlet displayButtonOnMapSection_v3 = (businessesContainers) => {\r\n\r\n  Array.from(businessesContainers).forEach(businessContainer => {\r\n\r\n    let auditButtonsSection = googleResultPageAuditButtonDesign(\r\n\r\n      businessContainer.getAttribute(\"data-cid\")\r\n\r\n    );\r\n\r\n    // auditButtonsSection.querySelector('button:first-child').style.marginLeft = '5px';\r\n    auditButtonsSection.querySelectorAll('button').forEach(button => {\r\n      button.style.fontSize = '11px';\r\n      button.style.width = '65px';\r\n    });\r\n\r\n    appendCategoryTool(businessContainer.firstChild, gmbSearchType.googleSearchResultPage);\r\n    businessContainer.firstChild.appendChild(auditButtonsSection);\r\n  });\r\n\r\n}\r\n\r\nconst googleResultPageAuditButtonDesign = (businessCID) => {\r\n  const spanSectionForButton = document.createElement(\"div\");\r\n  spanSectionForButton.style.cssText = \"text-align: left;\";\r\n  const buttonDesign = (buttonText, onClickFunction) => {\r\n    let buttonDesign = document.createElement(\"button\");\r\n    buttonDesign.style.cssText =\r\n      \"margin-top: 3px; margin-bottom: 3px; width: 95px; margin-right: 2px; line-height: 1.5; border: 2px solid rgb(204, 77, 41); background-color: rgb(255, 200, 185); color: rgb(33, 37, 41); font-size: 12px; padding: 3px 2px; display: inline-block; border-radius: 3px; cursor: pointer;\";\r\n    buttonDesign.innerHTML = buttonText;\r\n    buttonDesign.onclick = onClickFunction;\r\n    return buttonDesign;\r\n  };\r\n  if (flag.googleSearchResultPageBasicAudit) {\r\n    spanSectionForButton.appendChild(\r\n      buttonDesign(`${Utility.createEmojiIcon({iconName: 'rocket_icon.svg', iconSize: '12px'})} Basic`, function (e) {\r\n        e.stopPropagation();\r\n        AuditInformation.AuditInformationLogic(\r\n          \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n          HowCorrectCategoryFoundEnum.ExactLink,\r\n          HowCorrectCategoryFoundEnum,\r\n          \"basic-audit\"\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  if (flag.googleSearchResultPageAIAudit) {\r\n    spanSectionForButton.appendChild(\r\n      buttonDesign(`${Utility.createEmojiIcon({\r\n        iconName: \"brain_icon.svg\",\r\n        iconSize: \"12px\",\r\n      })} \r\n      AI`, function (e) {\r\n        e.stopPropagation();\r\n        AuditInformation.AuditInformationLogic(\r\n          \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n          HowCorrectCategoryFoundEnum.ExactLink,\r\n          HowCorrectCategoryFoundEnum,\r\n          \"ai-audit\"\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  if (flag.googleSearchResultPageTeleport) {\r\n    spanSectionForButton.appendChild(\r\n      buttonDesign(`${Utility.createEmojiIcon({iconName: 'pin_icon.svg', iconSize: '12px'})} Teleport`, function (e) {\r\n        e.stopPropagation();\r\n        AuditInformation.AuditInformationLogic(\r\n          \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n          HowCorrectCategoryFoundEnum.ExactLink,\r\n          HowCorrectCategoryFoundEnum,\r\n          \"teleport\"\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  if (flag.googleSearchResultPageReviewAudit) {\r\n    spanSectionForButton.appendChild(\r\n      buttonDesign(`${Utility.createEmojiIcon({iconName: 'half_star_icon.svg', iconSize: '12px'})} Review`, function (e) {\r\n        e.stopPropagation();\r\n        AuditInformation.AuditInformationLogic(\r\n          \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n          HowCorrectCategoryFoundEnum.ExactLink,\r\n          HowCorrectCategoryFoundEnum,\r\n          \"review-audit\"\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  if (flag.googleSearchResultPagePostAudit) {\r\n    spanSectionForButton.appendChild(\r\n      buttonDesign(`${Utility.createEmojiIcon({iconName: 'megaphone_icon.svg', iconSize: '12px'})} Post`, function (e) {\r\n        e.stopPropagation();\r\n        AuditInformation.AuditInformationLogic(\r\n          \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n          HowCorrectCategoryFoundEnum.ExactLink,\r\n          HowCorrectCategoryFoundEnum,\r\n          \"post-audit\"\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n\r\n  \r\n\r\n  return spanSectionForButton;\r\n};\r\n\r\nconst createAuditButtonOnSearchResultPane = (businessCID) => {\r\n  const spanSectionForButton = document.createElement(\"div\");\r\n  spanSectionForButton.className = \"local-finder-search-pane-audit-btn\";\r\n  spanSectionForButton.style.cssText =\r\n    \"text-align: left; display: flex; justify-content: left; padding-left: 15px; padding-right: 15px; padding-bottom: 15px;\";\r\n  const buttonDesign = (buttonText, onClickFunction) => {\r\n    let buttonDesign = document.createElement(\"button\");\r\n    buttonDesign.style.cssText = `margin-top: 3px; margin-bottom: 3px; \r\n    width: 70px; margin-right: 2px; line-height: 1.3; border: 2px solid rgb(204, 77, 41); \r\n    background-color: rgb(255, 200, 185); color: rgb(33, 37, 41); font-size: 12px; \r\n    padding: 3px 2px; display: inline-block; border-radius: 3px; cursor: pointer;`;\r\n    buttonDesign.innerHTML = buttonText;\r\n    buttonDesign.onclick = onClickFunction;\r\n    return buttonDesign;\r\n  };\r\n\r\n  spanSectionForButton.appendChild(\r\n    buttonDesign(`${Utility.createEmojiIcon({iconName: 'rocket_icon.svg', iconSize: '12px'})} Basic`, function (e) {\r\n      e.stopPropagation();\r\n      AuditInformation.AuditInformationLogic(\r\n        \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n        HowCorrectCategoryFoundEnum.ExactLink,\r\n        HowCorrectCategoryFoundEnum,\r\n        \"basic-audit\"\r\n      );\r\n    })\r\n  );\r\n\r\n  spanSectionForButton.appendChild(\r\n    buttonDesign(`${Utility.createEmojiIcon({\r\n      iconName: \"brain_icon.svg\",\r\n      iconSize: \"12px\",\r\n    })} \r\n    AI`, function (e) {\r\n      e.stopPropagation();\r\n      AuditInformation.AuditInformationLogic(\r\n        \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n        HowCorrectCategoryFoundEnum.ExactLink,\r\n        HowCorrectCategoryFoundEnum,\r\n        \"ai-audit\"\r\n      );\r\n    })\r\n  );\r\n\r\n  spanSectionForButton.appendChild(\r\n    buttonDesign(`${Utility.createEmojiIcon({iconName: 'pin_icon.svg', iconSize: '12px'})} Teleport`, function (e) {\r\n      e.stopPropagation();\r\n      AuditInformation.AuditInformationLogic(\r\n        \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n        HowCorrectCategoryFoundEnum.ExactLink,\r\n        HowCorrectCategoryFoundEnum,\r\n        \"teleport\"\r\n      );\r\n    })\r\n  );\r\n\r\n  spanSectionForButton.appendChild(\r\n    buttonDesign(`${Utility.createEmojiIcon({iconName: 'half_star_icon.svg', iconSize: '12px'})} Review`, function (e) {\r\n      e.stopPropagation();\r\n      AuditInformation.AuditInformationLogic(\r\n        \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n        HowCorrectCategoryFoundEnum.ExactLink,\r\n        HowCorrectCategoryFoundEnum,\r\n        \"review-audit\"\r\n      );\r\n    })\r\n  );\r\n\r\n  spanSectionForButton.appendChild(\r\n    buttonDesign(`${Utility.createEmojiIcon({iconName: 'megaphone_icon.svg', iconSize: '12px'})} Post`, function (e) {\r\n      e.stopPropagation();\r\n      AuditInformation.AuditInformationLogic(\r\n        \"https://\" + window.location.hostname + \"/maps?cid=\" + businessCID,\r\n        HowCorrectCategoryFoundEnum.ExactLink,\r\n        HowCorrectCategoryFoundEnum,\r\n        \"post-audit\"\r\n      );\r\n    })\r\n  );\r\n\r\n  return spanSectionForButton;\r\n};\r\n\r\n// Local Finder Page\r\nconst showAuditButtonOnSearchResultPane = () => {\r\n  let searchResultPane = setInterval(() => {\r\n    try {\r\n      if (\r\n        document.querySelectorAll(\".local-finder-search-pane-audit-btn\")\r\n          .length === 0\r\n      ) {\r\n          const businesses = document.querySelectorAll(\"a[data-cid]:not([aria-hidden])\");\r\n          businesses.forEach((business) => {\r\n          let buttonSection = createAuditButtonOnSearchResultPane(\r\n            business.getAttribute(\"data-cid\")\r\n          );\r\n\r\n          const parent = business.parentNode.parentNode.parentNode; \r\n          appendCategoryTool(parent, gmbSearchType.localFinderSearchResultPane);\r\n          parent.appendChild(buttonSection);\r\n        });\r\n      }\r\n    } catch (e) {\r\n      clearInterval(searchResultPane);\r\n      document\r\n        .querySelectorAll(\".local-finder-search-pane-audit-btn\")\r\n        .forEach((e) => e.remove());\r\n    }\r\n  }, 1000);\r\n};\r\n\r\nconst appendCategoryTool = (parent, type) => {\r\n  try {\r\n    let primaryCategory = \"\";\r\n    try {\r\n      primaryCategory = parent.querySelector(\"div>div:nth-child(2)\").firstChild.nextSibling.textContent.split(\"·\")[1].trim();\r\n    } catch {\r\n      // this is for sponsored businesses as they have different html structure in local finder search result pane\r\n      try {\r\n        primaryCategory = parent.firstChild.nextSibling.querySelector(\"div>div:nth-child(2)\").firstChild.nextSibling.textContent.split(\"·\")[1].trim();\r\n      } catch {\r\n        try {\r\n          // this is for sponsored businesses as they have different html structure in google search result page\r\n          primaryCategory = parent.querySelector(\"div:nth-child(2)\").nextSibling.firstChild.nextSibling.textContent.split(\"·\")[1].trim()\r\n        } catch {}\r\n      }\r\n    }\r\n\r\n    const container = document.createElement(\"div\");\r\n\r\n    if (type === gmbSearchType.localFinderSearchResultPane) {\r\n      container.style.cssText = \"position: relative; margin-left: 15px;\";\r\n    } \r\n    else {\r\n      container.style.cssText = \"position: relative;\";\r\n    }\r\n\r\n    Utility.appendCategoryTool(container, [primaryCategory], type);\r\n\r\n    parent.appendChild(container);\r\n  } catch {}\r\n}\r\n\r\nconst attachLocalScanToLocalFinder = () => {\r\n  if (flag.localFinderLocalScan) {\r\n      appendLocalScanButton();\r\n  }\r\n}\r\n\r\nconst appendLocalScanButton = () => {\r\n  const container = document.querySelector(\"#appbar\")?.querySelector('a[href^=\"/search\"]')?.parentElement;\r\n  if (container) {\r\n      container.appendChild(getLocalScanButton());\r\n  }\r\n}\r\n\r\nconst getLocalScanButton = () => {\r\n  const onClick = () => {\r\n    const businessses = extractBusinessData();\r\n    if(businessses.length > 0) {\r\n        processAndAnalyzeBusinesses(businessses);\r\n        return;\r\n    }\r\n\r\n    onError(\"No businesses found\");\r\n  }\r\n\r\n  return createLocalScanButton(onClick);\r\n}\r\n\r\nconst extractBusinessData = () => {\r\n  const businessContainers = document.querySelectorAll(\"a[data-cid]:not([aria-hidden])\");\r\n  const businessses = [];\r\n  let rank = 0;\r\n  businessContainers.forEach((businessContainer) => {\r\n      if(isAdsBusiness(businessContainer)) return;\r\n\r\n      const businessName = businessContainer.querySelector(\"div > div[role='heading'] > span\")?.textContent\r\n      const cid = businessContainer.getAttribute('data-cid');\r\n      businessses.push({\r\n          businessName,\r\n          cid,\r\n          rank: ++rank,\r\n          businessUrl: \"https://\" + window.location.hostname + \"/maps?cid=\" + cid,\r\n      });\r\n  });\r\n  return businessses;\r\n}\r\n\r\nconst isAdsBusiness = (businessElement) => {\r\n const businessContainer = businessElement.parentElement.parentElement.parentElement;\r\n const sponsoredThreeDotMenuExists = businessContainer?.querySelector(\"div>div>div>span[tabindex='0']\")?.nextSibling?.querySelector(\"span>span>span > g-dialog\");\r\n\r\n return !!sponsoredThreeDotMenuExists;\r\n}\r\n\r\n\r\nexport {\r\n  attachLocalScanToLocalFinder, displayButtonOnMapSection,\r\n  displayButtonOnMapSection_v2,\r\n  displayButtonOnMapSection_v3, execute, isLocalFinder, loopAndSeeIfMapSectionAnywhereOnPage,\r\n  loopAndSeeIfMapSectionAnywhereOnPage_v2,\r\n  loopAndSeeIfMapSectionAnywhereOnPage_v3,\r\n  loopAndSeeIfMapSectionAnywhereOnPage_v4,\r\n  loopAndSeeIfMapSectionAnywhereOnPage_v5,\r\n  loopAndSeeIfMapSectionAnywhereOnPage_v6, showAuditButtonOnSearchResultPane, validateBusiness\r\n};\r\n\r\n","import * as Utility from \"../js/utility\";\r\nimport * as Feature from \"../js/feature-flag-and-constants\";\r\n\r\nconst pabblyWebhook = \"\";\r\n\r\nexport const error = (e) => {\r\n  try {\r\n    if (!Feature.flag.logger) return;\r\n\r\n    let msg = \"\";\r\n    if (e) {\r\n      msg = e.stack;\r\n    }\r\n    const request = `${pabblyWebhook}?url=\"${encodeURIComponent(\r\n      Utility.getCurrentUrl()\r\n    )}\"&error=\"${encodeURIComponent(\r\n      msg\r\n    )}\"&timestamp=\"${new Date().toISOString()}\"`;\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", request, true);\r\n    xhr.send();\r\n  } catch {}\r\n};\r\n","import { codeConstants, gmbSearchType, REVIEW_AUDIT_MODAL_VERSION } from \"./feature-flag-and-constants\";\r\n\r\nconst gmbTooltipClass = \"gmb-tooltip\";\r\n\r\nconst gmbCategoryClass = `l${Math.random()\r\n  .toString(36)\r\n  .substr(2, 7)}_gmb-everywhere-category`;\r\n\r\nconst setHeaderStyles = (gmbClass) => {\r\n  const styles = `\r\n    .gmb-admin-section-tiles:hover {\r\n      background-color: rgb(255, 184, 165) !important;\r\n    }\r\n\r\n    .${gmbClass}:hover .${gmbTooltipClass} {\r\n        opacity: 1;\r\n        transition: opacity 0.25s linear;\r\n        transform: translate(-50%, 0);\r\n    }\r\n    \r\n    .${gmbClass} .${gmbTooltipClass} {\r\n        position: absolute;\r\n        left: 50%;\r\n        bottom: 100%;\r\n        opacity: 0;\r\n        margin-bottom: 0.5rem;\r\n        padding: 0.25rem 0.5rem;\r\n        border-radius: 0.25rem;\r\n        font-weight: 400;\r\n        line-height: 1.5;\r\n        text-decoration: none;\r\n        text-shadow: none;\r\n        text-transform: none;\r\n        text-align: center;\r\n        letter-spacing: normal;\r\n        word-break: normal;\r\n        word-spacing: normal;\r\n        white-space: normal;\r\n        line-break: auto;\r\n        word-wrap: break-word;\r\n        font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\r\n        \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\r\n        \"Segoe UI Symbol\", \"Noto Color Emoji\";\r\n        font-size: 0.875rem;\r\n        color: #fff;\r\n        background-color: #191919;\r\n        max-width: 200px;\r\n    }\r\n    \r\n    .${gmbClass} .${gmbTooltipClass}::before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 100%;\r\n        left: 50%;\r\n        width: 0;\r\n        height: 0;\r\n        border: 0.5em solid transparent;\r\n        border-top-color: #000;\r\n        transform: translate(-50%, 0);\r\n    }\r\n\r\n    @keyframes ${gmbClass}_loader_spin {\r\n      0% { transform: rotate(0deg); }\r\n      100% { transform: rotate(360deg); }\r\n    }`;\r\n  document.head.appendChild(document.createElement(\"style\")).innerHTML = styles;\r\n};\r\n\r\nconst returnEnumOfCodeMode = () => {\r\n  const HowCorrectCategoryFoundEnum = {\r\n    GMBScriptOnPage: 1,\r\n    GMBScriptWithDirectLocation: 2,\r\n    GMBScriptWithNearLocation: 3,\r\n    NotFound: 4,\r\n    ExactLink: 5\r\n  };\r\n  Object.freeze(HowCorrectCategoryFoundEnum);\r\n  return HowCorrectCategoryFoundEnum;\r\n}\r\n\r\n\r\nconst addTooltip = (gmbContainer) => {\r\n  const tooltip = document.createElement(\"span\");\r\n  tooltip.setAttribute(\"class\", gmbTooltipClass);\r\n  tooltip.innerHTML = \"By GMB Everywhere.\";\r\n\r\n  gmbContainer.appendChild(tooltip);\r\n};\r\n\r\nconst  pickupScriptStringFromPage = () => {\r\n  const onPageHTML = document.documentElement.innerHTML;\r\n\r\n  const searchString = \"window.APP_INITIALIZATION_STATE=\";\r\n  const codeStart = onPageHTML.indexOf(searchString);\r\n  const codeEnd = onPageHTML.indexOf(\r\n    \"window.APP_FLAGS\",\r\n    codeStart\r\n  );\r\n  const code = onPageHTML.substring(\r\n    codeStart + searchString.length,\r\n    codeEnd\r\n  );\r\n\r\n  //slice the string to remove simicolon before parsing\r\n  const WindowInitializationState = JSON.parse(code.slice(0, -1));\r\n  const processedTxt = WindowInitializationState && WindowInitializationState[3] ? WindowInitializationState[3][6] : \"\";\r\n  return processedTxt;\r\n}\r\n\r\nlet countNumberOfTimeValueExistInArray = (value, array) => {\r\n  var count = 0;\r\n  array.forEach((v) => (v === value && count++));\r\n  return count;\r\n}\r\n\r\nconst getCurrentUrl = () => window.location.href;\r\n\r\n\r\nlet returnUniqueValuesInArray = (array) => array.filter((item, i, ar) => ar.indexOf(item) === i);\r\n\r\nconst createAuditDisplayButton = ( buttonText, buttonId, options) => {\r\n  const buttonBasicAudit = document.createElement(\"button\");\r\n  buttonBasicAudit.id = buttonId;\r\n  buttonBasicAudit.style.cssText = `margin-top:20px;\r\n  margin-bottom:20px;\r\n  width: 110px;\r\n  margin-right: 3px;\r\n  line-height: 1.5;\r\n  border: 2px solid #cc4d29;\r\n  background-color:rgb(255, 200, 185);\r\n  border-radius: .2rem;\r\n  color: rgb(33, 37, 41);\r\n  font-size: 14px;\r\n  padding: 5px 3px;\r\n  display: inline-block;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  ${options?.style ?? ''}`;\r\n  buttonBasicAudit.innerHTML = buttonText;\r\n  return buttonBasicAudit;\r\n}\r\n\r\nlet getUrlAppendUserInformationAndForward = (existingUrl, isOpenInSameWindow) => {\r\n  chrome.storage.local.get(['ge-local-user-details'], function (userInformation) {\r\n    let inputExistingUrl = new URL(existingUrl);\r\n\r\n    if (Object.keys(userInformation).length === 0) {\r\n      inputExistingUrl.searchParams.set(\"user-type\", \"type-a\");\r\n    } else {\r\n      inputExistingUrl.searchParams.set(\"user-type\", \"type-b\");\r\n      inputExistingUrl.searchParams.set(\"user-information\", encodeURIComponent(JSON.stringify (userInformation)));\r\n      \r\n    }\r\n\r\n    if (isOpenInSameWindow) {\r\n      window.location.replace(inputExistingUrl.toString());\r\n      \r\n    } else {\r\n      window.open(inputExistingUrl.toString());\r\n      \r\n    }\r\n  });\r\n}\r\n\r\n// this method won't create a new grey background, \r\n// the google review page has already grey background\r\nlet createFullPageGreyingSectionWithMessageOnTop = (message) => {\r\n\r\n  let displayMessageSectionId = \"pullPageGreySection\";\r\n  if (document.querySelectorAll(\"#\" + displayMessageSectionId).length) {\r\n    document.getElementById(displayMessageSectionId).remove();\r\n  }\r\n  const container = document.createElement(\"div\");\r\n  container.id = displayMessageSectionId;\r\n  container.style.cssText = \"position:fixed;\\\r\n  z-index: 2000; \\\r\n  top:0; left:0; bottom:0; right:0;\\\r\n  background:rgba(255,200,185,0);\\\r\n  text-align: center;\\\r\n  font-size: 14px;\";\r\n\r\n  const textSection = document.createElement('div');\r\n  textSection.style.cssText = \"padding: .4em .6em .5em;\\\r\n  font-size: 18px;\\\r\n  line-height: 1;\\\r\n  color: rgb(33, 37, 41);\\\r\n  text-align: center;\\\r\n  white-space: nowrap;\\\r\n  vertical-align: baseline;\\\r\n  border-radius: .25em;\\\r\n  background-color: #ffc8b9;\\\r\n  border: 4px solid rgb(204, 77, 41);\\\r\n  font-weight: bold;\";\r\n  var s = document.body.firstChild;\r\n  textSection.innerHTML = message;\r\n  container.appendChild(textSection);\r\n\r\n  s.parentNode.insertBefore(container, s);\r\n}\r\n\r\nconst createFullPageLoader = (message, isError) => {\r\n  let displayMessageSectionId = \"fullPageGreySection\";\r\n  if (document.querySelectorAll(\"#\" + displayMessageSectionId).length) {\r\n    document.getElementById(displayMessageSectionId).remove();\r\n  }\r\n\r\n  const fullScreenOverlay = document.createElement(\"div\");\r\n  fullScreenOverlay.id = displayMessageSectionId;\r\n  fullScreenOverlay.style.cssText = `position:fixed;\r\n  z-index: 20000; \r\n  top:0; left:0; bottom:0; right:0;\r\n  background: rgba(0, 0, 0, 0.7); // Changed to a darker background\r\n  text-align: center;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  backdrop-filter: blur(5px);`;\r\n\r\n  const modal = document.createElement('div');\r\n  modal.style.cssText = `background-color: white;\r\n    padding: 20px;\r\n    border-radius: 3px;\r\n    box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n    width: 280px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #333;\r\n    line-height: 1.5;`\r\n  var documentBodyFirstChild = document.body.firstChild;\r\n\r\n  var textSection = document.createElement('p');\r\n  textSection.style.cssText = `margin: 0px`;\r\n  textSection.innerHTML = message;\r\n\r\n  appendGMBIcon(modal);\r\n\r\n  if(isError) {\r\n    textSection.style.marginTop = '20px';\r\n  } else {\r\n    const loader = document.createElement('div');\r\n    loader.style.cssText = `border: 5px solid #f3f3f3; \r\n      border-top: 5px solid rgb(255, 122, 82);\r\n      border-radius: 50%;\r\n      width: 50px;\r\n      height: 50px;\r\n      animation: ${gmbCategoryClass}_loader_spin 1s linear infinite;\r\n      margin: 25px auto 15px auto;`\r\n    modal.appendChild(loader);\r\n  }\r\n\r\n  modal.appendChild(textSection);\r\n  fullScreenOverlay.appendChild(modal);\r\n\r\n  documentBodyFirstChild.parentNode.insertBefore(fullScreenOverlay, documentBodyFirstChild);\r\n}\r\n\r\nconst appendGMBIcon = (parent) => {\r\n  const img = document.createElement(\"img\");\r\n  img.src = chrome.runtime.getURL(\"imgs/gmb.png\");\r\n  img.style.cssText =\r\n    \"height: 40px; margin: 0 0.6px -12px 6px;\";\r\n  parent.appendChild(img);\r\n};\r\n\r\nlet createEmojiIcon = (options) => {\r\n  return `<span><img src=\"${chrome.runtime.getURL(`imgs/${options.iconName}`)}\"\r\n                style=\"width: ${options.iconSize};\r\n                height: ${options.iconSize};\r\n                position: relative;\r\n                top: ${options?.top || \"1px\"};\r\n                ${options?.bottom ? `bottom: ${options.bottom}` : \"\" }\r\n                \">\r\n                </img></span>`;\r\n}\r\n\r\nconst extractPlaceIdFromHref = (href) => {\r\n  const placeIdRegex = /ChIJ(.*?)(?=\\?)/gi;\r\n  const result = href.match(placeIdRegex);\r\n  return result ? result[0] : \"\";\r\n};\r\n\r\nconst forwardToErrorPage = ({auditType, error, newTab = true, errorType}) => {\r\n  const params = new URLSearchParams();\r\n  params.append(\"ge-mode\", \"business-details\");\r\n  params.append(\"audit-type\", auditType);\r\n  params.append(\"issue\", \"exception-occured\");\r\n  params.append(\"url\", window.location.href);\r\n  params.append(\"error-name\", error?.name);\r\n  params.append(\"error-message\", error?.message);\r\n  params.append(\"error-type\", errorType);\r\n\r\n  const errorPageUrl = `${codeConstants[\"error-page\"]}?${params.toString()}`;\r\n  newTab ? window.open(errorPageUrl, \"_blank\") : window.location.href = errorPageUrl;\r\n}\r\n\r\nconst appendCategoryTool = (container, categoryArray, type) => {\r\n  container.classList.add('btn-gmb-category-tool');\r\n  try{\r\n    let buttonHeight = \"21px\";\r\n    let buttonMargin = \"0 0 3px 3px\";\r\n    let iconSize = \"21px\";\r\n    let iconButton = \"3px\";\r\n    let buttonFontSize = \"14px\";\r\n    let textBottom = \"9px !important\";\r\n    let buttonText = \"Find more\";\r\n    let icon = \"waving_hand_icon.svg\";\r\n\r\n    if(type === gmbSearchType.mapSearchResultPane) {\r\n      buttonHeight = \"19px\";\r\n      buttonMargin = \"0 0 0 3px\";\r\n      buttonFontSize = \"12px\";\r\n      iconSize = \"18px\";\r\n      iconButton = \"2px\";\r\n      textBottom = \"7.2px !important\";\r\n    }\r\n\r\n    if(type === gmbSearchType.gmbEditProfileAdmin) {\r\n      buttonText = \"Find Categories\"; \r\n      icon = \"brain_icon.svg\";\r\n      iconSize = \"15px\";\r\n      textBottom = \"4px !important\";\r\n      iconButton = \"1px\";\r\n    }\r\n\r\n    if(type === gmbSearchType.gmbEditServicesAdmin) {\r\n      buttonText = \"Find Services\";\r\n      icon = \"brain_icon.svg\";\r\n      iconSize = \"15px\";\r\n      textBottom = \"4px !important\";\r\n      iconButton = \"1px\";\r\n    }\r\n\r\n    if (\r\n      [\r\n        gmbSearchType.googleSearchResultPage,\r\n        gmbSearchType.localFinderSearchResultPane,\r\n      ].includes(type)\r\n    ) {\r\n      buttonText = \"Category Finder\";\r\n      buttonMargin = \"0 0 3px 0px\";\r\n    }\r\n\r\n    if(!!categoryArray?.length) {\r\n      const categoryTool = document.createElement(\"button\");\r\n      categoryTool.style.cssText = `\r\n      height: ${buttonHeight}; \r\n      cursor: pointer; \r\n      display: inline-block; \r\n      padding: 0.26em 0.4em 0.25em 0.3em; \r\n      font-size: ${buttonFontSize};\r\n      line-height: 1; \r\n      text-align: center; \r\n      white-space: nowrap; \r\n      vertical-align: middle; \r\n      border: none;\r\n      border-radius: .25rem; \r\n      color: #fff; \r\n      background-color: rgb(204, 77, 41); \r\n      margin: ${buttonMargin};\r\n      `;\r\n      categoryTool.onclick = (event) => {\r\n        event.stopPropagation();\r\n\r\n        let categoryToolUrl = new URL(codeConstants[\"category-tool-page\"]);\r\n        if(type === gmbSearchType.gmbEditProfileAdmin) {\r\n          categoryToolUrl.searchParams.set(\"from\", \"gmb-profile-admin\");\r\n        }\r\n\r\n        if(type === gmbSearchType.gmbEditServicesAdmin) {\r\n          categoryToolUrl.searchParams.set(\"from\", \"gmb-profile-admin\");\r\n          categoryToolUrl.searchParams.set(\"isShowOnlyService\", \"true\");\r\n        }\r\n\r\n        try {\r\n          categoryToolUrl.searchParams.append(\"cat\", JSON.stringify(categoryArray));\r\n        } catch { }\r\n        window.open(categoryToolUrl.toString(), '_blank');\r\n      };\r\n      categoryTool.innerHTML = `${createEmojiIcon({\r\n        iconName: icon,\r\n        iconSize: iconSize,\r\n        top: \"unset\",\r\n        bottom: iconButton,\r\n      })}`;\r\n\r\n      let categoryToolText = document.createElement(\"span\");\r\n      categoryToolText.innerText = buttonText\r\n      categoryToolText.style.cssText = `\r\n      position: relative;\r\n      bottom: ${textBottom};\r\n      `;\r\n      \r\n      categoryTool.insertBefore(categoryToolText, categoryTool.nextSibling);\r\n      container.appendChild(categoryTool);\r\n    }\r\n  } catch {}\r\n}\r\n\r\nconst appendGenerateDescriptionButton = (container, businessName) => {\r\n  container.classList.add('btn-gmb-generate-desc')\r\n  const generateDescriptionButton = document.createElement(\"button\");\r\n  generateDescriptionButton.style.cssText = `\r\n    height: 21px; \r\n    cursor: pointer; \r\n    display: inline-block; \r\n    padding: 0.26em 0.4em 0.25em 0.3em; \r\n    font-size: 14px;\r\n    line-height: 1; \r\n    text-align: center; \r\n    white-space: nowrap; \r\n    vertical-align: middle; \r\n    border: none;\r\n    border-radius: .25rem; \r\n    color: #fff; \r\n    background-color: rgb(204, 77, 41); \r\n    margin: 0 0 3px 3px;\r\n    `;\r\n    generateDescriptionButton.onclick = (event) => {\r\n    event.stopPropagation();\r\n    const aiToolUrl = new URL(codeConstants[\"admin-section\"][\"ai-description\"], codeConstants[\"admin-section\"][\"base-url\"]);\r\n    aiToolUrl.searchParams.set(\"post-ai-mode\", \"generate-user-from-gmb-admin-page\");\r\n    \r\n    if (businessName) {\r\n      aiToolUrl.searchParams.set(\"additional-information\", `Business Name: ${businessName}`);\r\n    }\r\n    \r\n    window.open(aiToolUrl.toString(), '_blank');\r\n  };\r\n  generateDescriptionButton.innerHTML = `${createEmojiIcon({\r\n    iconName: \"brain_icon.svg\",\r\n    iconSize: \"16px\",\r\n    top: \"-1px\",\r\n  })}`;\r\n\r\n  const generateDescriptionButtonText = document.createElement(\"span\");\r\n  generateDescriptionButtonText.innerText = \"Generate Description\"\r\n  generateDescriptionButtonText.style.cssText = `\r\n    position: relative;\r\n    bottom: 4px !important;\r\n    `;\r\n  \r\n  generateDescriptionButton.insertBefore(generateDescriptionButtonText, generateDescriptionButton.nextSibling);\r\n  container.appendChild(generateDescriptionButton);\r\n}\r\n\r\nconst appendGeneratePostButton = (container, businessName) => {\r\n  container.classList.add('btn-gmb-generate-post');\r\n  const generatePostButton = document.createElement(\"button\");\r\n  generatePostButton.style.cssText = `\r\n    height: 21px; \r\n    cursor: pointer; \r\n    display: inline-block; \r\n    padding: 0.26em 0.4em 0.25em 0.3em; \r\n    font-size: 14px;\r\n    line-height: 1; \r\n    text-align: center; \r\n    white-space: nowrap; \r\n    vertical-align: middle; \r\n    border: none;\r\n    border-radius: .25rem; \r\n    color: #fff; \r\n    background-color: rgb(204, 77, 41); \r\n    margin: 0 0 3px 10px;\r\n    `;\r\n  generatePostButton.onclick = (event) => {\r\n    event.stopPropagation();\r\n    const aiToolUrl = new URL(codeConstants[\"admin-section\"][\"ai-post\"], codeConstants[\"admin-section\"][\"base-url\"]);\r\n    aiToolUrl.searchParams.set(\"post-ai-mode\", \"generate-user-from-gmb-admin-page\");\r\n\r\n    if (businessName) {\r\n      aiToolUrl.searchParams.set(\"additional-information\", `Business Name: ${businessName}`);\r\n    }\r\n    \r\n    window.open(aiToolUrl.toString(), '_blank');\r\n  };\r\n  generatePostButton.innerHTML = `${createEmojiIcon({\r\n    iconName: \"brain_icon.svg\",\r\n    iconSize: \"16px\",\r\n    top: \"-1px\",\r\n  })}`;\r\n\r\n  const generatePostButtonText = document.createElement(\"span\");\r\n  generatePostButtonText.innerText = \"Generate Post\"\r\n  generatePostButtonText.style.cssText = `\r\n    position: relative;\r\n    bottom: 4px !important;\r\n    `;\r\n  \r\n  generatePostButton.insertBefore(generatePostButtonText, generatePostButton.nextSibling);\r\n  container.appendChild(generatePostButton);\r\n}\r\n\r\nconst appendGenerateQandAButton = (container, businessName) => {\r\n  const generateQandAButton = document.createElement(\"button\");\r\n  generateQandAButton.style.cssText = `\r\n    height: 21px; \r\n    cursor: pointer; \r\n    display: inline-block; \r\n    padding: 0.26em 0.4em 0.25em 0.3em; \r\n    font-size: 14px;\r\n    line-height: 1; \r\n    text-align: center; \r\n    white-space: nowrap; \r\n    vertical-align: middle; \r\n    border: none;\r\n    border-radius: .25rem; \r\n    color: #fff; \r\n    background-color: rgb(204, 77, 41); \r\n    margin: 0 0 3px 10px;\r\n    `;\r\n  generateQandAButton.onclick = (event) => {\r\n    event.stopPropagation();\r\n    const aiToolUrl = new URL(codeConstants[\"admin-section\"][\"ai-qa\"], codeConstants[\"admin-section\"][\"base-url\"]);\r\n    aiToolUrl.searchParams.set(\"post-ai-mode\", \"generate-user-from-gmb-admin-page\");\r\n\r\n    if (businessName) {\r\n      aiToolUrl.searchParams.set(\"additional-information\", `Business Name: ${businessName}`);\r\n    }\r\n    \r\n    window.open(aiToolUrl.toString(), '_blank');\r\n  };\r\n  generateQandAButton.innerHTML = `${createEmojiIcon({\r\n    iconName: \"brain_icon.svg\",\r\n    iconSize: \"16px\",\r\n    top: \"-1px\",\r\n  })}`;\r\n\r\n  const generateQandAButtonText = document.createElement(\"span\");\r\n  generateQandAButtonText.innerText = \"Generate Q&A\"\r\n  generateQandAButtonText.style.cssText = `\r\n    position: relative;\r\n    bottom: 4px !important;\r\n    `;\r\n  \r\n  generateQandAButton.insertBefore(generateQandAButtonText, generateQandAButton.nextSibling);\r\n  container.appendChild(generateQandAButton);\r\n}\r\n\r\nconst appendAIToolsButton = (tilesButton, aiToolsContainer, businessName) => {\r\n  const aiToolsButton = document.createElement(\"button\");\r\n  aiToolsButton.className = tilesButton.className;\r\n  aiToolsButton.style.cssText = `\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-content: center;\r\n    align-items: center;\r\n    color: #000 !important;\r\n  `;\r\n  aiToolsButton.classList.add('gmb-admin-section-tiles');\r\n  \r\n  aiToolsButton.onclick = (event) => {\r\n    event.stopPropagation();\r\n    const aiToolUrl = new URL(codeConstants[\"admin-section\"][\"ai-tools\"], codeConstants[\"admin-section\"][\"base-url\"]);\r\n    aiToolUrl.searchParams.set(\"post-ai-mode\", \"generate-user-from-gmb-admin-page\");\r\n\r\n    if (businessName) {\r\n      aiToolUrl.searchParams.set(\"additional-information\", `Business Name: ${businessName}`);\r\n    }\r\n    \r\n    window.open(aiToolUrl.toString(), '_blank');\r\n  };\r\n\r\n  const aiToolsButtonText = document.createElement(\"span\");\r\n  aiToolsButtonText.textContent = \"AI Tools\";\r\n  aiToolsButtonText.style.cssText = `\r\n    display: block;\r\n    font-family: Google Sans, arial, sans-serif;\r\n    font-weight: 400;\r\n    white-space: nowrap;\r\n    font-size: 14px;\r\n    margin-top: 5px;\r\n  `;\r\n\r\n  const aiToolsButtonText2 = document.createElement(\"span\");\r\n  aiToolsButtonText2.textContent = \"GMBEVERYWHERE\";\r\n  aiToolsButtonText2.style.cssText = `\r\n    display: block;\r\n    font-family: Google Sans, arial, sans-serif;\r\n    font-weight: 400;\r\n    white-space: nowrap;\r\n    font-size: 9px;\r\n  `;\r\n\r\n  aiToolsButton.innerHTML = createEmojiIcon({iconName: 'brain_icon.svg', iconSize: '20px'});\r\n  aiToolsButton.appendChild(aiToolsButtonText);\r\n  aiToolsButton.appendChild(aiToolsButtonText2);\r\n\r\n  aiToolsContainer.appendChild(aiToolsButton);\r\n}\r\n\r\nconst appendGenerateReplyButton = (container, reviewText, version) => {\r\n  container.classList.add('btn-gmb-generate-reply');\r\n  container.style.cssText = \"display: inline-block; margin-right: 20px;\";\r\n\r\n  const generateReplyButton = document.createElement(\"button\");\r\n  generateReplyButton.style.cssText = `\r\n    height: 21px; \r\n    cursor: pointer; \r\n    display: inline-block; \r\n    padding: 0.26em 0.4em 0.25em 0.3em; \r\n    font-size: 14px;\r\n    line-height: 1; \r\n    text-align: center; \r\n    white-space: nowrap; \r\n    vertical-align: middle; \r\n    border: none;\r\n    border-radius: .25rem; \r\n    color: #fff; \r\n    background-color: rgb(204, 77, 41); \r\n    margin-bottom: 3px;\r\n    `;\r\n\r\n  let containerMarginRight =  '20px',\r\n  containerMarginTop = 'initial',\r\n  containerMarginLeft = 'initial';\r\n\r\n  let generateReplyButtonHeight = '21px',\r\n  generateReplyButtonMarginBottom = '3px';\r\n\r\n  let logoTop = '-1px';\r\n  let generateReplyButtonTextBottom = '4px';\r\n\r\n  switch (version) {\r\n    // version 1 is the default style, no parameter needed\r\n    case 2:\r\n      containerMarginRight = '5px';\r\n      generateReplyButtonHeight = '36.66px';\r\n      generateReplyButtonMarginBottom = '0';\r\n      logoTop = '2px';\r\n      generateReplyButtonTextBottom = '1px';\r\n      break;\r\n    case 3:\r\n      containerMarginRight = '0';\r\n      containerMarginTop = '4px';\r\n      containerMarginLeft = '8px';\r\n      generateReplyButtonHeight = '36px';\r\n      generateReplyButtonMarginBottom = '0';\r\n      logoTop = '2px';\r\n      generateReplyButtonTextBottom = '1px';\r\n      break;\r\n    case 4:\r\n      containerMarginLeft = '10px';\r\n    default: \r\n      break;\r\n  }\r\n\r\n  container.style.marginRight = containerMarginRight;\r\n  container.style.marginTop = containerMarginTop;\r\n  container.style.marginLeft = containerMarginLeft;\r\n  generateReplyButton.style.height = generateReplyButtonHeight;\r\n  generateReplyButton.style.marginBottom = generateReplyButtonMarginBottom;\r\n\r\n  generateReplyButton.onclick = (event) => {\r\n    event.stopPropagation();\r\n    const aiToolUrl = new URL(codeConstants[\"admin-section\"][\"ai-review-response\"], codeConstants[\"admin-section\"][\"base-url\"]);\r\n    aiToolUrl.searchParams.set(\"post-ai-mode\", \"generate-user-from-gmb-admin-page\");\r\n\r\n    if (reviewText) {\r\n      aiToolUrl.searchParams.set(\"original-review\", reviewText);\r\n    }\r\n    \r\n    window.open(aiToolUrl.toString(), '_blank');\r\n  };\r\n  generateReplyButton.innerHTML = `${createEmojiIcon({\r\n    iconName: \"brain_icon.svg\",\r\n    iconSize: \"16px\",\r\n    top: logoTop,\r\n  })}`;\r\n\r\n  const generateReplyButtonText = document.createElement(\"span\");\r\n  generateReplyButtonText.innerText = \"Generate Reply\"\r\n  generateReplyButtonText.style.cssText = `\r\n    position: relative;\r\n    bottom: ${generateReplyButtonTextBottom} !important;\r\n    `;\r\n\r\n  generateReplyButton.insertBefore(generateReplyButtonText, generateReplyButton.nextSibling);\r\n  container.appendChild(generateReplyButton);\r\n}\r\n\r\nconst truncateText = (text, limit) => {\r\n  if (text.length > limit) {\r\n     return `${text.substring(0, limit)}...`;\r\n  }\r\n  return text;\r\n}\r\n\r\nconst getReviewAuditModalVersion = () => {\r\n  // review modal scoll container\r\n  if(document.querySelector('[data-sort-id=\"newestFirst\"]')) {\r\n    return REVIEW_AUDIT_MODAL_VERSION.v1;\r\n  }\r\n\r\n  // review modal scoll container\r\n  if(document.querySelector('g-scrolling-carousel[jsshadow] div[data-sort=\"2\"]')) {\r\n    return REVIEW_AUDIT_MODAL_VERSION.v2;\r\n  }\r\n\r\n  return REVIEW_AUDIT_MODAL_VERSION.v1;\r\n}\r\n\r\nconst checkIfElementExists = (elementOrSelector, intervalTime, maxAttempts, onSuccess, onFailure) => {\r\n  let attempts = 0;\r\n  const interval = setInterval(function () {\r\n    let element;\r\n\r\n    if (typeof elementOrSelector === 'string') {\r\n      element = document.querySelector(elementOrSelector);\r\n    } else if (typeof elementOrSelector === 'function') {\r\n      element = elementOrSelector();\r\n    }\r\n\r\n    if (element) {\r\n      clearInterval(interval);\r\n      if (onSuccess) onSuccess(element);\r\n    }\r\n\r\n    attempts++;\r\n    if (attempts >= maxAttempts) {\r\n      clearInterval(interval);\r\n      if (onFailure) onFailure(new Error(`Element ${elementOrSelector} not found after ${maxAttempts} attempts.`));\r\n    }\r\n  }, intervalTime);\r\n};\r\nconst apiPostRequest = (url, data) => {\r\n  return new Promise((resolve, reject) => {\r\n      fetch(url, {\r\n          method: 'POST',\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(data)\r\n      })\r\n          .then(response => {\r\n              if (!response.ok) {\r\n                  throw new Error(`HTTP error! status: ${response.status}`);\r\n              }\r\n              return response.json();\r\n          })\r\n          .then(data => resolve(data))\r\n          .catch(error => {\r\n              console.error('Error making POST request:', error);\r\n              reject(error);\r\n          })\r\n  })\r\n}\r\n\r\nconst createGuid = () => crypto.randomUUID();\r\n\r\nexport {\r\n  addTooltip, apiPostRequest, appendAIToolsButton, appendCategoryTool,\r\n  appendGenerateDescriptionButton,\r\n  appendGeneratePostButton,\r\n  appendGenerateQandAButton, appendGenerateReplyButton, checkIfElementExists, countNumberOfTimeValueExistInArray, createAuditDisplayButton, createEmojiIcon, createFullPageGreyingSectionWithMessageOnTop,\r\n  createFullPageLoader, createGuid, extractPlaceIdFromHref,\r\n  forwardToErrorPage, getCurrentUrl, getReviewAuditModalVersion, getUrlAppendUserInformationAndForward, gmbCategoryClass, pickupScriptStringFromPage, returnEnumOfCodeMode, returnUniqueValuesInArray, setHeaderStyles, truncateText\r\n};\r\n\r\n","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n\n  return sign + output;\n}","export default function assign(target, dirtyObject) {\n  if (target == null) {\n    throw new TypeError('assign requires that input parameter not be null or undefined');\n  }\n\n  dirtyObject = dirtyObject || {};\n\n  for (var property in dirtyObject) {\n    if (dirtyObject.hasOwnProperty(property)) {\n      target[property] = dirtyObject[property];\n    }\n  }\n\n  return target;\n}","import lightFormatters from \"../lightFormatters/index.js\";\nimport getUTCDayOfYear from \"../../../_lib/getUTCDayOfYear/index.js\";\nimport getUTCISOWeek from \"../../../_lib/getUTCISOWeek/index.js\";\nimport getUTCISOWeekYear from \"../../../_lib/getUTCISOWeekYear/index.js\";\nimport getUTCWeek from \"../../../_lib/getUTCWeek/index.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport addLeadingZeros from \"../../addLeadingZeros/index.js\";\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n  /*\n   * |     | Unit                           |     | Unit                           |\n   * |-----|--------------------------------|-----|--------------------------------|\n   * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n   * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n   * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n   * |  d  | Day of month                   |  D  | Day of year                    |\n   * |  e  | Local day of week              |  E  | Day of week                    |\n   * |  f  |                                |  F* | Day of week in month           |\n   * |  g* | Modified Julian day            |  G  | Era                            |\n   * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n   * |  i! | ISO day of week                |  I! | ISO week of year               |\n   * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n   * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n   * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n   * |  m  | Minute                         |  M  | Month                          |\n   * |  n  |                                |  N  |                                |\n   * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n   * |  p! | Long localized time            |  P! | Long localized date            |\n   * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n   * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n   * |  s  | Second                         |  S  | Fraction of second             |\n   * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n   * |  u  | Extended year                  |  U* | Cyclic year                    |\n   * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n   * |  w  | Local week of year             |  W* | Week of month                  |\n   * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n   * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n   * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n   *\n   * Letters marked by * are not implemented but reserved by Unicode standard.\n   *\n   * Letters marked by ! are non-standard, but implemented by date-fns:\n   * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n   * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n   *   i.e. 7 for Sunday, 1 for Monday, etc.\n   * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n   * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n   *   `R` is supposed to be used in conjunction with `I` and `i`\n   *   for universal ISO week-numbering date, whereas\n   *   `Y` is supposed to be used in conjunction with `w` and `e`\n   *   for week-numbering date specific to the locale.\n   * - `P` is long localized date format\n   * - `p` is long localized time format\n   */\n\n};\nvar formatters = {\n  // Era\n  G: function (date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear; // Two digit year\n\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    } // Ordinal number\n\n\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    } // Padding\n\n\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function (date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date); // Padding\n\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function (date, token, localize) {\n    var month = date.getUTCMonth();\n\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function (date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function (date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function (date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function (date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function (date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function (date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function (date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\n\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n\n  return formatTimezone(offset, dirtyDelimiter);\n}\n\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n\nexport default formatters;","import addLeadingZeros from \"../../addLeadingZeros/index.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nvar formatters = {\n  // Year\n  y: function (date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    var signedYear = date.getUTCFullYear(); // Returns 1 for 1 BC (which is year 0 in JavaScript)\n\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function (date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function (date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function (date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n\n      case 'aaa':\n        return dayPeriodEnumValue;\n\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function (date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function (date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function (date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function (date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function (date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n}\n\nfunction timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n}\n\nfunction dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/);\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  var dateTimeFormat;\n\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n}\n\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate, dirtyOptions);\n  var year = date.getUTCFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n  }\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function setUTCDay(dirtyDate, dirtyDay, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = toInteger(dirtyDay);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}","import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function setUTCISODay(dirtyDate, dirtyDay) {\n  requiredArgs(2, arguments);\n  var day = toInteger(dirtyDay);\n\n  if (day % 7 === 0) {\n    day = day - 7;\n  }\n\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}","import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport getUTCISOWeek from \"../getUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function setUTCISOWeek(dirtyDate, dirtyISOWeek) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var isoWeek = toInteger(dirtyISOWeek);\n  var diff = getUTCISOWeek(date) - isoWeek;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}","import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport getUTCWeek from \"../getUTCWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function setUTCWeek(dirtyDate, dirtyWeek, options) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var week = toInteger(dirtyWeek);\n  var diff = getUTCWeek(date, options) - week;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}","import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import toInteger from \"../toInteger/index.js\";\nimport getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getUTCWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, dirtyOptions);\n  return date;\n}","import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\"; // This function will be a part of public API when UTC function will be implemented.\n// See issue: https://github.com/date-fns/date-fns/issues/376\n\nexport default function startOfUTCWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\n\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  date.setDate(date.getDate() + amount);\n  return date;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_HOUR = 3600000;\n/**\n * @name addHours\n * @category Hour Helpers\n * @summary Add the specified number of hours to the given date.\n *\n * @description\n * Add the specified number of hours to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of hours to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the hours added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 2 hours to 10 July 2014 23:00:00:\n * const result = addHours(new Date(2014, 6, 10, 23, 0), 2)\n * //=> Fri Jul 11 2014 01:00:00\n */\n\nexport default function addHours(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, amount * MILLISECONDS_IN_HOUR);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\n\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_MINUTE = 60000;\n/**\n * @name addMinutes\n * @category Minute Helpers\n * @summary Add the specified number of minutes to the given date.\n *\n * @description\n * Add the specified number of minutes to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of minutes to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the minutes added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 30 minutes to 10 July 2014 12:00:00:\n * const result = addMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 12:30:00\n */\n\nexport default function addMinutes(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, amount * MILLISECONDS_IN_MINUTE);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addDays from \"../addDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of week to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of weeks to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the weeks added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\n\nexport default function addWeeks(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  var days = amount * 7;\n  return addDays(dirtyDate, days);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\n\nexport default function addYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, amount * 12);\n}","import isValid from \"../isValid/index.js\";\nimport defaultLocale from \"../locale/en-US/index.js\";\nimport subMilliseconds from \"../subMilliseconds/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport formatters from \"../_lib/format/formatters/index.js\";\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 9. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The second argument is now required for the sake of explicitness.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   format(new Date(2016, 0, 1))\n *\n *   // v2.0.0 onward\n *   format(new Date(2016, 0, 1), \"yyyy-MM-dd'T'HH:mm:ss.SSSxxx\")\n *   ```\n *\n * - New format string API for `format` function\n *   which is based on [Unicode Technical Standard #35](https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table).\n *   See [this post](https://blog.date-fns.org/post/unicode-tokens-in-date-fns-v2-sreatyki91jg) for more details.\n *\n * - Characters are now escaped using single quote symbols (`'`) instead of square brackets.\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * var result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * var result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * var result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n\n  var originalDate = toDate(dirtyDate);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n\n\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong, formatterOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n\n    var formatter = formatters[firstCharacter];\n\n    if (formatter) {\n      if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, dirtyDate);\n      }\n\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n\n    return substring;\n  }).join('');\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Now `isValid` doesn't throw an exception\n *   if the first argument is not an instance of Date.\n *   Instead, argument is converted beforehand using `toDate`.\n *\n *   Examples:\n *\n *   | `isValid` argument        | Before v2.0.0 | v2.0.0 onward |\n *   |---------------------------|---------------|---------------|\n *   | `new Date()`              | `true`        | `true`        |\n *   | `new Date('2016-01-01')`  | `true`        | `true`        |\n *   | `new Date('')`            | `false`       | `false`       |\n *   | `new Date(1488370835081)` | `true`        | `true`        |\n *   | `new Date(NaN)`           | `false`       | `false`       |\n *   | `'2016-01-01'`            | `TypeError`   | `false`       |\n *   | `''`                      | `TypeError`   | `false`       |\n *   | `1488370835081`           | `TypeError`   | `true`        |\n *   | `NaN`                     | `TypeError`   | `false`       |\n *\n *   We introduce this change to make *date-fns* consistent with ECMAScript behavior\n *   that try to coerce arguments to the expected type\n *   (which is also the case with other *date-fns* functions).\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * var result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * var result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * var result = isValid(new Date(''))\n * //=> false\n */\n\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return !isNaN(date);\n}","export default function buildFormatLongFn(args) {\n  return function (dirtyOptions) {\n    var options = dirtyOptions || {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}","export default function buildMatchFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var value;\n\n    if (Object.prototype.toString.call(parsePatterns) === '[object Array]') {\n      value = findIndex(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    } else {\n      value = findKey(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    }\n\n    value = args.valueCallback ? args.valueCallback(value) : value;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n}","export default function buildMatchPatternFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var matchResult = string.match(args.matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n\n    if (!parseResult) {\n      return null;\n    }\n\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nexport default function formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nexport default function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n}","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter'] // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n\n};\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, _dirtyOptions) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`:\n  //\n  //   var options = dirtyOptions || {}\n  //   var unit = String(options.unit)\n  //\n  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","import buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nimport buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\n\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\";\nimport setUTCISODay from \"../../../_lib/setUTCISODay/index.js\";\nimport setUTCISOWeek from \"../../../_lib/setUTCISOWeek/index.js\";\nimport setUTCWeek from \"../../../_lib/setUTCWeek/index.js\";\nimport startOfUTCISOWeek from \"../../../_lib/startOfUTCISOWeek/index.js\";\nimport startOfUTCWeek from \"../../../_lib/startOfUTCWeek/index.js\";\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar MILLISECONDS_IN_SECOND = 1000;\nvar numericPatterns = {\n  month: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  date: /^(3[0-1]|[0-2]?\\d)/,\n  // 0 to 31\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/,\n  // 0 to 366\n  week: /^(5[0-3]|[0-4]?\\d)/,\n  // 0 to 53\n  hour23h: /^(2[0-3]|[0-1]?\\d)/,\n  // 0 to 23\n  hour24h: /^(2[0-4]|[0-1]?\\d)/,\n  // 0 to 24\n  hour11h: /^(1[0-1]|0?\\d)/,\n  // 0 to 11\n  hour12h: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  minute: /^[0-5]?\\d/,\n  // 0 to 59\n  second: /^[0-5]?\\d/,\n  // 0 to 59\n  singleDigit: /^\\d/,\n  // 0 to 9\n  twoDigits: /^\\d{1,2}/,\n  // 0 to 99\n  threeDigits: /^\\d{1,3}/,\n  // 0 to 999\n  fourDigits: /^\\d{1,4}/,\n  // 0 to 9999\n  anyDigitsSigned: /^-?\\d+/,\n  singleDigitSigned: /^-?\\d/,\n  // 0 to 9, -0 to -9\n  twoDigitsSigned: /^-?\\d{1,2}/,\n  // 0 to 99, -0 to -99\n  threeDigitsSigned: /^-?\\d{1,3}/,\n  // 0 to 999, -0 to -999\n  fourDigitsSigned: /^-?\\d{1,4}/ // 0 to 9999, -0 to -9999\n\n};\nvar timezonePatterns = {\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/\n};\n\nfunction parseNumericPattern(pattern, string, valueCallback) {\n  var matchResult = string.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  }\n\n  var value = parseInt(matchResult[0], 10);\n  return {\n    value: valueCallback ? valueCallback(value) : value,\n    rest: string.slice(matchResult[0].length)\n  };\n}\n\nfunction parseTimezonePattern(pattern, string) {\n  var matchResult = string.match(pattern);\n\n  if (!matchResult) {\n    return null;\n  } // Input is 'Z'\n\n\n  if (matchResult[0] === 'Z') {\n    return {\n      value: 0,\n      rest: string.slice(1)\n    };\n  }\n\n  var sign = matchResult[1] === '+' ? 1 : -1;\n  var hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\n  var minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\n  var seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\n  return {\n    value: sign * (hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * MILLISECONDS_IN_SECOND),\n    rest: string.slice(matchResult[0].length)\n  };\n}\n\nfunction parseAnyDigitsSigned(string, valueCallback) {\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, string, valueCallback);\n}\n\nfunction parseNDigits(n, string, valueCallback) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigit, string, valueCallback);\n\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigits, string, valueCallback);\n\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigits, string, valueCallback);\n\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigits, string, valueCallback);\n\n    default:\n      return parseNumericPattern(new RegExp('^\\\\d{1,' + n + '}'), string, valueCallback);\n  }\n}\n\nfunction parseNDigitsSigned(n, string, valueCallback) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigitSigned, string, valueCallback);\n\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, string, valueCallback);\n\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, string, valueCallback);\n\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, string, valueCallback);\n\n    default:\n      return parseNumericPattern(new RegExp('^-?\\\\d{1,' + n + '}'), string, valueCallback);\n  }\n}\n\nfunction dayPeriodEnumToHours(enumValue) {\n  switch (enumValue) {\n    case 'morning':\n      return 4;\n\n    case 'evening':\n      return 17;\n\n    case 'pm':\n    case 'noon':\n    case 'afternoon':\n      return 12;\n\n    case 'am':\n    case 'midnight':\n    case 'night':\n    default:\n      return 0;\n  }\n}\n\nfunction normalizeTwoDigitYear(twoDigitYear, currentYear) {\n  var isCommonEra = currentYear > 0; // Absolute number of the current year:\n  // 1 -> 1 AC\n  // 0 -> 1 BC\n  // -1 -> 2 BC\n\n  var absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\n  var result;\n\n  if (absCurrentYear <= 50) {\n    result = twoDigitYear || 100;\n  } else {\n    var rangeEnd = absCurrentYear + 50;\n    var rangeEndCentury = Math.floor(rangeEnd / 100) * 100;\n    var isPreviousCentury = twoDigitYear >= rangeEnd % 100;\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\n  }\n\n  return isCommonEra ? result : 1 - result;\n}\n\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]; // User for validation\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n}\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\n * |  p  |                                |  P  |                                |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n */\n\n\nvar parsers = {\n  // Era\n  G: {\n    priority: 140,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        // AD, BC\n        case 'G':\n        case 'GG':\n        case 'GGG':\n          return match.era(string, {\n            width: 'abbreviated'\n          }) || match.era(string, {\n            width: 'narrow'\n          });\n        // A, B\n\n        case 'GGGGG':\n          return match.era(string, {\n            width: 'narrow'\n          });\n        // Anno Domini, Before Christ\n\n        case 'GGGG':\n        default:\n          return match.era(string, {\n            width: 'wide'\n          }) || match.era(string, {\n            width: 'abbreviated'\n          }) || match.era(string, {\n            width: 'narrow'\n          });\n      }\n    },\n    set: function (date, flags, value, _options) {\n      flags.era = value;\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['R', 'u', 't', 'T']\n  },\n  // Year\n  y: {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n    priority: 130,\n    parse: function (string, token, match, _options) {\n      var valueCallback = function (year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'yy'\n        };\n      };\n\n      switch (token) {\n        case 'y':\n          return parseNDigits(4, string, valueCallback);\n\n        case 'yo':\n          return match.ordinalNumber(string, {\n            unit: 'year',\n            valueCallback: valueCallback\n          });\n\n        default:\n          return parseNDigits(token.length, string, valueCallback);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value.isTwoDigitYear || value.year > 0;\n    },\n    set: function (date, flags, value, _options) {\n      var currentYear = date.getUTCFullYear();\n\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, 1);\n        date.setUTCHours(0, 0, 0, 0);\n        return date;\n      }\n\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'u', 'w', 'I', 'i', 'e', 'c', 't', 'T']\n  },\n  // Local week-numbering year\n  Y: {\n    priority: 130,\n    parse: function (string, token, match, _options) {\n      var valueCallback = function (year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'YY'\n        };\n      };\n\n      switch (token) {\n        case 'Y':\n          return parseNDigits(4, string, valueCallback);\n\n        case 'Yo':\n          return match.ordinalNumber(string, {\n            unit: 'year',\n            valueCallback: valueCallback\n          });\n\n        default:\n          return parseNDigits(token.length, string, valueCallback);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value.isTwoDigitYear || value.year > 0;\n    },\n    set: function (date, flags, value, options) {\n      var currentYear = getUTCWeekYear(date, options);\n\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, options.firstWeekContainsDate);\n        date.setUTCHours(0, 0, 0, 0);\n        return startOfUTCWeek(date, options);\n      }\n\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, options.firstWeekContainsDate);\n      date.setUTCHours(0, 0, 0, 0);\n      return startOfUTCWeek(date, options);\n    },\n    incompatibleTokens: ['y', 'R', 'u', 'Q', 'q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']\n  },\n  // ISO week-numbering year\n  R: {\n    priority: 130,\n    parse: function (string, token, _match, _options) {\n      if (token === 'R') {\n        return parseNDigitsSigned(4, string);\n      }\n\n      return parseNDigitsSigned(token.length, string);\n    },\n    set: function (_date, _flags, value, _options) {\n      var firstWeekOfYear = new Date(0);\n      firstWeekOfYear.setUTCFullYear(value, 0, 4);\n      firstWeekOfYear.setUTCHours(0, 0, 0, 0);\n      return startOfUTCISOWeek(firstWeekOfYear);\n    },\n    incompatibleTokens: ['G', 'y', 'Y', 'u', 'Q', 'q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']\n  },\n  // Extended year\n  u: {\n    priority: 130,\n    parse: function (string, token, _match, _options) {\n      if (token === 'u') {\n        return parseNDigitsSigned(4, string);\n      }\n\n      return parseNDigitsSigned(token.length, string);\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['G', 'y', 'Y', 'R', 'w', 'I', 'i', 'e', 'c', 't', 'T']\n  },\n  // Quarter\n  Q: {\n    priority: 120,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'Q':\n        case 'QQ':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, string);\n        // 1st, 2nd, 3rd, 4th\n\n        case 'Qo':\n          return match.ordinalNumber(string, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n\n        case 'QQQ':\n          return match.quarter(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n        case 'QQQQQ':\n          return match.quarter(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1st quarter, 2nd quarter, ...\n\n        case 'QQQQ':\n        default:\n          return match.quarter(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.quarter(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 1 && value <= 4;\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Stand-alone quarter\n  q: {\n    priority: 120,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'q':\n        case 'qq':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, string);\n        // 1st, 2nd, 3rd, 4th\n\n        case 'qo':\n          return match.ordinalNumber(string, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n\n        case 'qqq':\n          return match.quarter(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n\n        case 'qqqqq':\n          return match.quarter(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1st quarter, 2nd quarter, ...\n\n        case 'qqqq':\n        default:\n          return match.quarter(string, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.quarter(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 1 && value <= 4;\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'Q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Month\n  M: {\n    priority: 110,\n    parse: function (string, token, match, _options) {\n      var valueCallback = function (value) {\n        return value - 1;\n      };\n\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'M':\n          return parseNumericPattern(numericPatterns.month, string, valueCallback);\n        // 01, 02, ..., 12\n\n        case 'MM':\n          return parseNDigits(2, string, valueCallback);\n        // 1st, 2nd, ..., 12th\n\n        case 'Mo':\n          return match.ordinalNumber(string, {\n            unit: 'month',\n            valueCallback: valueCallback\n          });\n        // Jan, Feb, ..., Dec\n\n        case 'MMM':\n          return match.month(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // J, F, ..., D\n\n        case 'MMMMM':\n          return match.month(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // January, February, ..., December\n\n        case 'MMMM':\n        default:\n          return match.month(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.month(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 0 && value <= 11;\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'L', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Stand-alone month\n  L: {\n    priority: 110,\n    parse: function (string, token, match, _options) {\n      var valueCallback = function (value) {\n        return value - 1;\n      };\n\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'L':\n          return parseNumericPattern(numericPatterns.month, string, valueCallback);\n        // 01, 02, ..., 12\n\n        case 'LL':\n          return parseNDigits(2, string, valueCallback);\n        // 1st, 2nd, ..., 12th\n\n        case 'Lo':\n          return match.ordinalNumber(string, {\n            unit: 'month',\n            valueCallback: valueCallback\n          });\n        // Jan, Feb, ..., Dec\n\n        case 'LLL':\n          return match.month(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // J, F, ..., D\n\n        case 'LLLLL':\n          return match.month(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // January, February, ..., December\n\n        case 'LLLL':\n        default:\n          return match.month(string, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.month(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 0 && value <= 11;\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'M', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Local week of year\n  w: {\n    priority: 100,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'w':\n          return parseNumericPattern(numericPatterns.week, string);\n\n        case 'wo':\n          return match.ordinalNumber(string, {\n            unit: 'week'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 1 && value <= 53;\n    },\n    set: function (date, _flags, value, options) {\n      return startOfUTCWeek(setUTCWeek(date, value, options), options);\n    },\n    incompatibleTokens: ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']\n  },\n  // ISO week of year\n  I: {\n    priority: 100,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'I':\n          return parseNumericPattern(numericPatterns.week, string);\n\n        case 'Io':\n          return match.ordinalNumber(string, {\n            unit: 'week'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 1 && value <= 53;\n    },\n    set: function (date, _flags, value, options) {\n      return startOfUTCISOWeek(setUTCISOWeek(date, value, options), options);\n    },\n    incompatibleTokens: ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']\n  },\n  // Day of the month\n  d: {\n    priority: 90,\n    subPriority: 1,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'd':\n          return parseNumericPattern(numericPatterns.date, string);\n\n        case 'do':\n          return match.ordinalNumber(string, {\n            unit: 'date'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (date, value, _options) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n      var month = date.getUTCMonth();\n\n      if (isLeapYear) {\n        return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\n      } else {\n        return value >= 1 && value <= DAYS_IN_MONTH[month];\n      }\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCDate(value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Day of year\n  D: {\n    priority: 90,\n    subPriority: 1,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'D':\n        case 'DD':\n          return parseNumericPattern(numericPatterns.dayOfYear, string);\n\n        case 'Do':\n          return match.ordinalNumber(string, {\n            unit: 'date'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (date, value, _options) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n\n      if (isLeapYear) {\n        return value >= 1 && value <= 366;\n      } else {\n        return value >= 1 && value <= 365;\n      }\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCMonth(0, value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['Y', 'R', 'q', 'Q', 'M', 'L', 'w', 'I', 'd', 'E', 'i', 'e', 'c', 't', 'T']\n  },\n  // Day of week\n  E: {\n    priority: 90,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        // Tue\n        case 'E':\n        case 'EE':\n        case 'EEE':\n          return match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n\n        case 'EEEEE':\n          return match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n\n        case 'EEEEEE':\n          return match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n\n        case 'EEEE':\n        default:\n          return match.day(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 0 && value <= 6;\n    },\n    set: function (date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['D', 'i', 'e', 'c', 't', 'T']\n  },\n  // Local day of week\n  e: {\n    priority: 90,\n    parse: function (string, token, match, options) {\n      var valueCallback = function (value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n\n      switch (token) {\n        // 3\n        case 'e':\n        case 'ee':\n          // 03\n          return parseNDigits(token.length, string, valueCallback);\n        // 3rd\n\n        case 'eo':\n          return match.ordinalNumber(string, {\n            unit: 'day',\n            valueCallback: valueCallback\n          });\n        // Tue\n\n        case 'eee':\n          return match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n\n        case 'eeeee':\n          return match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n\n        case 'eeeeee':\n          return match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n\n        case 'eeee':\n        default:\n          return match.day(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 0 && value <= 6;\n    },\n    set: function (date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'c', 't', 'T']\n  },\n  // Stand-alone local day of week\n  c: {\n    priority: 90,\n    parse: function (string, token, match, options) {\n      var valueCallback = function (value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n\n      switch (token) {\n        // 3\n        case 'c':\n        case 'cc':\n          // 03\n          return parseNDigits(token.length, string, valueCallback);\n        // 3rd\n\n        case 'co':\n          return match.ordinalNumber(string, {\n            unit: 'day',\n            valueCallback: valueCallback\n          });\n        // Tue\n\n        case 'ccc':\n          return match.day(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // T\n\n        case 'ccccc':\n          return match.day(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tu\n\n        case 'cccccc':\n          return match.day(string, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tuesday\n\n        case 'cccc':\n        default:\n          return match.day(string, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 0 && value <= 6;\n    },\n    set: function (date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'e', 't', 'T']\n  },\n  // ISO day of week\n  i: {\n    priority: 90,\n    parse: function (string, token, match, _options) {\n      var valueCallback = function (value) {\n        if (value === 0) {\n          return 7;\n        }\n\n        return value;\n      };\n\n      switch (token) {\n        // 2\n        case 'i':\n        case 'ii':\n          // 02\n          return parseNDigits(token.length, string);\n        // 2nd\n\n        case 'io':\n          return match.ordinalNumber(string, {\n            unit: 'day'\n          });\n        // Tue\n\n        case 'iii':\n          return match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting',\n            valueCallback: valueCallback\n          });\n        // T\n\n        case 'iiiii':\n          return match.day(string, {\n            width: 'narrow',\n            context: 'formatting',\n            valueCallback: valueCallback\n          });\n        // Tu\n\n        case 'iiiiii':\n          return match.day(string, {\n            width: 'short',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting',\n            valueCallback: valueCallback\n          });\n        // Tuesday\n\n        case 'iiii':\n        default:\n          return match.day(string, {\n            width: 'wide',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'abbreviated',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'short',\n            context: 'formatting',\n            valueCallback: valueCallback\n          }) || match.day(string, {\n            width: 'narrow',\n            context: 'formatting',\n            valueCallback: valueCallback\n          });\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 1 && value <= 7;\n    },\n    set: function (date, _flags, value, options) {\n      date = setUTCISODay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'E', 'e', 'c', 't', 'T']\n  },\n  // AM or PM\n  a: {\n    priority: 80,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'a':\n        case 'aa':\n        case 'aaa':\n          return match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'aaaaa':\n          return match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'aaaa':\n        default:\n          return match.dayPeriod(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['b', 'B', 'H', 'K', 'k', 't', 'T']\n  },\n  // AM, PM, midnight\n  b: {\n    priority: 80,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'b':\n        case 'bb':\n        case 'bbb':\n          return match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'bbbbb':\n          return match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'bbbb':\n        default:\n          return match.dayPeriod(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['a', 'B', 'H', 'K', 'k', 't', 'T']\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: {\n    priority: 80,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'B':\n        case 'BB':\n        case 'BBB':\n          return match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'BBBBB':\n          return match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n\n        case 'BBBB':\n        default:\n          return match.dayPeriod(string, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(string, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['a', 'b', 't', 'T']\n  },\n  // Hour [1-12]\n  h: {\n    priority: 70,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'h':\n          return parseNumericPattern(numericPatterns.hour12h, string);\n\n        case 'ho':\n          return match.ordinalNumber(string, {\n            unit: 'hour'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 1 && value <= 12;\n    },\n    set: function (date, _flags, value, _options) {\n      var isPM = date.getUTCHours() >= 12;\n\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else if (!isPM && value === 12) {\n        date.setUTCHours(0, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n\n      return date;\n    },\n    incompatibleTokens: ['H', 'K', 'k', 't', 'T']\n  },\n  // Hour [0-23]\n  H: {\n    priority: 70,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'H':\n          return parseNumericPattern(numericPatterns.hour23h, string);\n\n        case 'Ho':\n          return match.ordinalNumber(string, {\n            unit: 'hour'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 0 && value <= 23;\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCHours(value, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['a', 'b', 'h', 'K', 'k', 't', 'T']\n  },\n  // Hour [0-11]\n  K: {\n    priority: 70,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'K':\n          return parseNumericPattern(numericPatterns.hour11h, string);\n\n        case 'Ko':\n          return match.ordinalNumber(string, {\n            unit: 'hour'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 0 && value <= 11;\n    },\n    set: function (date, _flags, value, _options) {\n      var isPM = date.getUTCHours() >= 12;\n\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n\n      return date;\n    },\n    incompatibleTokens: ['a', 'b', 'h', 'H', 'k', 't', 'T']\n  },\n  // Hour [1-24]\n  k: {\n    priority: 70,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'k':\n          return parseNumericPattern(numericPatterns.hour24h, string);\n\n        case 'ko':\n          return match.ordinalNumber(string, {\n            unit: 'hour'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 1 && value <= 24;\n    },\n    set: function (date, _flags, value, _options) {\n      var hours = value <= 24 ? value % 24 : value;\n      date.setUTCHours(hours, 0, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['a', 'b', 'h', 'H', 'K', 't', 'T']\n  },\n  // Minute\n  m: {\n    priority: 60,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 'm':\n          return parseNumericPattern(numericPatterns.minute, string);\n\n        case 'mo':\n          return match.ordinalNumber(string, {\n            unit: 'minute'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 0 && value <= 59;\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCMinutes(value, 0, 0);\n      return date;\n    },\n    incompatibleTokens: ['t', 'T']\n  },\n  // Second\n  s: {\n    priority: 50,\n    parse: function (string, token, match, _options) {\n      switch (token) {\n        case 's':\n          return parseNumericPattern(numericPatterns.second, string);\n\n        case 'so':\n          return match.ordinalNumber(string, {\n            unit: 'second'\n          });\n\n        default:\n          return parseNDigits(token.length, string);\n      }\n    },\n    validate: function (_date, value, _options) {\n      return value >= 0 && value <= 59;\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCSeconds(value, 0);\n      return date;\n    },\n    incompatibleTokens: ['t', 'T']\n  },\n  // Fraction of second\n  S: {\n    priority: 30,\n    parse: function (string, token, _match, _options) {\n      var valueCallback = function (value) {\n        return Math.floor(value * Math.pow(10, -token.length + 3));\n      };\n\n      return parseNDigits(token.length, string, valueCallback);\n    },\n    set: function (date, _flags, value, _options) {\n      date.setUTCMilliseconds(value);\n      return date;\n    },\n    incompatibleTokens: ['t', 'T']\n  },\n  // Timezone (ISO-8601. +00:00 is `'Z'`)\n  X: {\n    priority: 10,\n    parse: function (string, token, _match, _options) {\n      switch (token) {\n        case 'X':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, string);\n\n        case 'XX':\n          return parseTimezonePattern(timezonePatterns.basic, string);\n\n        case 'XXXX':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, string);\n\n        case 'XXXXX':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, string);\n\n        case 'XXX':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, string);\n      }\n    },\n    set: function (date, flags, value, _options) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n\n      return new Date(date.getTime() - value);\n    },\n    incompatibleTokens: ['t', 'T', 'x']\n  },\n  // Timezone (ISO-8601)\n  x: {\n    priority: 10,\n    parse: function (string, token, _match, _options) {\n      switch (token) {\n        case 'x':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, string);\n\n        case 'xx':\n          return parseTimezonePattern(timezonePatterns.basic, string);\n\n        case 'xxxx':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, string);\n\n        case 'xxxxx':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, string);\n\n        case 'xxx':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, string);\n      }\n    },\n    set: function (date, flags, value, _options) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n\n      return new Date(date.getTime() - value);\n    },\n    incompatibleTokens: ['t', 'T', 'X']\n  },\n  // Seconds timestamp\n  t: {\n    priority: 40,\n    parse: function (string, _token, _match, _options) {\n      return parseAnyDigitsSigned(string);\n    },\n    set: function (_date, _flags, value, _options) {\n      return [new Date(value * 1000), {\n        timestampIsSet: true\n      }];\n    },\n    incompatibleTokens: '*'\n  },\n  // Milliseconds timestamp\n  T: {\n    priority: 20,\n    parse: function (string, _token, _match, _options) {\n      return parseAnyDigitsSigned(string);\n    },\n    set: function (_date, _flags, value, _options) {\n      return [new Date(value), {\n        timestampIsSet: true\n      }];\n    },\n    incompatibleTokens: '*'\n  }\n};\nexport default parsers;","import defaultLocale from \"../locale/en-US/index.js\";\nimport subMilliseconds from \"../subMilliseconds/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport assign from \"../_lib/assign/index.js\";\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport parsers from \"./_lib/parsers/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar TIMEZONE_UNIT_PRIORITY = 10; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\n\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g; // This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\n\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar notWhitespaceRegExp = /\\S/;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n/**\n * @name parse\n * @category Common Helpers\n * @summary Parse the date.\n *\n * @description\n * Return the date parsed from string using the given format string.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://git.io/fxCyr\n *\n * The characters in the format string wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n *\n * Format of the format string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 5 below the table).\n *\n * Not all tokens are compatible. Combinations that don't make sense or could lead to bugs are prohibited\n * and will throw `RangeError`. For example usage of 24-hour format token with AM/PM token will throw an exception:\n *\n * ```javascript\n * parse('23 AM', 'HH a', new Date())\n * //=> RangeError: The format string mustn't contain `HH` and `a` at the same time\n * ```\n *\n * See the compatibility table: https://docs.google.com/spreadsheets/d/e/2PACX-1vQOPU3xUhplll6dyoMmVUXHKl_8CRDs6_ueLmex3SoqwhuolkuN3O05l4rqx5h1dKX8eb46Ul-CCSrq/pubhtml?gid=0&single=true\n *\n * Accepted format string patterns:\n * | Unit                            |Prior| Pattern | Result examples                   | Notes |\n * |---------------------------------|-----|---------|-----------------------------------|-------|\n * | Era                             | 140 | G..GGG  | AD, BC                            |       |\n * |                                 |     | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 |     | GGGGG   | A, B                              |       |\n * | Calendar year                   | 130 | y       | 44, 1, 1900, 2017, 9999           | 4     |\n * |                                 |     | yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | yy      | 44, 01, 00, 17                    | 4     |\n * |                                 |     | yyy     | 044, 001, 123, 999                | 4     |\n * |                                 |     | yyyy    | 0044, 0001, 1900, 2017            | 4     |\n * |                                 |     | yyyyy   | ...                               | 2,4   |\n * | Local week-numbering year       | 130 | Y       | 44, 1, 1900, 2017, 9000           | 4     |\n * |                                 |     | Yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\n * |                                 |     | YY      | 44, 01, 00, 17                    | 4,6   |\n * |                                 |     | YYY     | 044, 001, 123, 999                | 4     |\n * |                                 |     | YYYY    | 0044, 0001, 1900, 2017            | 4,6   |\n * |                                 |     | YYYYY   | ...                               | 2,4   |\n * | ISO week-numbering year         | 130 | R       | -43, 1, 1900, 2017, 9999, -9999   | 4,5   |\n * |                                 |     | RR      | -43, 01, 00, 17                   | 4,5   |\n * |                                 |     | RRR     | -043, 001, 123, 999, -999         | 4,5   |\n * |                                 |     | RRRR    | -0043, 0001, 2017, 9999, -9999    | 4,5   |\n * |                                 |     | RRRRR   | ...                               | 2,4,5 |\n * | Extended year                   | 130 | u       | -43, 1, 1900, 2017, 9999, -999    | 4     |\n * |                                 |     | uu      | -43, 01, 99, -99                  | 4     |\n * |                                 |     | uuu     | -043, 001, 123, 999, -999         | 4     |\n * |                                 |     | uuuu    | -0043, 0001, 2017, 9999, -9999    | 4     |\n * |                                 |     | uuuuu   | ...                               | 2,4   |\n * | Quarter (formatting)            | 120 | Q       | 1, 2, 3, 4                        |       |\n * |                                 |     | Qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | QQ      | 01, 02, 03, 04                    |       |\n * |                                 |     | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | 120 | q       | 1, 2, 3, 4                        |       |\n * |                                 |     | qo      | 1st, 2nd, 3rd, 4th                | 5     |\n * |                                 |     | qq      | 01, 02, 03, 04                    |       |\n * |                                 |     | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 |     | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 |     | qqqqq   | 1, 2, 3, 4                        | 3     |\n * | Month (formatting)              | 110 | M       | 1, 2, ..., 12                     |       |\n * |                                 |     | Mo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | MM      | 01, 02, ..., 12                   |       |\n * |                                 |     | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | MMMM    | January, February, ..., December  | 2     |\n * |                                 |     | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | 110 | L       | 1, 2, ..., 12                     |       |\n * |                                 |     | Lo      | 1st, 2nd, ..., 12th               | 5     |\n * |                                 |     | LL      | 01, 02, ..., 12                   |       |\n * |                                 |     | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 |     | LLLL    | January, February, ..., December  | 2     |\n * |                                 |     | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | 100 | w       | 1, 2, ..., 53                     |       |\n * |                                 |     | wo      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | 100 | I       | 1, 2, ..., 53                     | 5     |\n * |                                 |     | Io      | 1st, 2nd, ..., 53th               | 5     |\n * |                                 |     | II      | 01, 02, ..., 53                   | 5     |\n * | Day of month                    |  90 | d       | 1, 2, ..., 31                     |       |\n * |                                 |     | do      | 1st, 2nd, ..., 31st               | 5     |\n * |                                 |     | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     |  90 | D       | 1, 2, ..., 365, 366               | 7     |\n * |                                 |     | Do      | 1st, 2nd, ..., 365th, 366th       | 5     |\n * |                                 |     | DD      | 01, 02, ..., 365, 366             | 7     |\n * |                                 |     | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 |     | DDDD    | ...                               | 2     |\n * | Day of week (formatting)        |  90 | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 |     | EEEEEE  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | ISO day of week (formatting)    |  90 | i       | 1, 2, 3, ..., 7                   | 5     |\n * |                                 |     | io      | 1st, 2nd, ..., 7th                | 5     |\n * |                                 |     | ii      | 01, 02, ..., 07                   | 5     |\n * |                                 |     | iii     | Mon, Tue, Wed, ..., Sun           | 5     |\n * |                                 |     | iiii    | Monday, Tuesday, ..., Sunday      | 2,5   |\n * |                                 |     | iiiii   | M, T, W, T, F, S, S               | 5     |\n * |                                 |     | iiiiii  | Mo, Tu, We, Th, Fr, Su, Sa        | 5     |\n * | Local day of week (formatting)  |  90 | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | eo      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | ee      | 02, 03, ..., 01                   |       |\n * |                                 |     | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 |     | eeeeee  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | Local day of week (stand-alone) |  90 | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 |     | co      | 2nd, 3rd, ..., 1st                | 5     |\n * |                                 |     | cc      | 02, 03, ..., 01                   |       |\n * |                                 |     | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 |     | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 |     | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 |     | cccccc  | Mo, Tu, We, Th, Fr, Su, Sa        |       |\n * | AM, PM                          |  80 | a..aaa  | AM, PM                            |       |\n * |                                 |     | aaaa    | a.m., p.m.                        | 2     |\n * |                                 |     | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          |  80 | b..bbb  | AM, PM, noon, midnight            |       |\n * |                                 |     | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 |     | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             |  80 | B..BBB  | at night, in the morning, ...     |       |\n * |                                 |     | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 |     | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     |  70 | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 |     | ho      | 1st, 2nd, ..., 11th, 12th         | 5     |\n * |                                 |     | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     |  70 | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 |     | Ho      | 0th, 1st, 2nd, ..., 23rd          | 5     |\n * |                                 |     | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     |  70 | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 |     | Ko      | 1st, 2nd, ..., 11th, 0th          | 5     |\n * |                                 |     | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     |  70 | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 |     | ko      | 24th, 1st, 2nd, ..., 23rd         | 5     |\n * |                                 |     | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          |  60 | m       | 0, 1, ..., 59                     |       |\n * |                                 |     | mo      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | mm      | 00, 01, ..., 59                   |       |\n * | Second                          |  50 | s       | 0, 1, ..., 59                     |       |\n * |                                 |     | so      | 0th, 1st, ..., 59th               | 5     |\n * |                                 |     | ss      | 00, 01, ..., 59                   |       |\n * | Seconds timestamp               |  40 | t       | 512969520                         |       |\n * |                                 |     | tt      | ...                               | 2     |\n * | Fraction of second              |  30 | S       | 0, 1, ..., 9                      |       |\n * |                                 |     | SS      | 00, 01, ..., 99                   |       |\n * |                                 |     | SSS     | 000, 0001, ..., 999               |       |\n * |                                 |     | SSSS    | ...                               | 2     |\n * | Milliseconds timestamp          |  20 | T       | 512969520900                      |       |\n * |                                 |     | TT      | ...                               | 2     |\n * | Timezone (ISO-8601 w/ Z)        |  10 | X       | -08, +0530, Z                     |       |\n * |                                 |     | XX      | -0800, +0530, Z                   |       |\n * |                                 |     | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 |     | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 |     | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       |  10 | x       | -08, +0530, +00                   |       |\n * |                                 |     | xx      | -0800, +0530, +0000               |       |\n * |                                 |     | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 |     | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 |     | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Long localized date             |  NA | P       | 05/29/1453                        | 5,8   |\n * |                                 |     | PP      | May 29, 1453                      |       |\n * |                                 |     | PPP     | May 29th, 1453                    |       |\n * |                                 |     | PPPP    | Sunday, May 29th, 1453            | 2,5,8 |\n * | Long localized time             |  NA | p       | 12:00 AM                          | 5,8   |\n * |                                 |     | pp      | 12:00:00 AM                       |       |\n * | Combination of date and time    |  NA | Pp      | 05/29/1453, 12:00 AM              |       |\n * |                                 |     | PPpp    | May 29, 1453, 12:00:00 AM         |       |\n * |                                 |     | PPPpp   | May 29th, 1453 at ...             |       |\n * |                                 |     | PPPPpp  | Sunday, May 29th, 1453 at ...     | 2,5,8 |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular.\n *    In `format` function, they will produce different result:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n *    `parse` will try to match both formatting and stand-alone units interchangably.\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table:\n *    - for numerical units (`yyyyyyyy`) `parse` will try to match a number\n *      as wide as the sequence\n *    - for text units (`MMMMMMMM`) `parse` will try to match the widest variation of the unit.\n *      These variations are marked with \"2\" in the last column of the table.\n *\n * 3. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 4. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` will try to guess the century of two digit year by proximity with `referenceDate`:\n *\n *    `parse('50', 'yy', new Date(2018, 0, 1)) //=> Sat Jan 01 2050 00:00:00`\n *\n *    `parse('75', 'yy', new Date(2018, 0, 1)) //=> Wed Jan 01 1975 00:00:00`\n *\n *    while `uu` will just assign the year as is:\n *\n *    `parse('50', 'uu', new Date(2018, 0, 1)) //=> Sat Jan 01 0050 00:00:00`\n *\n *    `parse('75', 'uu', new Date(2018, 0, 1)) //=> Tue Jan 01 0075 00:00:00`\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [setISOWeekYear]{@link https://date-fns.org/docs/setISOWeekYear}\n *    and [setWeekYear]{@link https://date-fns.org/docs/setWeekYear}).\n *\n * 5. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 6. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 7. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://git.io/fxCyr\n *\n * 8. `P+` tokens do not have a defined priority since they are merely aliases to other tokens based\n *    on the given locale.\n *\n *    using `en-US` locale: `P` => `MM/dd/yyyy`\n *    using `en-US` locale: `p` => `hh:mm a`\n *    using `pt-BR` locale: `P` => `dd/MM/yyyy`\n *    using `pt-BR` locale: `p` => `HH:mm`\n *\n * Values will be assigned to the date in the descending order of its unit's priority.\n * Units of an equal priority overwrite each other in the order of appearance.\n *\n * If no values of higher priority are parsed (e.g. when parsing string 'January 1st' without a year),\n * the values will be taken from 3rd argument `referenceDate` which works as a context of parsing.\n *\n * `referenceDate` must be passed for correct work of the function.\n * If you're not sure which `referenceDate` to supply, create a new instance of Date:\n * `parse('02/11/2014', 'MM/dd/yyyy', new Date())`\n * In this case parsing will be done in the context of the current date.\n * If `referenceDate` is `Invalid Date` or a value not convertible to valid `Date`,\n * then `Invalid Date` will be returned.\n *\n * The result may vary by locale.\n *\n * If `formatString` matches with `dateString` but does not provides tokens, `referenceDate` will be returned.\n *\n * If parsing failed, `Invalid Date` will be returned.\n * Invalid Date is a Date, whose time value is NaN.\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - Old `parse` was renamed to `toDate`.\n *   Now `parse` is a new function which parses a string using a provided format.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   parse('2016-01-01')\n *\n *   // v2.0.0 onward (toDate no longer accepts a string)\n *   toDate(1392098430000) // Unix to timestamp\n *   toDate(new Date(2014, 1, 11, 11, 30, 30)) // Cloning the date\n *   parse('2016-01-01', 'yyyy-MM-dd', new Date())\n *   ```\n *\n * @param {String} dateString - the string to parse\n * @param {String} formatString - the string of tokens\n * @param {Date|Number} referenceDate - defines values missing from the parsed dateString\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://git.io/fxCyr\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://git.io/fxCyr\n * @returns {Date} the parsed date\n * @throws {TypeError} 3 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} `options.locale` must contain `match` property\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://git.io/fxCyr\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Parse 11 February 2014 from middle-endian format:\n * var result = parse('02/11/2014', 'MM/dd/yyyy', new Date())\n * //=> Tue Feb 11 2014 00:00:00\n *\n * @example\n * // Parse 28th of February in Esperanto locale in the context of 2010 year:\n * import eo from 'date-fns/locale/eo'\n * var result = parse('28-a de februaro', \"do 'de' MMMM\", new Date(2010, 0, 1), {\n *   locale: eo\n * })\n * //=> Sun Feb 28 2010 00:00:00\n */\n\nexport default function parse(dirtyDateString, dirtyFormatString, dirtyReferenceDate, dirtyOptions) {\n  requiredArgs(3, arguments);\n  var dateString = String(dirtyDateString);\n  var formatString = String(dirtyFormatString);\n  var options = dirtyOptions || {};\n  var locale = options.locale || defaultLocale;\n\n  if (!locale.match) {\n    throw new RangeError('locale must contain match property');\n  }\n\n  var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  if (formatString === '') {\n    if (dateString === '') {\n      return toDate(dirtyReferenceDate);\n    } else {\n      return new Date(NaN);\n    }\n  }\n\n  var subFnOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale // If timezone isn't specified, it will be set to the system timezone\n\n  };\n  var setters = [{\n    priority: TIMEZONE_UNIT_PRIORITY,\n    subPriority: -1,\n    set: dateToSystemTimezone,\n    index: 0\n  }];\n  var i;\n  var tokens = formatString.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong, subFnOptions);\n    }\n\n    return substring;\n  }).join('').match(formattingTokensRegExp);\n  var usedTokens = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (!options.useAdditionalWeekYearTokens && isProtectedWeekYearToken(token)) {\n      throwProtectedError(token, formatString, dirtyDateString);\n    }\n\n    if (!options.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(token)) {\n      throwProtectedError(token, formatString, dirtyDateString);\n    }\n\n    var firstCharacter = token[0];\n    var parser = parsers[firstCharacter];\n\n    if (parser) {\n      var incompatibleTokens = parser.incompatibleTokens;\n\n      if (Array.isArray(incompatibleTokens)) {\n        var incompatibleToken = void 0;\n\n        for (var _i = 0; _i < usedTokens.length; _i++) {\n          var usedToken = usedTokens[_i].token;\n\n          if (incompatibleTokens.indexOf(usedToken) !== -1 || usedToken === firstCharacter) {\n            incompatibleToken = usedTokens[_i];\n            break;\n          }\n        }\n\n        if (incompatibleToken) {\n          throw new RangeError(\"The format string mustn't contain `\".concat(incompatibleToken.fullToken, \"` and `\").concat(token, \"` at the same time\"));\n        }\n      } else if (parser.incompatibleTokens === '*' && usedTokens.length) {\n        throw new RangeError(\"The format string mustn't contain `\".concat(token, \"` and any other token at the same time\"));\n      }\n\n      usedTokens.push({\n        token: firstCharacter,\n        fullToken: token\n      });\n      var parseResult = parser.parse(dateString, token, locale.match, subFnOptions);\n\n      if (!parseResult) {\n        return new Date(NaN);\n      }\n\n      setters.push({\n        priority: parser.priority,\n        subPriority: parser.subPriority || 0,\n        set: parser.set,\n        validate: parser.validate,\n        value: parseResult.value,\n        index: setters.length\n      });\n      dateString = parseResult.rest;\n    } else {\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n      } // Replace two single quote characters with one single quote character\n\n\n      if (token === \"''\") {\n        token = \"'\";\n      } else if (firstCharacter === \"'\") {\n        token = cleanEscapedString(token);\n      } // Cut token from string, or, if string doesn't match the token, return Invalid Date\n\n\n      if (dateString.indexOf(token) === 0) {\n        dateString = dateString.slice(token.length);\n      } else {\n        return new Date(NaN);\n      }\n    }\n  } // Check if the remaining input contains something other than whitespace\n\n\n  if (dateString.length > 0 && notWhitespaceRegExp.test(dateString)) {\n    return new Date(NaN);\n  }\n\n  var uniquePrioritySetters = setters.map(function (setter) {\n    return setter.priority;\n  }).sort(function (a, b) {\n    return b - a;\n  }).filter(function (priority, index, array) {\n    return array.indexOf(priority) === index;\n  }).map(function (priority) {\n    return setters.filter(function (setter) {\n      return setter.priority === priority;\n    }).sort(function (a, b) {\n      return b.subPriority - a.subPriority;\n    });\n  }).map(function (setterArray) {\n    return setterArray[0];\n  });\n  var date = toDate(dirtyReferenceDate);\n\n  if (isNaN(date)) {\n    return new Date(NaN);\n  } // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/37\n\n\n  var utcDate = subMilliseconds(date, getTimezoneOffsetInMilliseconds(date));\n  var flags = {};\n\n  for (i = 0; i < uniquePrioritySetters.length; i++) {\n    var setter = uniquePrioritySetters[i];\n\n    if (setter.validate && !setter.validate(utcDate, setter.value, subFnOptions)) {\n      return new Date(NaN);\n    }\n\n    var result = setter.set(utcDate, flags, setter.value, subFnOptions); // Result is tuple (date, flags)\n\n    if (result[0]) {\n      utcDate = result[0];\n      assign(flags, result[1]); // Result is date\n    } else {\n      utcDate = result;\n    }\n  }\n\n  return utcDate;\n}\n\nfunction dateToSystemTimezone(date, flags) {\n  if (flags.timestampIsSet) {\n    return date;\n  }\n\n  var convertedDate = new Date(0);\n  convertedDate.setFullYear(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n  convertedDate.setHours(date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\n  return convertedDate;\n}\n\nfunction cleanEscapedString(input) {\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\n\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as LocalFinder from \"../js/local-finder\";\r\nimport * as Logger from \"../js/logger\";\r\nimport * as Utility from \"../js/utility\";\r\nimport * as AuditInformation from \"./audit-gmb/audit-extension-code\";\r\nimport { findBusinessRankForTeleport } from \"./audit-gmb/find-business-rank\";\r\nimport { appendLocalScanButton } from \"./audit-gmb/local-scan-logic\";\r\nimport * as RetrievePost from \"./audit-gmb/scrape-posts\";\r\nimport * as RetrieveReviews from \"./audit-gmb/scrape-reviews\";\r\nimport * as FlagAndConstants from \"./feature-flag-and-constants\";\r\nimport { attachLocalScanToGoogleSearchResult } from \"./google-search\";\r\n\r\n(function () {\r\n  let propertyName = \"\";\r\n\r\n  const HowCorrectCategoryFoundEnum = Utility.returnEnumOfCodeMode();\r\n\r\n  let propertyHowAccessedCategories = HowCorrectCategoryFoundEnum.NotFound;\r\n  let searchResultItemsArray = [];\r\n  let existingBusinessListOnPage = [];\r\n  let singlePageDetailsArray = [];\r\n  const MsgNoCategory = \"GMB categories not found.\";\r\n  const MsgExternalCallNoCategory =\r\n    \"GMB categories not found. Use the 'Share' link below to go to the business page to view the categories.\";\r\n  const loadingTxt = \"[loading]\";\r\n  const msgSearchPageCategoriesNotFound = \"GMB category not found\";\r\n  const searchPageCategoryElementClass = \"category-list-display\";\r\n  let isContinueExecuting = true;\r\n\r\n  try {\r\n    const isSamePropertyName = () => propertyName === getCurrentPropertyName();\r\n\r\n    const getCurrentReviewRatingAndNumberOfReviews = () => {\r\n      let reviewSection;\r\n      if (document.querySelectorAll('[jsaction=\"pane.rating.moreReviews\"]').length > 1) {\r\n        reviewSection = document.querySelectorAll('[jsaction=\"pane.rating.moreReviews\"]')[0].innerText;\r\n      } \r\n      else if (document.querySelector('[jsaction$=\".category\"]')) {\r\n        // this is for businesses in map search result and single business page using \"share\" link\r\n        // this targest category of the business and goes up the DOM tree to the section rating element\r\n        reviewSection = document.querySelector('[jsaction$=\".category\"]').parentNode.parentNode.parentNode.parentNode.innerText;\r\n      }\r\n      else {\r\n        reviewSection = document.querySelectorAll('[jsaction=\"pane.rating.category\"]')[0].parentNode.parentNode.parentNode.parentNode.firstChild.children[1].innerText;\r\n      }\r\n\r\n      if (!reviewSection) {\r\n        return {\r\n          \"average-review-rating\": 0,\r\n          \"number-of-reviews\": 0,\r\n        };\r\n      }\r\n      const numberOfReviews = reviewSection.split(\"\\n\")[1].split(\" \")[0].replace(/\\D/g, \"\");\r\n      return {\r\n        \"average-review-rating\": reviewSection.split(\"\\n\")[0].replace(\",\", \".\"),\r\n        \"number-of-reviews\": parseInt(numberOfReviews)\r\n      };\r\n    };\r\n\r\n    const getCurrentPropertyName = () => {\r\n      // var elem = document.querySelector(\".fontHeadlineLarge\");\r\n      var elem = document.querySelector('h1.DUwDvf.lfPIob');\r\n      if (elem) {\r\n        return elem.innerText.trim();\r\n      }\r\n\r\n      try {\r\n        elem = document.querySelector('.google-symbols')\r\n        .parentNode.parentNode.parentNode.parentNode.parentNode\r\n        .querySelector(\"div\")\r\n        .nextSibling\r\n        .querySelector(\":scope div > div > div\")\r\n        .querySelector(\":scope > h1\")\r\n\r\n        if (elem) {\r\n          return elem.innerText.trim();\r\n        }\r\n      } catch {}\r\n    };\r\n\r\n    function GetValuesFromPageScript(windowArray) {\r\n      let categories = [];\r\n      let businessName = \"\";\r\n      let phoneNumber = \"\";\r\n      let averageReviewRating, averageNumberOfReviews;\r\n      /*\r\n      wrapped with try catch as there's a possibility that the category list is on different index.\r\n      so far, only 2 locations ecountered.\r\n    */\r\n      try {\r\n        categories = windowArray[0][1][0][14][13];\r\n        businessName = windowArray[0][1][0][14][11];\r\n        if (windowArray[0][1][0][14][178] != null) {\r\n          phoneNumber = windowArray[0][1][0][14][178][0][3];\r\n        } else {\r\n          phoneNumber = \"\";\r\n        }\r\n        if (windowArray[0][1][0][14][4] != null) {\r\n          averageReviewRating = windowArray[0][1][0][14][4][7];\r\n          averageNumberOfReviews = windowArray[0][1][0][14][4][8];\r\n        } else {\r\n          averageReviewRating = 0;\r\n          averageNumberOfReviews = 0;\r\n        }\r\n      } catch {}\r\n\r\n      try {\r\n        categories = windowArray[0][1][1][14][13];\r\n        businessName = windowArray[0][1][1][14][11];\r\n        if (windowArray[0][1][1][14][178] != null) {\r\n          phoneNumber = windowArray[0][1][1][14][178][0][3];\r\n        } else {\r\n          phoneNumber = \"\";\r\n        }\r\n        if (windowArray[0][1][1][14][4] != null) {\r\n          averageReviewRating = windowArray[0][1][1][14][4][7];\r\n          averageNumberOfReviews = windowArray[0][1][1][14][4][8];\r\n        } else {\r\n          averageReviewRating = 0;\r\n          averageNumberOfReviews = 0;\r\n        }\r\n      } catch {}\r\n      return {\r\n        categories,\r\n        phoneNumber,\r\n        businessName,\r\n        averageNumberOfReviews,\r\n        averageReviewRating,\r\n      };\r\n    }\r\n\r\n    const getSectionRatingElement = () => {\r\n      if (document.querySelectorAll('[jsaction=\"pane.rating.moreReviews\"]').length > 1) {\r\n        return document.querySelectorAll('[jsaction=\"pane.rating.moreReviews\"]')[0].parentNode.parentNode.parentNode;\r\n      } else if (document.querySelector('a[href=\"#\"][target][jsaction]>div>div') !== null) {\r\n        // this is for hotel businesses in map search results and single business page using \"share\" link\r\n        // this targets the \"Check Availability\" button and goes up the DOM tree to the section rating element\r\n        return document.querySelector('a[href=\"#\"][target][jsaction]>div>div').parentNode.parentNode.parentNode.parentNode.parentNode.firstChild.nextSibling.firstChild.firstChild.firstChild.nextSibling.firstChild;\r\n      } else if (document.querySelector('[jsaction$=\".category\"]')) {\r\n        // this is for businesses in map search result and single business page using \"share\" link\r\n        // this targest category of the business and goes up the DOM tree to the section rating element\r\n        return document.querySelector('[jsaction$=\".category\"]').parentNode.parentNode.parentNode.parentNode.parentNode;\r\n      }\r\n      else {\r\n        return document.querySelectorAll('[jsaction=\"pane.rating.category\"]')[0].parentNode.parentNode.parentNode.parentNode.parentNode;\r\n      }\r\n    }\r\n\r\n    const getGmbCategoryContainer = () =>\r\n      getSectionRatingElement().querySelector(\r\n          \".\" + Utility.gmbCategoryClass\r\n        );\r\n\r\n    const getBusinessLocation = () => {\r\n      try {\r\n        var elem = document.querySelector('[data-item-id=\"address\"]').innerText;\r\n        if (elem) {\r\n          return elem.trim();\r\n        }\r\n      } catch {\r\n        return \"\";\r\n      }\r\n    };\r\n\r\n    const removeGMBElement = () => {\r\n      try {\r\n        const gmbCategoryContainer = getGmbCategoryContainer();\r\n\r\n        if (gmbCategoryContainer) {\r\n          gmbCategoryContainer.remove();\r\n        }\r\n      } catch (e) {}\r\n    };\r\n\r\n    const modifyPage = () => {\r\n      let placeHolder;\r\n\r\n      try {\r\n        placeHolder = getSectionRatingElement();\r\n      } catch (e) {}\r\n      if (placeHolder) {\r\n        fetchCategories();\r\n      }\r\n    };\r\n\r\n    let auditButtonOnClickLogic = (buttonObject, auditType) => {\r\n      buttonObject.onclick = function () {\r\n        try {\r\n          buttonObject.disabled = true;\r\n          setTimeout(function () {\r\n            buttonObject.disabled = false;\r\n          }, 3000);\r\n\r\n          if (\r\n            propertyHowAccessedCategories ===\r\n            HowCorrectCategoryFoundEnum.GMBScriptOnPage\r\n          ) {\r\n            AuditInformation.AuditInformationLogic(\r\n              window.location.href,\r\n              propertyHowAccessedCategories,\r\n              HowCorrectCategoryFoundEnum,\r\n              auditType\r\n            );\r\n          } else if (\r\n            propertyHowAccessedCategories ===\r\n            HowCorrectCategoryFoundEnum.GMBScriptWithDirectLocation\r\n          ) {\r\n            AuditInformation.AuditInformationLogic(\r\n              generateSearchUrlByLocation(),\r\n              propertyHowAccessedCategories,\r\n              HowCorrectCategoryFoundEnum,\r\n              auditType\r\n            );\r\n          } else if (\r\n            propertyHowAccessedCategories ===\r\n            HowCorrectCategoryFoundEnum.GMBScriptWithNearLocation\r\n          ) {\r\n            AuditInformation.AuditInformationLogic(\r\n              generateSearchUrlByNearLocation(),\r\n              propertyHowAccessedCategories,\r\n              HowCorrectCategoryFoundEnum,\r\n              auditType\r\n            );\r\n          } else {\r\n            throw new Error(\"value not found\");\r\n          }\r\n        } catch (e) {\r\n          document.getElementById(\"errorMessageButtonClick\").innerText =\r\n            \"An error occured. Sorry for the inconvenience.\";\r\n\r\n          Utility.forwardToErrorPage({\r\n            auditType: auditType,\r\n            error: e\r\n          });\r\n          return;\r\n        }\r\n      };\r\n    };\r\n\r\n    const showButtonAndAddToEnd = (parent) => {\r\n      let buttonBasicAudit, buttonReviewAudit;\r\n      const container = document.createElement(\"div\");\r\n      container.id = \"popupButtonAdditionalInformationDiv\";\r\n      container.style.cssText = `text-align: left;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      margin-top: 10px;`;\r\n\r\n      if (FlagAndConstants.flag.mapPageBasicAudit) {\r\n        let buttonBasicAudit = Utility.createAuditDisplayButton(\r\n          `${Utility.createEmojiIcon({\r\n            iconName: \"rocket_icon.svg\",\r\n            iconSize: \"14px\",\r\n          })} Basic Audit`,\r\n          \"popupButtonAdditionalInformation\",\r\n          {\r\n            style: `flex-basis: 48%;\r\n          margin-bottom: 0 !important;\r\n          margin-top: 10px !important;`,\r\n          }\r\n        );\r\n        auditButtonOnClickLogic(buttonBasicAudit, \"basic-audit\");\r\n        container.appendChild(buttonBasicAudit);\r\n      }\r\n\r\n      if (FlagAndConstants.flag.mapPageAIAudit) {\r\n        let buttonAIAudit = Utility.createAuditDisplayButton(\r\n          `${Utility.createEmojiIcon({\r\n            iconName: \"brain_icon.svg\",\r\n            iconSize: \"15px\",\r\n          })} \r\n          AI`,\r\n          \"popupAIAudit\",\r\n          {\r\n            style: `flex-basis: 48%;\r\n            margin-bottom: 0;\r\n            margin-top: 10px;`,\r\n          }\r\n        );\r\n        buttonAIAudit.style.width = \"100px\";\r\n        auditButtonOnClickLogic(buttonAIAudit, \"ai-audit\");\r\n        container.appendChild(buttonAIAudit);\r\n      }\r\n\r\n      if (FlagAndConstants.flag.mapPageTeleport) {\r\n        let buttonTeleport = Utility.createAuditDisplayButton(\r\n          `${Utility.createEmojiIcon({\r\n            iconName: \"pin_icon.svg\",\r\n            iconSize: \"14px\",\r\n          })} Teleport`,\r\n          \"popupTeleport\",\r\n          {\r\n            style: `flex-basis: 48%;\r\n          margin-bottom: 0;\r\n          margin-top: 10px;`,\r\n          }\r\n        );\r\n        auditButtonOnClickLogic(buttonTeleport, \"teleport\");\r\n        container.appendChild(buttonTeleport);\r\n      }\r\n\r\n      if (FlagAndConstants.flag.mapPageReviewAudit) {\r\n        let buttonReviewAudit = Utility.createAuditDisplayButton(\r\n          `${Utility.createEmojiIcon({\r\n            iconName: \"half_star_icon.svg\",\r\n            iconSize: \"14px\",\r\n          })} Review Audit`,\r\n          \"popupReviewAudit\",\r\n          {\r\n            style: `flex-basis: 48%;\r\n          margin-bottom: 0;\r\n          margin-top: 10px;`,\r\n          }\r\n        );\r\n        buttonReviewAudit.style.width = \"120px\";\r\n        auditButtonOnClickLogic(buttonReviewAudit, \"review-audit\");\r\n        container.appendChild(buttonReviewAudit);\r\n      }\r\n\r\n      if (FlagAndConstants.flag.mapPagePostAudit) {\r\n        let buttonPostAudit = Utility.createAuditDisplayButton(\r\n          `${Utility.createEmojiIcon({\r\n            iconName: \"megaphone_icon.svg\",\r\n            iconSize: \"14px\",\r\n          })} Post Audit`,\r\n          \"popupPostAudit\",\r\n          {\r\n            style: `flex-basis: 48%;\r\n          margin-bottom: 0;\r\n          margin-top: 10px;`,\r\n          }\r\n        );\r\n        buttonPostAudit.style.width = \"100px\";\r\n        auditButtonOnClickLogic(buttonPostAudit, \"post-audit\");\r\n        container.appendChild(buttonPostAudit);\r\n      }\r\n\r\n      const errorMessageDiv = document.createElement(\"div\");\r\n      errorMessageDiv.id = \"errorMessageButtonClick\";\r\n\r\n      container.appendChild(errorMessageDiv);\r\n\r\n      parent.appendChild(container);\r\n    };\r\n\r\n    const getCurrentDomainHostName = () => window.location.hostname;\r\n\r\n    const generateSearchUrlByLocation = () => {\r\n      const domainHostName = getCurrentDomainHostName();\r\n      const encodedParam = encodeURI(\r\n        `${propertyName} ${getBusinessLocation()}`\r\n      );\r\n      const url = `https://${domainHostName}/maps/search/${encodedParam}`;\r\n      return url;\r\n    };\r\n\r\n    const generateSearchUrlByNearLocation = () => {\r\n      const domainHostName = getCurrentDomainHostName();\r\n      const encodedParam = encodeURI(\r\n        `${propertyName}&near=${getBusinessLocation()}`\r\n      );\r\n      const url = `https://${domainHostName}/maps?q=${encodedParam}`;\r\n\r\n      return url;\r\n    };\r\n\r\n    const fetchCategoriesWithDelay = (fetch, maxLimitInSec) => {\r\n      var delayInMs = Math.floor(Math.random() * maxLimitInSec * 1000);\r\n      setTimeout(() => {\r\n        fetch();\r\n      }, delayInMs);\r\n    };\r\n\r\n    const callGoogleMap = (url, callback) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.onreadystatechange = () => {\r\n        if (xhr.readyState === XMLHttpRequest.DONE) {\r\n          const status = xhr.status;\r\n          if (status === 0 || (status >= 200 && status < 400)) {\r\n            try {\r\n              const searchString = \"window.APP_INITIALIZATION_STATE=\";\r\n              const codeStart = xhr.response.indexOf(searchString);\r\n              const codeEnd = xhr.response.indexOf(\r\n                \"window.APP_FLAGS\",\r\n                codeStart\r\n              );\r\n              const code = xhr.response.substring(\r\n                codeStart + searchString.length,\r\n                codeEnd\r\n              );\r\n\r\n              //slice the string to remove simicolon before parsing\r\n              const WindowInitializationState = JSON.parse(code.slice(0, -1));\r\n              callback(WindowInitializationState);\r\n            } catch {\r\n              callback(\"\");\r\n            }\r\n          } else {\r\n            return \"\";\r\n          }\r\n        }\r\n      };\r\n\r\n      //Request data from server(google map) to parse APP_INITIALIZATION_STATE value\r\n      xhr.open(\"GET\", url);\r\n      xhr.send();\r\n    };\r\n\r\n    const fetchCategories = () => {\r\n      try {\r\n        const processedTxt = Utility.pickupScriptStringFromPage();\r\n        if (processedTxt && processedTxt.length > 5) {\r\n          const windowArray = JSON.parse(processedTxt.substring(5));\r\n          const categories = windowArray[6][13];\r\n\r\n          const businessNameFromCodeEmbedded = windowArray[6][11];\r\n\r\n          if (\r\n            categories &&\r\n            categories.length &&\r\n            getCurrentPropertyName().trim() ===\r\n              businessNameFromCodeEmbedded.trim()\r\n          ) {\r\n            propertyHowAccessedCategories =\r\n              HowCorrectCategoryFoundEnum.GMBScriptOnPage;\r\n\r\n            setGmbCategory(categories);\r\n          } else {\r\n            fetchCategoriesWithDelay(\r\n              fetchExternalSourceCategoriesByLocation,\r\n              1\r\n            );\r\n          }\r\n        } else {\r\n          fetchCategoriesWithDelay(fetchExternalSourceCategoriesByLocation, 1);\r\n        }\r\n      } catch {\r\n        fetchCategoriesWithDelay(fetchExternalSourceCategoriesByLocation, 1);\r\n      }\r\n    };\r\n\r\n    const fetchExternalSourceCategoriesByLocation = () => {\r\n      callGoogleMap(generateSearchUrlByLocation(), (data) => {\r\n        try {\r\n          const processedTxt = data && data[3] ? data[3][2] : \"\";\r\n\r\n          if (processedTxt && processedTxt.length > 5) {\r\n            const windowArray = JSON.parse(processedTxt.substring(5));\r\n\r\n            let {\r\n              categories,\r\n              phoneNumber,\r\n              businessName,\r\n              averageNumberOfReviews,\r\n              averageReviewRating,\r\n            } = GetValuesFromPageScript(windowArray);\r\n\r\n            if (\r\n              categories &&\r\n              categories.length &&\r\n              getCurrentPropertyName().trim() === businessName.trim() &&\r\n              averageNumberOfReviews ===\r\n                getCurrentReviewRatingAndNumberOfReviews()[\r\n                  \"number-of-reviews\"\r\n                ] &&\r\n              parseInt(averageReviewRating * 100) ===\r\n                parseInt(\r\n                  getCurrentReviewRatingAndNumberOfReviews()[\r\n                    \"average-review-rating\"\r\n                  ] * 100\r\n                )\r\n            ) {\r\n              propertyHowAccessedCategories =\r\n                HowCorrectCategoryFoundEnum.GMBScriptWithDirectLocation;\r\n              setGmbCategory(categories);\r\n            } else {\r\n              fetchCategoriesWithDelay(\r\n                fetchExternalSourceCategoriesByNearLocation,\r\n                1\r\n              );\r\n            }\r\n          } else {\r\n            fetchCategoriesWithDelay(\r\n              fetchExternalSourceCategoriesByNearLocation,\r\n              1\r\n            );\r\n          }\r\n        } catch {\r\n          fetchCategoriesWithDelay(\r\n            fetchExternalSourceCategoriesByNearLocation,\r\n            1\r\n          );\r\n        }\r\n      });\r\n    };\r\n\r\n    const fetchExternalSourceCategoriesByNearLocation = () => {\r\n      callGoogleMap(generateSearchUrlByNearLocation(), (data) => {\r\n        try {\r\n          const processedTxt = data && data[3] ? data[3][2] : \"\";\r\n\r\n          if (processedTxt && processedTxt.length > 5) {\r\n            const windowArray = JSON.parse(processedTxt.substring(5));\r\n\r\n            let {\r\n              categories,\r\n              phoneNumber,\r\n              businessName,\r\n              averageNumberOfReviews,\r\n              averageReviewRating,\r\n            } = GetValuesFromPageScript(windowArray);\r\n\r\n            if (\r\n              categories &&\r\n              categories.length &&\r\n              getCurrentPropertyName().trim() === businessName.trim() &&\r\n              averageNumberOfReviews ===\r\n                getCurrentReviewRatingAndNumberOfReviews()[\r\n                  \"number-of-reviews\"\r\n                ] &&\r\n              parseInt(averageReviewRating * 100) ===\r\n                parseInt(\r\n                  getCurrentReviewRatingAndNumberOfReviews()[\r\n                    \"average-review-rating\"\r\n                  ] * 100\r\n                )\r\n            ) {\r\n              propertyHowAccessedCategories =\r\n                HowCorrectCategoryFoundEnum.GMBScriptWithNearLocation;\r\n\r\n              setGmbCategory(categories);\r\n            } else {\r\n              setGmbCategoryValue(MsgExternalCallNoCategory);\r\n            }\r\n          } else {\r\n            setGmbCategoryValue(MsgExternalCallNoCategory);\r\n          }\r\n        } catch {\r\n          setGmbCategoryValue(MsgExternalCallNoCategory);\r\n        }\r\n      });\r\n    };\r\n\r\n    const setGmbCategoryValue = (content) => {\r\n      try {\r\n        removeGMBElement();\r\n\r\n        if (content === loadingTxt) {\r\n          showLoading(getSectionRatingElement());\r\n        } else {\r\n          showText(getSectionRatingElement(), content);\r\n        }\r\n      } catch (e) {\r\n        removeGMBElement();\r\n        Logger.error(e);\r\n      }\r\n    };\r\n\r\n    const showLoading = (parent) => {\r\n      const img = document.createElement(\"img\");\r\n      img.setAttribute(\"class\", Utility.gmbCategoryClass);\r\n      img.src = chrome.runtime.getURL(\"imgs/loading.gif\");\r\n      img.style.cssText =\r\n        \"height: 35px; margin-left: 0; margin-top: -8px; display: block; margin-top: 7px;\";\r\n      parent.appendChild(img);\r\n    };\r\n\r\n    const showText = (parent, content) => {\r\n      const node = document.createElement(\"p\");\r\n      node.setAttribute(\"class\", Utility.gmbCategoryClass);\r\n      node.style.cssText =\r\n        \"display: inline-block; font-size: 14px; border-radius: .25rem; color: #212529;\";\r\n      node.appendChild(document.createTextNode(content));\r\n      parent.appendChild(node);\r\n    };\r\n\r\n    const setGmbCategory = (catArr) => {\r\n      try {\r\n        removeGMBElement();\r\n\r\n        const container = document.createElement(\"div\");\r\n        container.className = Utility.gmbCategoryClass;\r\n        container.style.cssText = \"position: relative; margin-top: 7px;\";\r\n        Utility.addTooltip(container);\r\n\r\n        const title = document.createElement(\"span\");\r\n        title.textContent = \"GMB Categories: \";\r\n        title.style.cssText =\r\n          \"display: inline-block; font-size: 14px; border-radius: .25rem; color: #212529;\";\r\n        container.appendChild(title);\r\n\r\n        catArr.forEach((v, i) => {\r\n          let category = document.createElement(\"span\");\r\n          category.innerHTML =\r\n            (i === 0\r\n              ? Utility.createEmojiIcon({\r\n                  iconName: \"star_icon.svg\",\r\n                  iconSize: \"12px\",\r\n                })\r\n              : \"\") + v;\r\n          category.style.cssText =\r\n            \"display: inline-block;\" +\r\n            \"padding: .25em .4em;\" +\r\n            \"font-size: 14px;\" +\r\n            \"line-height: 1;\" +\r\n            \"text-align: center;\" +\r\n            \"white-space: nowrap;\" +\r\n            \"vertical-align: baseline;\" +\r\n            \"border-radius: .25rem;\" +\r\n            \"color: #212529;\" +\r\n            \"background-color: #ffc8b9;\" +\r\n            \"margin: 0 0 3px 3px;\";\r\n          container.appendChild(category);\r\n        });\r\n\r\n        Utility.appendCategoryTool(container, catArr);\r\n\r\n        showButtonAndAddToEnd(container);\r\n        getSectionRatingElement().appendChild(container);\r\n      } catch (e) {\r\n        removeGMBElement();\r\n        Logger.error(e);\r\n      }\r\n    };\r\n\r\n    //-------- Search result. Multiple Businesses ---------------\r\n\r\n    const removeGMBElementFromSearchPage = (elementDetails) => {\r\n      const gmbCategoryContainer = elementDetails.querySelector(\r\n        \".\" + searchPageCategoryElementClass\r\n      );\r\n\r\n      if (gmbCategoryContainer) {\r\n        gmbCategoryContainer.remove();\r\n      }\r\n    };\r\n\r\n    const displayNotFoundMessageOnSearchResultPage = (\r\n      businessName,\r\n      listOfElementWithBusinessDetails\r\n    ) => {\r\n      for (let i = 0; i < listOfElementWithBusinessDetails.length; i++) {\r\n        if (\r\n          listOfElementWithBusinessDetails[i].innerText.trim() === businessName\r\n        ) {\r\n          removeGMBElementFromSearchPage(\r\n            listOfElementWithBusinessDetails[i].parentNode.parentNode\r\n          );\r\n\r\n          const container = document.createElement(\"div\");\r\n          container.className = searchPageCategoryElementClass;\r\n          container.style.cssText = \"margin-top: 7px;\";\r\n\r\n          const title = document.createElement(\"span\");\r\n          title.textContent = msgSearchPageCategoriesNotFound;\r\n          title.style.cssText =\r\n            \"display: inline-block; font-size: 12px; border-radius: .15rem; color: #212529;\";\r\n          container.appendChild(title);\r\n          listOfElementWithBusinessDetails[i].parentNode.parentNode.append(\r\n            container\r\n          );\r\n        }\r\n      }\r\n    };\r\n\r\n    const searchPageAuditButtonDesigns = () => {\r\n      const spanSectionForButton = document.createElement(\"div\");\r\n      spanSectionForButton.style.cssText = \"text-align: left;\";\r\n      const buttonDesign = (buttonText, onClickFunction) => {\r\n        let buttonDesign = document.createElement(\"button\");\r\n        buttonDesign.style.cssText =\r\n          \"margin-top: 3px; margin-bottom: 3px; width: 70px; margin-right: 2px; line-height: 1.5; border: 2px solid rgb(204, 77, 41); background-color: rgb(255, 200, 185); color: rgb(33, 37, 41); font-size: 12px; padding: 3px 2px; display: inline-block; border-radius: 3px; cursor: pointer;\";\r\n        buttonDesign.innerHTML = buttonText;\r\n        buttonDesign.onclick = onClickFunction;\r\n        return buttonDesign;\r\n      };\r\n\r\n      const returnURLValueAssigned = (element) =>\r\n        element.parentElement.parentElement.parentElement.parentElement\r\n          .firstChild.href;\r\n\r\n      if (FlagAndConstants.flag.mapSearchPageBasicAudit) {\r\n        spanSectionForButton.appendChild(\r\n          buttonDesign(\r\n            `${Utility.createEmojiIcon({\r\n              iconName: \"rocket_icon.svg\",\r\n              iconSize: \"12px\",\r\n            })} Basic`,\r\n            function () {\r\n              AuditInformation.AuditInformationLogic(\r\n                returnURLValueAssigned(this),\r\n                HowCorrectCategoryFoundEnum.ExactLink,\r\n                HowCorrectCategoryFoundEnum,\r\n                \"basic-audit\"\r\n              );\r\n            }\r\n          )\r\n        );\r\n      }\r\n\r\n      if (FlagAndConstants.flag.mapSearchPageAIAudit) {\r\n        spanSectionForButton.appendChild(\r\n          buttonDesign(\r\n            `${Utility.createEmojiIcon({\r\n              iconName: \"brain_icon.svg\",\r\n              iconSize: \"13px\",\r\n            })} \r\n            AI`,\r\n            function () {\r\n              AuditInformation.AuditInformationLogic(\r\n                returnURLValueAssigned(this),\r\n                HowCorrectCategoryFoundEnum.ExactLink,\r\n                HowCorrectCategoryFoundEnum,\r\n                \"ai-audit\"\r\n              );\r\n            }\r\n          )\r\n        );\r\n      }\r\n\r\n      if (FlagAndConstants.flag.mapPageTeleport) {\r\n        spanSectionForButton.appendChild(\r\n          buttonDesign(\r\n            `${Utility.createEmojiIcon({\r\n              iconName: \"pin_icon.svg\",\r\n              iconSize: \"12px\",\r\n            })} Teleport`,\r\n            function () {\r\n              AuditInformation.AuditInformationLogic(\r\n                returnURLValueAssigned(this),\r\n                HowCorrectCategoryFoundEnum.ExactLink,\r\n                HowCorrectCategoryFoundEnum,\r\n                \"teleport\"\r\n              );\r\n            }\r\n          )\r\n        );\r\n      }\r\n\r\n      if (FlagAndConstants.flag.mapSearchPageReviewAudit) {\r\n        spanSectionForButton.appendChild(\r\n          buttonDesign(\r\n            `${Utility.createEmojiIcon({\r\n              iconName: \"half_star_icon.svg\",\r\n              iconSize: \"12px\",\r\n            })} Review`,\r\n            function () {\r\n              AuditInformation.AuditInformationLogic(\r\n                returnURLValueAssigned(this),\r\n                HowCorrectCategoryFoundEnum.ExactLink,\r\n                HowCorrectCategoryFoundEnum,\r\n                \"review-audit\"\r\n              );\r\n            }\r\n          )\r\n        );\r\n      }\r\n\r\n      if (FlagAndConstants.flag.mapPagePostAudit) {\r\n        spanSectionForButton.appendChild(\r\n          buttonDesign(\r\n            `${Utility.createEmojiIcon({\r\n              iconName: \"megaphone_icon.svg\",\r\n              iconSize: \"12px\",\r\n            })} Post`,\r\n            function () {\r\n              AuditInformation.AuditInformationLogic(\r\n                returnURLValueAssigned(this),\r\n                HowCorrectCategoryFoundEnum.ExactLink,\r\n                HowCorrectCategoryFoundEnum,\r\n                \"post-audit\"\r\n              );\r\n            }\r\n          )\r\n        );\r\n      }\r\n\r\n      return spanSectionForButton;\r\n    };\r\n\r\n    // <div id=\"popupButtonAdditionalInformationDiv\" style=\"text-align: left;\"><button id=\"popupButtonAdditionalInformation\" style=\"margin-top: 20px; margin-bottom: 20px; width: 150px; margin-right: 7px; line-height: 1.5; border: 2px solid rgb(204, 77, 41); background-color: rgb(255, 200, 185); color: rgb(33, 37, 41); font-size: 14px; padding: 7px 20px; display: inline-block; border-radius: 3px; cursor: pointer;\">👍 Basic Audit</button><button id=\"popupReviewAudit\" style=\"margin-top: 20px; margin-bottom: 20px; width: 150px; margin-right: 7px; line-height: 1.5; border: 2px solid rgb(204, 77, 41); background-color: rgb(255, 200, 185); color: rgb(33, 37, 41); font-size: 14px; padding: 7px 20px; display: inline-block; border-radius: 3px; cursor: pointer;\">⭐ Review Audit</button><div id=\"errorMessageButtonClick\"></div></div>\r\n\r\n    const displayCategoriesOnSearchResultPage = (\r\n      businessName,\r\n      categoryArray,\r\n      listOfElementWithBusinessDetails\r\n    ) => {\r\n      for (let i = 0; i < listOfElementWithBusinessDetails.length; i++) {\r\n        if (\r\n          listOfElementWithBusinessDetails[i].innerText.trim() === businessName\r\n        ) {\r\n          let elementWithBusinessDetails =\r\n            listOfElementWithBusinessDetails[i].parentNode.parentNode.parentNode\r\n              .parentNode.parentNode.parentNode.parentNode;\r\n          removeGMBElementFromSearchPage(elementWithBusinessDetails);\r\n\r\n          const container = document.createElement(\"div\");\r\n          container.className = searchPageCategoryElementClass;\r\n          container.style.cssText =\r\n            \"position: relative; margin-top: 7px; padding-left: 24px; padding-right: 6px;\";\r\n\r\n          const title = document.createElement(\"span\");\r\n          title.textContent = \"GMB Cat.: \";\r\n          title.style.cssText =\r\n            \"display: inline-block; font-size: 12px; border-radius: .15rem; color: #212529;\";\r\n          container.appendChild(title);\r\n\r\n          categoryArray.forEach((v, i) => {\r\n            let category = document.createElement(\"span\");\r\n            category.innerHTML =\r\n              (i === 0\r\n                ? Utility.createEmojiIcon({\r\n                    iconName: \"star_icon.svg\",\r\n                    iconSize: \"10px\",\r\n                  })\r\n                : \"\") + v;\r\n            category.style.cssText =\r\n              \"display: inline-block;\" +\r\n              \"padding: .25em .25em;\" +\r\n              \"font-size: 12px;\" +\r\n              \"line-height: 1;\" +\r\n              \"text-align: center;\" +\r\n              \"white-space: nowrap;\" +\r\n              \"vertical-align: baseline;\" +\r\n              \"border-radius: .15rem;\" +\r\n              \"color: #212529;\" +\r\n              \"background-color: #ffc8b9;\" +\r\n              \"margin: 0 0 1px 1px;\";\r\n            container.appendChild(category);\r\n          });\r\n\r\n          Utility.appendCategoryTool(container, categoryArray, FlagAndConstants.gmbSearchType.mapSearchResultPane);\r\n          \r\n          container.appendChild(searchPageAuditButtonDesigns());\r\n\r\n          elementWithBusinessDetails.appendChild(\r\n            container\r\n          );\r\n        }\r\n      }\r\n    };\r\n\r\n    // This adds the search symbol to the result page.\r\n    const searchResultCheckIfLoadingSymbolThereOrAddIt = (elementList) => {\r\n      let img;\r\n      for (let i = 0; i < elementList.length; i++) {\r\n        img = document.createElement(\"img\");\r\n        img.setAttribute(\"class\", searchPageCategoryElementClass);\r\n        img.src = chrome.runtime.getURL(\"imgs/loading.gif\");\r\n        img.style.cssText =\r\n          \"height: 35px; margin-left: 0; margin-top: -8px; display: block; margin-top: 7px; padding-left:24px; padding-right: 6px;\";\r\n        let elementSectionForDetails =\r\n          elementList[i].parentNode.parentNode.parentNode.parentNode.parentNode\r\n            .parentNode.parentNode;\r\n        if (\r\n          elementSectionForDetails.querySelector(\r\n            \".\" + searchPageCategoryElementClass\r\n          ) === null\r\n        ) {\r\n          try {\r\n            elementSectionForDetails.insertBefore(\r\n              img,\r\n              elementSectionForDetails.nextSibling\r\n            );\r\n          } catch (e) {}\r\n        }\r\n      }\r\n    };\r\n\r\n    const pickupCategoriesFromSearchPage = () => {\r\n      let htmlData = document.documentElement.innerHTML;\r\n      let businessDetails = [];\r\n\r\n      const searchString = \"window.APP_INITIALIZATION_STATE=\";\r\n      const codeStart = htmlData.indexOf(searchString);\r\n      const codeEnd = htmlData.indexOf(\"window.APP_FLAGS\", codeStart);\r\n      const code = htmlData.substring(codeStart + searchString.length, codeEnd);\r\n\r\n      //slice the string to remove simicolon before parsing\r\n      const WindowInitializationState = JSON.parse(code.slice(0, -1));\r\n      const subString = WindowInitializationState[3][2];\r\n      if (subString && subString.length > 5) {\r\n        const windowArray = JSON.parse(subString.substring(5));\r\n\r\n        for (var i = 1; i < windowArray[0][1].length; i++) {\r\n          try {\r\n            businessDetails.push({\r\n              \"business-title\": windowArray[0][1][i][14][11],\r\n              \"business-address\": windowArray[0][1][i][14][2][0],\r\n              \"business-categories\": windowArray[0][1][i][14][13],\r\n            });\r\n          } catch (e) {\r\n            Logger.error(e);\r\n          }\r\n        }\r\n      }\r\n\r\n      return businessDetails;\r\n    };\r\n\r\n    const convertBusinessHtmlObjectToArray = (htmlObjectList) => {\r\n      let businessNameObject,\r\n        tempAddressValue = \"\";\r\n      let businessDetailsArray = [];\r\n      for (let i = 0; i < htmlObjectList.length; i++) {\r\n        businessNameObject = htmlObjectList[i];\r\n        try {\r\n          tempAddressValue = businessNameObject.parentNode.parentNode.parentNode\r\n            .getElementsByClassName(\"section-subtitle-extension\")[0]\r\n            .parentElement.innerText.split(\" · \")[1]\r\n            .split(\"\\n\")[0];\r\n        } catch (e) {\r\n          tempAddressValue = \"\";\r\n        }\r\n        businessDetailsArray.push({\r\n          \"business-title\": htmlObjectList[i].innerText.trim(),\r\n          \"business-address\": tempAddressValue,\r\n          \"business-page-url\":\r\n            businessNameObject.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector(\r\n              \"a\"\r\n            ).href,\r\n          \"business-categories\": \"\",\r\n        });\r\n      }\r\n      return businessDetailsArray;\r\n    };\r\n\r\n    const isTwoArraySameForOrderAndBusinessDetail = (\r\n      newBusinessArray,\r\n      existingBusinessArray\r\n    ) => {\r\n      let isDifferenceFound = false;\r\n      if (\r\n        newBusinessArray &&\r\n        existingBusinessArray &&\r\n        newBusinessArray.length !== existingBusinessArray.length\r\n      ) {\r\n        return false;\r\n      } else {\r\n        for (let i = 0; i < newBusinessArray.length; i++) {\r\n          if (\r\n            newBusinessArray[i][\"business-title\"] !==\r\n              existingBusinessArray[i][\"business-title\"] ||\r\n            newBusinessArray[i][\"business-address\"] !==\r\n              existingBusinessArray[i][\"business-address\"]\r\n          ) {\r\n            isDifferenceFound = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return !isDifferenceFound;\r\n    };\r\n\r\n    // Adding search terms to the map\r\n    const addSearchResultCategoryToMap = () => {\r\n      let newBusinessNameList = [];\r\n      let listOfElementWithBusinessDetails = document.querySelectorAll(\r\n        \"div.fontBodyMedium > div > div.fontHeadlineSmall\"\r\n      );\r\n\r\n      searchResultCheckIfLoadingSymbolThereOrAddIt(\r\n        listOfElementWithBusinessDetails\r\n      );\r\n      newBusinessNameList = convertBusinessHtmlObjectToArray(\r\n        listOfElementWithBusinessDetails\r\n      );\r\n      let temporaryIsFoundFlag;\r\n\r\n      //This is for comparing array. Done progressive checking so there is less resources used.\r\n      if (\r\n        listOfElementWithBusinessDetails.length > 0 &&\r\n        existingBusinessListOnPage.length > 0 &&\r\n        isTwoArraySameForOrderAndBusinessDetail(\r\n          newBusinessNameList,\r\n          existingBusinessListOnPage\r\n        )\r\n      ) {\r\n        return;\r\n      } else {\r\n        existingBusinessListOnPage = newBusinessNameList;\r\n      }\r\n\r\n      //This is in case the array gets too big for search.\r\n      if (searchResultItemsArray.length > 100) {\r\n        searchResultItemsArray = [];\r\n      }\r\n\r\n      for (let j = 0; j < newBusinessNameList.length; j++) {\r\n        temporaryIsFoundFlag = false;\r\n        for (let k = 0; k < searchResultItemsArray.length; k++) {\r\n          if (\r\n            searchResultItemsArray[k][\"business-title\"] ===\r\n              newBusinessNameList[j][\"business-title\"] &&\r\n            searchResultItemsArray[k][\"business-address\"] ===\r\n              newBusinessNameList[j][\"business-address\"]\r\n          ) {\r\n            temporaryIsFoundFlag = true;\r\n            newBusinessNameList[j][\"business-categories\"] =\r\n              searchResultItemsArray[k][\"business-categories\"];\r\n            break;\r\n          }\r\n        }\r\n        if (temporaryIsFoundFlag) {\r\n          displayCategoriesOnSearchResultPage(\r\n            newBusinessNameList[j][\"business-title\"],\r\n            newBusinessNameList[j][\"business-categories\"],\r\n            listOfElementWithBusinessDetails\r\n          );\r\n        } else {\r\n          findCategoriesFromUrlAndDisplay(\r\n            newBusinessNameList[j],\r\n            listOfElementWithBusinessDetails\r\n          );\r\n        }\r\n      }\r\n    };\r\n\r\n    const findCategoriesFromUrlAndDisplay = (\r\n      indivitualBusinessDetail,\r\n      listOfElementWithBusinessDetails\r\n    ) => {\r\n      callGoogleMap(indivitualBusinessDetail[\"business-page-url\"], (data) => {\r\n        try {\r\n          const onPageHTML = data;\r\n          const processedTxt =\r\n            onPageHTML && onPageHTML[3] ? onPageHTML[3][6] : \"\";\r\n          if (processedTxt && processedTxt.length > 5) {\r\n            const windowArray = JSON.parse(processedTxt.substring(5));\r\n            const categories = windowArray[6][13];\r\n\r\n            if (categories && categories.length) {\r\n              displayCategoriesOnSearchResultPage(\r\n                indivitualBusinessDetail[\"business-title\"],\r\n                categories,\r\n                listOfElementWithBusinessDetails\r\n              );\r\n              indivitualBusinessDetail[\"business-categories\"] = categories;\r\n              searchResultItemsArray.push(indivitualBusinessDetail);\r\n            } else {\r\n              displayNotFoundMessageOnSearchResultPage(\r\n                indivitualBusinessDetail[\"business-title\"],\r\n                listOfElementWithBusinessDetails\r\n              );\r\n            }\r\n          } else {\r\n            displayNotFoundMessageOnSearchResultPage(\r\n              indivitualBusinessDetail[\"business-title\"],\r\n              listOfElementWithBusinessDetails\r\n            );\r\n          }\r\n        } catch {\r\n          displayNotFoundMessageOnSearchResultPage(\r\n            indivitualBusinessDetail[\"business-title\"],\r\n            listOfElementWithBusinessDetails\r\n          );\r\n        }\r\n      });\r\n    };\r\n\r\n    //---------------------------------------------\r\n\r\n    (function () {\r\n      Utility.setHeaderStyles(Utility.gmbCategoryClass);\r\n      let url = new URL(window.location.href);\r\n\r\n      const getAdminSectionBusinessName = () => { \r\n        //for unverified business\r\n        var unverifiedBusiness = document.querySelector(\"section>div[data-ved]  div[role='heading']\")\r\n        if(unverifiedBusiness) {\r\n          return unverifiedBusiness?.textContent;\r\n        }\r\n\r\n        const business = document.querySelector(\"form[action='/search'][role='search'] textarea[name='q']\");\r\n        if (business) {\r\n          return business?.value;\r\n        }\r\n        return \"\";\r\n      };\r\n\r\n      //Pick value directly for categories.\r\n      if (\r\n        window.location.href.toString().indexOf(\"/maps\") !== -1 ||\r\n        window.location.href.toString().indexOf(\"maps.google\") !== -1\r\n      ) {\r\n        let isTeleportSearch = document.URL.includes(\"gevercode\");\r\n        if (\r\n          window.location.href.toString().indexOf(\"/maps/search/\") != -1 &&\r\n          !isTeleportSearch\r\n        ) {\r\n          searchResultItemsArray = searchResultItemsArray.concat(\r\n            pickupCategoriesFromSearchPage()\r\n          );\r\n        } else {\r\n          findBusinessRankForTeleport(FlagAndConstants.codeConstants);\r\n        }\r\n\r\n        setInterval(() => {\r\n          if (\r\n            FlagAndConstants.flag.individualPage &&\r\n            window.location.href.toString().indexOf(\"/maps/place/\") != -1\r\n          ) {\r\n            if (\r\n              (!propertyName && getCurrentPropertyName()) ||\r\n              (propertyName && !isSamePropertyName())\r\n            ) {\r\n              propertyName = getCurrentPropertyName();\r\n              setGmbCategoryValue(loadingTxt);\r\n              modifyPage();\r\n            }\r\n\r\n            if (\r\n              document.querySelectorAll(\r\n                \"div.fontBodyMedium > div > div.fontHeadlineSmall\"\r\n              ).length > 0\r\n            ) {\r\n              try {\r\n                addSearchResultCategoryToMap();\r\n                appendLocalScanButton();\r\n              } catch (e) {\r\n                isContinueExecuting = true;\r\n                document\r\n                  .querySelectorAll(\".\" + searchPageCategoryElementClass)\r\n                  .forEach((e) => e.remove());\r\n                Logger.error(e);\r\n              }\r\n            }\r\n          } else if (\r\n            FlagAndConstants.flag.searchPage &&\r\n            isContinueExecuting &&\r\n            window.location.href.toString().indexOf(\"/maps/search/\") != -1 &&\r\n            !isTeleportSearch\r\n          ) {\r\n            try {\r\n              addSearchResultCategoryToMap();\r\n              appendLocalScanButton();\r\n\r\n            } catch (e) {\r\n              isContinueExecuting = false;\r\n              document\r\n                .querySelectorAll(\".\" + searchPageCategoryElementClass)\r\n                .forEach((e) => e.remove());\r\n              Logger.error(e);\r\n            }\r\n          }\r\n        }, 1000);\r\n      } else if (\r\n        FlagAndConstants.flag.localFinder &&\r\n        LocalFinder.isLocalFinder()\r\n      ) {\r\n        LocalFinder.showAuditButtonOnSearchResultPane();\r\n        LocalFinder.attachLocalScanToLocalFinder();\r\n        setInterval(() => {\r\n          if (LocalFinder.validateBusiness()) {\r\n            LocalFinder.execute();\r\n          }\r\n        }, 1000);\r\n        // Condition for showing button on the google search result page below.\r\n      } else if (\r\n        (FlagAndConstants.flag.googleSearchResultPageBasicAudit ||\r\n          FlagAndConstants.flag.googleSearchResultPageReviewAudit ||\r\n          FlagAndConstants.flag.googleSearchResultPagePostAudit || \r\n          FlagAndConstants.flag.googleSearchResultPageLocalScan) &&\r\n        url.searchParams.has(\"q\") &&\r\n        url.pathname.indexOf(\"/search\") === 0 &&\r\n        !url.searchParams.get(\"ge-mode\")\r\n      ) {\r\n        let webElementContainingMap;\r\n        setTimeout(() => {\r\n\r\n          if (FlagAndConstants.flag.gmbAdminSection) {\r\n            try {\r\n              // Admin Section\r\n              let isButtonInAdminQandASectionAdded = false;\r\n              let isButtonInAdminUnpublishedQandASectionAdded = false;\r\n              let isButtonInAdminTilesAdded = false;\r\n              let isButtonInAdminReviewsAdded = false;\r\n              setInterval(() => {\r\n                // cannot end the interval as the modal can be closed and reopened without refresh\r\n                // wrap in try catch each section to still allow other buttons to be added\r\n\r\n                try {\r\n                  // Google Business: Admin Section > Edit Profile\r\n                  if (window.location.href.indexOf(\"mpd=editprofile/info\") !== -1 || \r\n                    // this is for unpublished business (Not Publicly Visible) \r\n                    // they have different url format e.g #mpd=~10098141485292717275/editprofile/info\r\n                    (window.location.href.indexOf(\"mpd=\") !== -1 && window.location.href.indexOf(\"/editprofile/info\") !== -1)) {\r\n                    const iframeElement = document.querySelector('iframe[sandbox][src]');\r\n                    if (iframeElement) {\r\n                      const iframeDocument = iframeElement?.contentDocument || iframeElement?.contentWindow?.document;\r\n\r\n                      const businessName = getAdminSectionBusinessName();\r\n                      if(iframeDocument) {\r\n                        const businessCategoryParent = iframeDocument.querySelector(\"[data-verified-origin]  main > div > div > div > div > div > div > section:nth-of-type(2) > div > div > div\");\r\n                        let adminBusinessCategories = [];\r\n                        const businessCategoryToolButton = businessCategoryParent?.querySelector('.btn-gmb-category-tool');\r\n                        if(businessCategoryParent && !businessCategoryToolButton) {\r\n                          businessCategoryParent.style.setProperty(\"display\", \"flex\", \"important\");\r\n                          businessCategoryParent.style.setProperty(\"flex-direction\", \"row\", \"important\");\r\n                          businessCategoryParent.style.setProperty(\"justify-content\", \"flex-start\", \"important\");\r\n\r\n                          //get categories\r\n                          if (businessCategoryParent.nextElementSibling && businessCategoryParent.nextElementSibling.querySelectorAll(\"ul>li\").length > 0) {\r\n                            businessCategoryParent.nextElementSibling.querySelectorAll(\"ul>li\").forEach((li) => {\r\n                              var span = li.querySelector('span');\r\n                              if (span) {\r\n                                  var category = span.textContent;\r\n                                  adminBusinessCategories.push(category);\r\n                              }\r\n                            });\r\n\r\n                            const container = document.createElement(\"div\");\r\n                            Utility.appendCategoryTool(container, adminBusinessCategories, FlagAndConstants.gmbSearchType.gmbEditProfileAdmin);\r\n                            businessCategoryParent.appendChild(container);\r\n                          }\r\n                        }\r\n                        \r\n                        // Area: edit business categories\r\n                        const editBusinessCategoryParent = iframeDocument.querySelector(\"[data-verified-origin]  main > div > div > div > div > div > div > section:nth-of-type(2) > div\")?.nextElementSibling?.querySelector('div > div > div');\r\n                        const editBusinessGmbCategoryButton = editBusinessCategoryParent?.querySelector('.btn-gmb-category-tool');\r\n                        if(editBusinessCategoryParent && !editBusinessGmbCategoryButton) {\r\n                          editBusinessCategoryParent.style.setProperty(\"display\", \"flex\", \"important\");\r\n                          editBusinessCategoryParent.style.setProperty(\"flex-direction\", \"row\", \"important\");\r\n                          editBusinessCategoryParent.style.setProperty(\"justify-content\", \"flex-start\", \"important\");\r\n\r\n                          const container = document.createElement(\"div\");\r\n                          container.style.marginLeft = '10px';\r\n                          Utility.appendCategoryTool(container, adminBusinessCategories, FlagAndConstants.gmbSearchType.gmbEditProfileAdmin);\r\n                          editBusinessCategoryParent.appendChild(container);\r\n                        }\r\n\r\n                        // Area: edit business - add another category button\r\n                        var addAnotherCategoryParent = iframeDocument.querySelector(\"[data-verified-origin]  main > div > div > div > div > div > div > section:nth-of-type(2) > div\")\r\n                        ?.nextElementSibling?.querySelector('div > div > div')\r\n                        ?.nextElementSibling?.querySelector('section > div')\r\n                        ?.nextElementSibling?.querySelector('div');\r\n                        var addAnotherCategory = addAnotherCategoryParent?.querySelector('div > div:nth-of-type(2)')?.nextElementSibling;\r\n                        const addAnotherCategoryButton = addAnotherCategoryParent?.querySelector('.btn-gmb-category-tool');\r\n                        if(addAnotherCategory && !addAnotherCategoryButton) {\r\n\r\n                          // get categories\r\n                          var categories = [];\r\n                          var categoryElements = addAnotherCategoryParent?.querySelector('div > div:nth-of-type(2)')?.querySelectorAll(\"label > input\");\r\n                          categoryElements?.forEach((input) => {\r\n                            const categoryText = input?.value;\r\n                            if(categoryText) {\r\n                              categories.push(categoryText);\r\n                            }\r\n                          });\r\n\r\n                          const container = document.createElement(\"div\");\r\n                          Utility.appendCategoryTool(container, categories, FlagAndConstants.gmbSearchType.gmbEditProfileAdmin);\r\n                          addAnotherCategory.style.display = \"inline-block\";\r\n                          container.style.display =  \"inline-block\";\r\n                          addAnotherCategory.parentNode.insertBefore(container, addAnotherCategory.nextSibling);\r\n                        }\r\n\r\n                        // Area: description\r\n                        const generateDescriptionParent = iframeDocument.querySelector(\"[data-verified-origin]  main > div > div > div > div > div > div > section:nth-of-type(3) > div > div > div\");\r\n                        const generateDescriptionButton = generateDescriptionParent?.querySelector('.btn-gmb-generate-desc');\r\n                        if(generateDescriptionParent && !generateDescriptionButton) {\r\n                          generateDescriptionParent.style.setProperty(\"display\", \"flex\", \"important\");\r\n                          generateDescriptionParent.style.setProperty(\"flex-direction\", \"row\", \"important\");\r\n                          generateDescriptionParent.style.setProperty(\"justify-content\", \"flex-start\", \"important\");\r\n\r\n                          const generateDescriptionButtonContainer = document.createElement(\"div\");\r\n                          Utility.appendGenerateDescriptionButton(generateDescriptionButtonContainer, businessName);\r\n                          generateDescriptionParent.appendChild(generateDescriptionButtonContainer);\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                } catch {}\r\n\r\n                try {\r\n                  // Google Business: Admin Section > Add Update\r\n                  const addUpdateUrlChecks = [\r\n                    \"mpd=promote/updates/menu\",\r\n                    \"mpd=promote/updates/add\",\r\n                    \"mpd=promote/offers/add\",\r\n                    \"mpd=promote/events/add\",\r\n                  ];\r\n\r\n                  if (addUpdateUrlChecks.some(value => window.location.href.indexOf(value) !== -1)) \r\n                  {\r\n                    const iframeElement = document.querySelector('iframe[sandbox][src]');\r\n                    const businessName = getAdminSectionBusinessName();\r\n                    if (iframeElement) {\r\n                      const iframeDocument = iframeElement?.contentDocument || iframeElement?.contentWindow?.document;\r\n\r\n                      if(iframeDocument) {\r\n                        const addUpdateHeaderParent =  iframeDocument.querySelector(\"header > h1\");\r\n                        const addUpdateHeaderGmbPostButton = addUpdateHeaderParent?.querySelector('.btn-gmb-generate-post');\r\n                        if(addUpdateHeaderParent && !addUpdateHeaderGmbPostButton) {\r\n                          addUpdateHeaderParent.style.setProperty(\"display\", \"flex\", \"important\");\r\n                          addUpdateHeaderParent.style.setProperty(\"flex-direction\", \"row\", \"important\");\r\n                          addUpdateHeaderParent.style.setProperty(\"justify-content\", \"flex-start\", \"important\");\r\n\r\n                          const generatePostButtonContainer = document.createElement(\"div\");\r\n                          Utility.appendGeneratePostButton(generatePostButtonContainer, businessName);\r\n                          addUpdateHeaderParent.appendChild(generatePostButtonContainer);\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                } catch {}\r\n\r\n                try {\r\n                  // Google Business: Admin Section > Q & A\r\n                  if (window.location.href.indexOf(\"lpqa=\") !== -1) {\r\n                    var qaElement = document.querySelector(\"span[jsslot]>div>div[id][data-async-context][data-jiis][data-async-context-required] > div>div>div>div>div>div\");\r\n                    if (qaElement && !isButtonInAdminQandASectionAdded) {\r\n                      qaElement.style.setProperty(\"display\", \"flex\", \"important\");\r\n                      qaElement.style.setProperty(\"flex-direction\", \"row\", \"important\");\r\n                      qaElement.style.setProperty(\"justify-content\", \"flex-start\", \"important\");\r\n\r\n                      const generateQandAButtonContainer = document.createElement(\"div\");\r\n                      const businessName = getAdminSectionBusinessName();\r\n                      Utility.appendGenerateQandAButton(generateQandAButtonContainer, businessName);\r\n                      qaElement.appendChild(generateQandAButtonContainer);\r\n\r\n                      qaElement.childNodes[0].nodeValue = Utility.truncateText(businessName, 25);\r\n\r\n                      isButtonInAdminQandASectionAdded = true;\r\n                    }\r\n                  } else {\r\n                    isButtonInAdminQandASectionAdded = false;\r\n                  }\r\n                } catch {}\r\n\r\n                try {\r\n                  // Google Business: Admin Section > Q & A - unpublished business\r\n                  // it has different logic than the published business as this one is an iframe\r\n                  if (window.location.href.indexOf(\"mpd=\") !== -1 && window.location.href.indexOf(\"/customers/questions/unpublished\") !== -1) {\r\n                    const iframeElement = document.querySelector('iframe[sandbox][src]');\r\n\r\n                    if (iframeElement && !isButtonInAdminUnpublishedQandASectionAdded) {\r\n                      const iframeDocument = iframeElement?.contentDocument || iframeElement?.contentWindow?.document;\r\n\r\n                      if(iframeDocument) {\r\n                        const qaHeaderParent =  iframeDocument.querySelector(\"header > h1\");\r\n                        if(qaHeaderParent) {\r\n                          qaHeaderParent.style.setProperty(\"display\", \"flex\", \"important\");\r\n                          qaHeaderParent.style.setProperty(\"flex-direction\", \"row\", \"important\");\r\n                          qaHeaderParent.style.setProperty(\"justify-content\", \"flex-start\", \"important\");\r\n\r\n                          const generateQandAButtonContainer = document.createElement(\"div\");\r\n                          const businessName = getAdminSectionBusinessName();\r\n                          Utility.appendGenerateQandAButton(generateQandAButtonContainer, businessName);\r\n                          qaHeaderParent.appendChild(generateQandAButtonContainer);\r\n\r\n                          isButtonInAdminUnpublishedQandASectionAdded = true;\r\n                        }\r\n                      }\r\n                    }\r\n                  } else {\r\n                    isButtonInAdminUnpublishedQandASectionAdded = false;\r\n                  }\r\n                } catch {}\r\n\r\n                try {\r\n                  // admin section tiles\r\n                  if (window.location.href.indexOf(\"mat=\") !== -1) {\r\n                    const tilesParent = document.querySelector(\"section[data-nagarde][data-nagide][data-ved] > div > div > ul\");\r\n                    if(tilesParent && !isButtonInAdminTilesAdded) {\r\n                      const tilesButton = tilesParent.querySelectorAll(\"li\")[0].querySelector(\"button\");\r\n                      if(tilesButton) {\r\n                        const aiToolsContainer = document.createElement(\"li\");\r\n                        aiToolsContainer.className = tilesParent.querySelector(\"li\").className;\r\n                        aiToolsContainer.style.cssText = `\r\n                          background-color: rgb(255, 200, 185);\r\n                          border: 2px solid rgb(204, 77, 41);\r\n                          border-radius: 3px;\r\n                        `;\r\n                        \r\n                        const businessName = getAdminSectionBusinessName();\r\n                        Utility.appendAIToolsButton(tilesButton, aiToolsContainer, businessName);\r\n                        tilesParent.appendChild(aiToolsContainer);\r\n        \r\n                        isButtonInAdminTilesAdded = true;\r\n                      }\r\n                    }\r\n                  } else {\r\n                    isButtonInAdminTilesAdded = false;\r\n                  }\r\n                } catch {}\r\n\r\n                try {\r\n                  // admin section > Read Reviews\r\n                  if (window.location.href.indexOf(\"&mat=\") !== -1 && \r\n                    (window.location.href.indexOf(\"lrd=\") !== -1 || \r\n                    (window.location.href.indexOf(\"mpd=\") !== -1 && window.location.href.indexOf(\"/customers/reviews\") !== -1))) \r\n                  {\r\n                    // v1 display of read reviews\r\n                    const reviewSection = document.querySelector(\"div[data-google-review-count][data-next-page-token]\");\r\n                    if (reviewSection && !isButtonInAdminReviewsAdded) {\r\n                      const reviews = document.querySelector(\"div[data-google-review-count][data-next-page-token]\")?.childNodes;\r\n                      if(reviews?.length > 0) {\r\n                        reviews.forEach((review) => {\r\n                          const replyContainer = review.querySelector(\":scope > div:nth-child(3)\");\r\n                          if(replyContainer) {\r\n                            const reviewText = review.querySelector(\"span[data-expandable-section]\")?.textContent;\r\n                            const generateReplyButtonContainer = document.createElement(\"div\");\r\n                            Utility.appendGenerateReplyButton(generateReplyButtonContainer, reviewText);\r\n        \r\n                            const buttons = replyContainer.querySelectorAll(\"button\");\r\n                            if (buttons.length > 1) {\r\n                              replyContainer.querySelector(\"div\").insertBefore(generateReplyButtonContainer, buttons[1]);\r\n                            } else {\r\n                              replyContainer.appendChild(generateReplyButtonContainer);\r\n                            }\r\n                            isButtonInAdminReviewsAdded = true;\r\n                          }\r\n                        });\r\n                      }\r\n                    }\r\n\r\n                    // v2 display of read reviews\r\n                    const iframeElement = document.querySelector('iframe[sandbox][src]');\r\n                    if(iframeElement) {\r\n                      const iframeDocument = iframeElement?.contentDocument || iframeElement?.contentWindow?.document;\r\n                      if(iframeDocument) {\r\n                        const reviews2 = iframeDocument.querySelectorAll(\"c-wiz[c-wiz] > div > article\");\r\n                        if(reviews2?.length > 0) {\r\n                          reviews2.forEach((review) => {\r\n                            const replyContainer2 = review.nextSibling.querySelector(\"button\").parentElement;\r\n                            const generateReplyButton = replyContainer2.querySelector('.btn-gmb-generate-reply');\r\n                            if(replyContainer2 && !generateReplyButton) {\r\n                                const reviewText = review.querySelector(\"span[id] > span\")?.nextSibling?.textContent\r\n                                const generateReplyButtonContainer = document.createElement(\"div\");\r\n                                const buttons = replyContainer2.querySelectorAll(\"button\");\r\n                                if (buttons.length > 1) {\r\n                                  // this is to check the style of the review \"reply\" button, in order to determine \r\n                                  // which \"generate reply\" button to show\r\n                                  const buttonVersion = buttons[0].querySelector(\"svg\") ? 1 : 2;\r\n                                  Utility.appendGenerateReplyButton(generateReplyButtonContainer, reviewText, buttonVersion);\r\n                                  replyContainer2.insertBefore(generateReplyButtonContainer, buttons[1]);\r\n                                } else {\r\n                                  // appear in \"all\", \"replied\", \"unreplied\" tabs\r\n                                  Utility.appendGenerateReplyButton(generateReplyButtonContainer, reviewText);\r\n                                  replyContainer2.appendChild(generateReplyButtonContainer);\r\n                                }\r\n                                isButtonInAdminReviewsAdded = true;\r\n                            }\r\n                          });\r\n                        }\r\n\r\n                        // \"reply to reviews\" area\r\n                        const replyToReview = iframeDocument.querySelector('c-wiz > div > div > article');\r\n                        const replyToReviewParent = iframeDocument.querySelector('c-wiz > div > div > article')?.parentElement;\r\n                        const generateReplyButton = replyToReviewParent?.querySelector('.btn-gmb-generate-reply');\r\n                        if(replyToReview && !generateReplyButton) {\r\n                          const replyToReviewTxt = replyToReview.querySelector(\"span[id] > span\")?.nextElementSibling?.innerText;\r\n                          const replyContainer = replyToReviewParent.querySelector(\"section > div\").nextElementSibling;\r\n                          const buttons = replyContainer.querySelectorAll(\"button\");\r\n\r\n                          const generateReplyButtonContainer = document.createElement(\"div\");\r\n                          Utility.appendGenerateReplyButton(generateReplyButtonContainer, replyToReviewTxt, 3);\r\n                          replyContainer.insertBefore(generateReplyButtonContainer, buttons[1]);\r\n                        }\r\n\r\n                        // modal header \r\n                        const readReviewsHeaderParent =  iframeDocument.querySelector(\"header > h1\");\r\n                        const readReviewsHeaderGmbReplyButton = readReviewsHeaderParent?.querySelector('.btn-gmb-generate-reply');\r\n                        if(readReviewsHeaderParent && !readReviewsHeaderGmbReplyButton) {\r\n                          readReviewsHeaderParent.style.setProperty(\"display\", \"flex\", \"important\");\r\n                          readReviewsHeaderParent.style.setProperty(\"flex-direction\", \"row\", \"important\");\r\n                          readReviewsHeaderParent.style.setProperty(\"justify-content\", \"flex-start\", \"important\");\r\n\r\n                          const generateReplyButtonContainer = document.createElement(\"div\");\r\n                          Utility.appendGenerateReplyButton(generateReplyButtonContainer, '', 4);\r\n                          readReviewsHeaderParent.appendChild(generateReplyButtonContainer);\r\n                        }\r\n                      }\r\n                    }\r\n                  } else {\r\n                    isButtonInAdminReviewsAdded = false;\r\n                  }\r\n                } catch {}\r\n\r\n                try {\r\n                  // admin section > edit services\r\n                  if (window.location.href.indexOf(\"mpd=\") !== -1 && window.location.href.indexOf(\"/editprofile/services\") !== -1) {\r\n                    const iframeElement = document.querySelector('iframe[sandbox][src]');\r\n                    if (iframeElement) {\r\n                      const iframeDocument = iframeElement?.contentDocument || iframeElement?.contentWindow?.document;\r\n                      \r\n                      if(iframeDocument) {\r\n                        const editServicesParent =  iframeDocument.querySelector(\"header > h1\");\r\n                        const editServicesGmbServiceButton = editServicesParent?.querySelector('.btn-gmb-category-tool');\r\n                        if(editServicesParent && !editServicesGmbServiceButton) {\r\n                          editServicesParent.style.setProperty(\"display\", \"flex\", \"important\");\r\n                          editServicesParent.style.setProperty(\"flex-direction\", \"row\", \"important\");\r\n                          editServicesParent.style.setProperty(\"justify-content\", \"flex-start\", \"important\");\r\n\r\n                          // const categorySections = iframeDocument.querySelectorAll(\"main > div > div > div > div > section\");\r\n                          const categorySections = iframeDocument.querySelectorAll(\"main section\");\r\n                          if (categorySections) {\r\n                            let categories = [];\r\n                            categorySections.forEach((section) => {\r\n                              const categoryText = section.querySelector(\"span[id][role]\")?.textContent\r\n                              if (categoryText) {\r\n                                categories.push(categoryText);\r\n                              }\r\n                            });\r\n\r\n                            const container = document.createElement(\"div\");\r\n                            Utility.appendCategoryTool(container, categories, FlagAndConstants.gmbSearchType.gmbEditServicesAdmin);\r\n                            editServicesParent.appendChild(container);\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                } catch {}\r\n\r\n              }, 3000);\r\n            } catch {}\r\n          } \r\n\r\n          try {\r\n            if (\r\n              (webElementContainingMap =\r\n                LocalFinder.loopAndSeeIfMapSectionAnywhereOnPage())\r\n            ) {\r\n              //assigning value\r\n              LocalFinder.displayButtonOnMapSection(webElementContainingMap);\r\n            } else if (\r\n              (webElementContainingMap =\r\n                LocalFinder.loopAndSeeIfMapSectionAnywhereOnPage_v4())\r\n            ) {\r\n              LocalFinder.displayButtonOnMapSection_v3(webElementContainingMap);\r\n            } else if (\r\n              (webElementContainingMap =\r\n                LocalFinder.loopAndSeeIfMapSectionAnywhereOnPage_v5())\r\n            ) {\r\n              LocalFinder.displayButtonOnMapSection_v3(webElementContainingMap);\r\n            } \r\n            else if (\r\n              (webElementContainingMap =\r\n                LocalFinder.loopAndSeeIfMapSectionAnywhereOnPage_v2())\r\n            ) {\r\n              LocalFinder.displayButtonOnMapSection_v2(webElementContainingMap);\r\n            } else if (\r\n              (webElementContainingMap =\r\n                LocalFinder.loopAndSeeIfMapSectionAnywhereOnPage_v3())\r\n            ) {\r\n              LocalFinder.displayButtonOnMapSection_v3(webElementContainingMap);\r\n            } else if (\r\n              (webElementContainingMap =\r\n                LocalFinder.loopAndSeeIfMapSectionAnywhereOnPage_v6())\r\n            ) {\r\n              LocalFinder.displayButtonOnMapSection_v3(webElementContainingMap);\r\n              attachLocalScanToGoogleSearchResult(webElementContainingMap);\r\n            }\r\n          } catch (e) {}\r\n        }, 1000);\r\n      } else if (\r\n        url.pathname.indexOf(\"/search\") === 0 &&\r\n        url.searchParams.get(\"ge-mode\") ===\r\n          FlagAndConstants.geMode[\"scrapping-review-page\"][\"ge-mode\"]\r\n      ) {\r\n        try {\r\n          if (\r\n            url.searchParams.get(\"unique-code\") &&\r\n            url.searchParams.get(\"number-of-reviews\")\r\n          ) {\r\n            Utility.createFullPageLoader(\r\n              \"GMB Everywhere is processing.<br>Stay on this tab to continue processing.\"\r\n            );\r\n            // find review audit modal\r\n            const intervalTime = 500;\r\n            const maxAttempts = 40;\r\n            Utility.checkIfElementExists(\r\n              \".review-dialog-body\",\r\n              intervalTime,\r\n              maxAttempts,\r\n              () => {\r\n                RetrieveReviews.ScrollThroughReviewsAndForward();\r\n              },\r\n              () => {\r\n                Utility.createFullPageLoader(\r\n                  \"An error occured. Please try again.\", true\r\n                );\r\n\r\n                Utility.forwardToErrorPage({\r\n                  auditType: 'review-audit',\r\n                  errorType: 'eu-dma',\r\n                  newTab: false\r\n                });\r\n\r\n                return;\r\n              }\r\n            );\r\n          } else {\r\n            Utility.createFullPageLoader(\r\n              \"An error occured. Please try again.\", true\r\n            );\r\n          }\r\n        } catch (e) {\r\n          Utility.createFullPageLoader(\r\n            \"An error occured. Please try again.\", true\r\n          );\r\n        }\r\n      } else if (\r\n        url.pathname.indexOf(\"/search\") === 0 &&\r\n        url.searchParams.get(\"ge-mode\") ===\r\n          FlagAndConstants.geMode[\"scrapping-post-page\"][\"ge-mode\"]\r\n      ) {\r\n        try {\r\n          RetrievePost.forwardToPostPage();\r\n        } catch (e) {\r\n          Utility.createFullPageLoader(\r\n            \"An error occured. Please try again.\", true\r\n          );\r\n        }\r\n      }\r\n    })();\r\n  } catch (e) {\r\n    isContinueExecuting = false;\r\n    document\r\n      .querySelectorAll(\".\" + searchPageCategoryElementClass)\r\n      .forEach((e) => e.remove());\r\n    Logger.error(e);\r\n  }\r\n})();\r\n/*\r\nadd in webpack.config.js to allow debug (npm run dev)\r\ndevtool: 'cheap-module-source-map'\r\nUncaught EvalError: Refused to evaluate a string as JavaScript because 'unsafe-eval'\r\nis not an allowed source of script in the following Content Security Policy directive: \"script-src 'self'\".\r\n*/"],"names":[],"sourceRoot":""}